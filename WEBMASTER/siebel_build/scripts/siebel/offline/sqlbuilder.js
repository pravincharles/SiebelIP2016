/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2014
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET9 */
if(typeof(SiebelApp.SqlBuilder)==="undefined"){SiebelJS.Namespace("SiebelApp.SqlBuilder");SiebelApp.SqlBuilder=(function(){var b=SiebelApp.Offlineconstants;var d=b.get("STRINGNULL");var a=b.get("STRINGUNDEFINED");var f=SiebelApp.OfflineUtils;var e;var c=function(){var g;c=function(){return g};c.prototype=this;g=new c();g.constructor=c;return g};e=new c();c.prototype.BuildWhereClause=function(m,h,n,g,j){switch(m){case"=":case"<":case">":case">=":case"<=":case"!=":if(g){g="( "+g;if(j){g=" "+g+" "+j+" "}else{g=g+" AND "}}else{g="("}g=g+" "+h+" "+m+" "+n;g=g+")";break;case"IN":if(typeof n==="string"){if(g){g="( "+g;if(j){g=" "+g+" "+j+" "}else{g=g+" AND "}}else{g="("}g=g+" "+h+" IN "+n;g=g+")"}else{var l=n.length;if(l>0){if(g){g="( "+g;if(j){g=" "+g+" "+j+" "}else{g=g+" AND "}}else{g="("}g=g+" "+h+" IN (";g=g+"'"+n[0]+"'";for(var k=1;k<l;k++){g+=" , ";g=g+"'"+n[k]+"'"}g=g+" )";g=g+")"}}}return g};c.prototype.AddFields=function(h){h=f.RemoveNonAlphaChars(h);var g="DROP TABLE IF EXISTS "+h;return g};c.prototype.UpdateRecord=function(s,m,k,g,t,j,h,n){s=f.RemoveNonAlphaChars(s);var p="";var o="UPDATE "+s+" SET ";if(m){var r=m.length;var q=null;for(var l=0;l<r;l++){if(j){q=j.indexOf(m[l])}if(j&&q!==-1){if(h[q]===d||h[q]===a){o+=m[l]+" = ("+m[l]+' || ",'+n[q]+'")';if(l<r-1){o+=", "}}else{o+=" "+m[l];o+=" = REPLACE("+m[l]+',"'+h[q]+'","'+n[q]+'")';if(l<r-1){o+=", "}}}else{o+=' "'+m[l]+'"';if(k[l]){p=k[l].toString();p=(p)?p.replace(/'/g,"''"):""}else{p=""}o+=" = '"+p+"'";if(l<r-1){o+=", "}}}}if(g){o+="  WHERE   ";o+=' "'+g;o+='" = ?'}return o};c.prototype.CreateTable=function(p,h,n,g){var m=0;p=f.RemoveNonAlphaChars(p);var o="CREATE TABLE IF NOT EXISTS "+p+" (";if(h){o+=" RecordNum INTEGER PRIMARY KEY ASC, ";for(var k=0;k<h.length;k++){o+=' "'+h[k]+'" TEXT DEFAULT ""';if(m<h.length-1){o+=", ";m++}}if(g){o+=",CONSTRAINT AB UNIQUE (Id)";if(n){var j=n.split(",");var l=j.length;n='"'+j[0]+'"';for(var k=1;k<l;k++){n+=',"'+j[k]+'"'}o+=",CONSTRAINT ABC UNIQUE ("+n+")"}}o+=")";return o}};c.prototype.DeleteRecords=function(k,j,o,m){var h;k=f.RemoveNonAlphaChars(k);h="DELETE FROM "+k;if(j){var i=" WHERE ";var g=j.length;for(var l=0;l<g;l++){if(l>0){i+=" "+o+" "}if(m){i+='"'+j[l]+'"  '+m+" ?"}else{i+='"'+j[l]+'"  = ?'}}h=h+i}return h};c.prototype.DeleteMutlipleRecord=function(i,h,j){var g;i=f.RemoveNonAlphaChars(i);g="delete FROM "+i+' WHERE "'+h+'" IN('+j+")";return g};c.prototype.DeleteTable=function(h){h=f.RemoveNonAlphaChars(h);var g="DROP TABLE IF EXISTS "+h;return g};c.prototype.DeleteFilterRecord=function(h,g,k,j){h=f.RemoveNonAlphaChars(h);var i={};i.query="DELETE  FROM "+h+' WHERE "'+g+'"  <= (SELECT "'+g+'" FROM '+h+' WHERE "'+k+'" = ? )';i.value=[j];return i};c.prototype.SelectFilterRecord=function(h,g,k,i){h=f.RemoveNonAlphaChars(h);var j={};if(i!==""){j.query="SELECT *  FROM "+h+' WHERE "'+g+'"  > (SELECT "'+g+'" FROM '+h+' WHERE "'+k+'" = ? )';j.value=[i]}else{j.query="SELECT *  FROM "+h;j.value=[]}return j};c.prototype.SelectRecord=function(C,h,u,o,x,D){var s;var E="";var p="";var r;var m=[];var k={};var l=[];if(typeof C==="string"){C=[C]}for(var q=0;q<C.length;q++){C[q]=f.RemoveNonAlphaChars(C[q]);if(l){l+=C[q]+","}else{l=C[q]+","}}l=l.substring(0,l.length-1);if(!u||!(u.length)){s="SELECT * FROM "+l}else{var g=u.length;for(var z=0;z<g;z++){if(E){E+='"'+u[z]+'" ,'}else{E='"'+u[z]+'" ,'}}E=E.substring(0,E.length-1);s="SELECT "+E+" FROM "+l}if(typeof h==="string"){s+=" WHERE "+h}else{if(h&&h.length>0){s+=" WHERE ";var y=h.length;for(var v=0;v<y;v++){if(h[v].PreLogic){s+=" "+h[v].PreLogic+" "}if(!h[v].Oper){h[v].Oper="="}if(h[v].IsField){s+='"'+h[v].FieldName+'" '+h[v].Oper+" "+h[v].Val+" "}else{if(C.length>1){s+='"'+h[v].FieldName+'" '+h[v].Oper+" ? "}else{s+='"'+f.RemoveNonAlphaChars(h[v].FieldName)+'" '+h[v].Oper+" ? "}m.push(h[v].Val)}}}}if(o&&o.length>0){var A=o.length;var B;for(var w=0;w<A;w++){B=o[w];if(C.length===1){B=f.RemoveNonAlphaChars(B)}if(p){p+='"'+B+'" ,'}else{p='"'+B+'" ,'}}p=p.substring(0,p.length-1);if(x){r=" ORDER BY "+p+" "+x}else{r=" ORDER BY "+p}s+=r}if(D){s+=" LIMIT "+D[0]+" ,"+D[1]}k.selectQuery=s;k.valList=m;return k};c.prototype.SelectRecordPopulateWS=function(F,h,w,o,B,G){var v;var J="";var p="";var s;var m=[];var k={};var l=[];if(typeof F==="string"){F=[F]}for(var r=0;r<F.length;r++){F[r]=f.RemoveNonAlphaChars(F[r]);if(l){l+=F[r]+","}else{l=F[r]+","}}l=l.substring(0,l.length-1);if(!w||!(w.length)){v="SELECT * FROM "+l}else{var g=w.length;for(var C=0;C<g;C++){if(J){J+=w[C]+" ,"}else{J=w[C]+" ,"}}J=J.substring(0,J.length-1);v="SELECT "+J+" FROM "+l}var I;if(h&&h.length>0){v+=" WHERE ";var y=v;var A=h.length;for(var x=0;x<(A-1);x++){if(h[x].indexOf(b.get("EXISTS"))!==-1){I=h[x].replace("EXISTS","");v+=(b.get("EXISTS")+" ( "+y+I+" ) AND ")}else{v+=("( "+h[x]+" ) AND ")}}if(h[x].indexOf(b.get("EXISTS"))!==-1){I=h[x].replace("EXISTS","");v+=(b.get("EXISTS")+" ( "+y+I+" )")}else{v+=("( "+h[x]+" )")}}if(o&&o.length>0){var D=o.length;var E;var H;var q;for(var z=0;z<D;z++){E=o[z];H=E.split(" ");q=null;if(H.length>=3){E=H[0];q=H[H.length-1]}var u=E.search(/\W/g);if(p){if(u===-1){p+='"'+E+'"'}else{p+=E}}else{if(u===-1){p='"'+E+'"'}else{p=E}}if(q){p+=" "+q}p+=","}p=p.substring(0,p.length-1);if(B){s=" ORDER BY "+p+" "+B}else{s=" ORDER BY "+p}v+=s}if(G){v+=" LIMIT "+G[0]+" ,"+G[1]}k.selectQuery=v;k.valList=m;return k};c.prototype.InsertRecord=function(r,k,q){var o=0;var p={};r=f.RemoveNonAlphaChars(r);var l="INSERT INTO "+r+" (";var g=k.length;for(var n=0;n<g;n++){l+=' "'+k[n]+'"';if(o<g-1){l+=", ";o++}}l+=") VALUES (";o=0;var h=q.length;for(var m=0;m<h;m++){l+=" ?";if(o<h-1){l+=", ";o++}}l+=")";p.insertquery=l;p.values=q;return p};return e}())};