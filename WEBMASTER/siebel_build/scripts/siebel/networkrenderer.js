/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2014
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET7 */
if(typeof(SiebelAppFacade.NetworkRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.NetworkRenderer");define("siebel/networkrenderer",["siebel/phyrenderer","3rdParty/jsflowchart/jquery.jsPlumb-1.6.2-min.js","3rdParty/jsflowchart/jquery-context-menu.js"],function(){SiebelAppFacade.NetworkRenderer=(function(){var m=30,l=30,x=15,a=true;function i(){SiebelAppFacade.NetworkRenderer.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(i,SiebelAppFacade.PhysicalRenderer);i.prototype.Init=function(){SiebelAppFacade.NetworkRenderer.superclass.Init.apply(this,arguments);var D=this;this.AttachPMBinding("NewNodesComplete",function(){var E=this.GetPM();var H=E.Get("NewNodesList");for(var F in H){if(H.hasOwnProperty(F)){var G=H[F];if(G.Deleted===true){continue}E.ExecuteMethod("AddNewNode",G,true)}}E.SetProperty("NewNodesList",{})});this.AttachPMBinding("NewConnectionsComplete",function(){var E=this.GetPM();var H=E.Get("NewConnectionsList");for(var F in H){if(H.hasOwnProperty(F)){var G=H[F];if(G.Deleted===true){continue}E.ExecuteMethod("DrawConnection",G,G.id)}}E.SetProperty("NewConnectionsList",{})});this.AttachPMBinding("NewEndPointsComplete",function(){var E=this.GetPM();if(E.Get("DisableEndPoint")){return}var H=E.Get("NewEndpointsList");for(var G in H){if(H.hasOwnProperty(G)){var F=H[G];if(F.Deleted===true){continue}E.ExecuteMethod("AddEndpoint",F[0],G)}}E.SetProperty("NewEndpointsList",{})});this.AttachPMBinding("DeleteNodeComplete",function(){var E=this.GetPM();var F=E.Get("DeletedNodes");A.call(this,F,E)});this.AttachPMBinding("DeleteEndpointsComplete",function(){var E=this.GetPM();if(!E.Get("DisableEndPoint")){return}var F=E.Get("DeletedEndpoints");r.call(this,F,E)});this.AttachPMBinding("DeleteConnectionComplete",function(){var F=this.GetPM();var E=F.Get("DeletedConnections");for(var G in E){if(E.hasOwnProperty(G)){k.call(this,E[G],F)}}});this.AttachPMBinding("DeleteConnectionInUI",function(){var E=this.GetPM();var F=E.Get("DeletedConnectionID");k.call(this,F,E)});this.AttachPMBinding("InitializeCanvas",function(){var E=this.GetPM();var F=E.Get("CanvasProperties");u.call(this,F,E)});this.AttachPMBinding("SetEndPointType",function(){var H=this.GetPM();var F=H.Get("position");var G=H.Get("connector");var K=H.Get("connectorStyle");var I=H.Get("paintStyle");var J=H.Get("endpoint");var E=H.Get("jsplumbInstance");h.call(this,F,G,K,I,J,E)});this.AttachPMBinding("RedrawCompleteUI",function(){var G=this.GetPM();G.Get("jsplumbInstance").deleteEveryEndpoint();G.Get("jsplumbInstance").detachEveryConnection();$("#_sweview #s_"+G.Get("GetFullId")+"_div").find(".siebui-fcd-designer").empty();var H=G.Get("Handle");H.newConnection=false;G.SetProperty("Handle",H);var F=G.Get("NodesList");var E=G.Get("ConnectionsList");p.call(this,F,E,G);var H=G.Get("Handle");H.newConnection=true;G.SetProperty("Handle",H);t(this)});this.AttachPMBinding("CurrentSelectedNode",function(){var E=this.GetPM();var F=E.Get("CurrentSelectedNode");if(!F.length){$("#_sweview #s_"+E.Get("GetFullId")+"_div").find(".siebui-fcd-taskDesignerClicked").removeClass("siebui-fcd-taskDesignerClicked")}else{if($("#_sweview #s_"+E.Get("GetFullId")+"_div").find("#"+F).length>0){$("#_sweview #s_"+E.Get("GetFullId")+"_div").find("#"+F).addClass("siebui-fcd-taskDesignerClicked")}}});this.AttachPMBinding("HandleBeforeConnectionInUI",function(){g.call(this)});this.AttachPMBinding("RegisterSendEventToServerEventName",function(){var F=this.GetPM();var E=F.Get("RegisterSendEventToServerEventName");var G=F.Get("Handle");G[E]=true;F.SetProperty("Handle",G)});this.AttachPMBinding("UnRegisterSendEventToServerEventName",function(){var F=this.GetPM();var E=F.Get("UnRegisterSendEventToServerEventName");var G=F.Get("Handle");G[E]=false;F.SetProperty("Handle",G)});this.AttachPMBinding("OnNodeDragStop",function(){var F=this.GetPM();var E=F.Get("Event");var G=F.Get("ui");w.call(this,E,G,F)});this.AttachPMBinding("OnNodeClick",function(){var F=this.GetPM();var E=F.Get("Event");n.call(this,F,E)});this.AttachPMBinding("OnNodeDblClick",function(){var F=this.GetPM();var E=F.Get("Event");o.call(this,F,E)});this.AttachPMBinding("OnUIConnection",function(){var E=this.GetPM();var F=E.Get("info");b.call(this,F,E)});this.AttachPMBinding("OnContextmenuClick",function(){var E=this.GetPM();var F=E.Get("obj");z.call(this,F,E)});this.AttachPMBinding("AddEndpoint",function(){var F=this.GetPM();var G=F.Get("objEndP");var E=F.Get("EndP");c.call(this,G,E,F)});this.AttachPMBinding("AddNewNode",function(){var F=this.GetPM();var G=F.Get("nodeObj");var E=F.Get("allowDragging");q.call(this,G,E,F)});this.AttachPMBinding("DrawConnection",function(){var E=this.GetPM();var G=E.Get("connObj");var F=E.Get("connId");e.call(this,G,F,E)});this.AttachPMBinding("AddContextmenuToNode",function(){var F=this.GetPM();var E=F.Get("taskid");var G=F.Get("menuitemslist");v.call(this,E,G,F)});var B=this.GetPM();var C=B.Get("Handle");C.newConnection=false;this.GetPM().SetProperty("Handle",C)};i.prototype.BindEvents=function(){SiebelAppFacade.NetworkRenderer.superclass.BindEvents.apply(this,arguments);var B=this;t(this)};function t(C){var B=C.GetPM();$("#_sweview #s_"+C.GetPM().Get("GetFullId")+"_div").find(".draggable").draggable({revert:true});$("#_sweview #s_"+B.Get("GetFullId")+"_div").off("dblclick");$("#_sweview #s_"+B.Get("GetFullId")+"_div").off("click");$("#_sweview #s_"+B.Get("GetFullId")+"_div").find(".draggable").draggable("disable");if(!B.Get("ReadOnly")){$("#_sweview #s_"+C.GetPM().Get("GetFullId")+"_div").on("dblclick",".siebui-fcd-taskDesigner",{ctx:C},function(D){D.data.ctx.GetPM().ExecuteMethod("OnNodeDblClick",D)});$("#_sweview #s_"+C.GetPM().Get("GetFullId")+"_div").on("click",".siebui-fcd-taskDesigner",{ctx:C},function(D){D.data.ctx.GetPM().ExecuteMethod("OnNodeClick",D)});$("#_sweview #s_"+C.GetPM().Get("GetFullId")+"_div").find(".draggable").draggable({revert:true});$("#_sweview #s_"+B.Get("GetFullId")+"_div").find(".draggable").draggable("enable");B.Get("jsplumbInstance").bind("connection",function(D){if(typeof D.sourceEndpoint!="undefined"&&typeof D.sourceEndpoint.getParameter("pm")!="undefined"){D.sourceEndpoint.getParameter("pm").ExecuteMethod("OnUIConnection",D)}})}}i.prototype.ShowUI=function(){SiebelAppFacade.NetworkRenderer.superclass.ShowUI.apply(this,arguments);var G=this.GetPM();var K=G.Get("Handle");var C=jsPlumb.getInstance();G.SetProperty("jsplumbInstance",C);if(typeof K.ShowUI!=="undefined"&&!K.ShowUI){return}var I=this;var B="";var D=CCFMiscUtil_CreatePropSet();G.ExecuteMethod("NotifyServer","populate",D);G.ExecuteMethod("InitializeCanvas");var L=G.Get("hasPalette");if(L){G.ExecuteMethod("DrawPalette");B=G.Get("PaletteDrawn")}var J=B+"<div id='siebui-fcd-designer' class='siebui-fcd-designer'>";var H=G.Get("containerId");$("#_sweview #s_"+G.Get("GetFullId")+"_div").find("#"+H).addClass("siebui-fcd-longerApplet");if($(".siebui-rtl").length>0){$("#_sweview #s_"+G.Get("GetFullId")+"_div").find("#"+H).addClass("siebui-fcd-rtl")}else{$("#_sweview #s_"+G.Get("GetFullId")+"_div").find("#"+H).addClass("siebui-fcd-nortl")
}$(J).appendTo($("#_sweview #s_"+G.Get("GetFullId")+"_div").find("#"+H));$("#_sweview #s_"+G.Get("GetFullId")+"_div").find(".siebui-fcd-task").data("pm",G);var F=G.Get("NodesList");var M=G.Get("ConnectionsList");y(G);var E=G.Get("CanvasProperties");if(typeof E.GetProperty("designerHeight")!="undefined"&&E.GetProperty("designerHeight")){$("#_sweview #s_"+G.Get("GetFullId")+"_div").find(".siebui-fcd-longerApplet").removeClass("siebui-fcd-longerApplet");$("#_sweview #s_"+G.Get("GetFullId")+"_div").find(".siebui-fcd-designer").addClass("siebui-fcd-shorterApplet")}p(F,M,G);var K=G.Get("Handle");K.newConnection=true;G.SetProperty("Handle",K);G.SetProperty("ShowUIComplete",true)};function p(E,K,D){var H=this;for(var C in E){if(E.hasOwnProperty(C)){var G=E[C];if(C.Deleted===true){continue}D.ExecuteMethod("AddNewNode",G,true)}}for(var B in K){if(K.hasOwnProperty(B)){var F=K[B];if(F.Deleted===true){continue}D.ExecuteMethod("DrawConnection",F,F.id)}}if(!D.Get("DisableEndPoint")){var J=D.Get("EndpointsList");for(var I in J){if(J.hasOwnProperty(I)){var G=J[I];if(G.Deleted===true){continue}D.ExecuteMethod("AddEndpoint",G[0],I)}}}}function u(B,D){if(typeof B.propArray==="undefined"){$("#_sweview #s_"+D.Get("GetFullId")+"_div").find("#siebui-fcd-tasks").remove();$("#_sweview #s_"+D.Get("GetFullId")+"_div").find(".siebui-fcd-designer").addClass("siebui-fcd-noPaletteDesigner");return}var C=B.GetProperty("containerId");var F=B.GetProperty("designerHeight");var E=B.GetProperty("hasPalette");if(typeof C!=="undefined"&&C){D.SetProperty("containerId",C)}else{C=D.Get("containerId")}if(typeof F!=="undefined"&&F){$("#_sweview #s_"+D.Get("GetFullId")+"_div").find("#"+C).addClass("siebui-fcd-shorterApplet")}if(typeof E!=="undefined"&&!E){$("#_sweview #s_"+D.Get("GetFullId")+"_div").find(".siebui-fcd-designer").removeClass("siebui-fcd-noPaletteDesigner")}}function q(G,B,H){var E=H.Get("contextMenuObj");var K=this;var I;var M=H.Get("Handle");var N=H.Get("ImagesCssClass");var O=H.Get("DisableContextMenu");if(typeof M.AddNewNode!=="undefined"&&!M.AddNewNode){return}var Q=H.Get("AcceptBackgroundColour");if($("#_sweview #s_"+H.Get("GetFullId")+"_div").find("#"+G.taskid).length>0){return}if(typeof G.shapeId==="undefined"){G.shapeId=""}if(typeof G.bgColor!="undefined"){var J=parseInt(G.bgColor,10);if(J){I="rgb("+(J&255)+","+((J&65280)>>8)+","+((J&16711680)>>16)+")"}}var D=N[G.imagePath];var P="<div  class='siebui-fcd-task ' id='"+G.taskid+"' name='"+G.shapeId+"' title='"+G.tooltip+"' style='left:"+G.x+"px;top:"+G.y+"px;position:absolute;'>";P+="<i class='"+D+"'/><span class='siebui-fcd-spanText'>"+G.imageText+"</span>";if(!O&&!H.Get("ReadOnly")){P+="<div class='slidemenu' title='Show Context Menu'><img src='images/ArrowDown.png' /></div>"}P+="</div>";$("#_sweview #s_"+H.Get("GetFullId")+"_div").find(".siebui-fcd-designer").append(P);if(!Q){$("#_sweview #s_"+H.Get("GetFullId")+"_div").find("#"+G.taskid).css("background-color",I)}if(B&&!H.Get("ReadOnly")){$("#_sweview #s_"+H.Get("GetFullId")+"_div").find("#"+G.taskid).data("pm",H);H.Get("jsplumbInstance").draggable(G.taskid,{containment:".siebui-fcd-designer",stop:function(R,S){$(S.helper).data("pm").ExecuteMethod("OnNodeDragStop",R,S)}})}var C=$("#_sweview #s_"+H.Get("GetFullId")+"_div").find("#"+G.taskid);C.addClass("siebui-fcd-design").removeClass("siebui-fcd-task").addClass("siebui-fcd-taskDesigner");if($(".siebui-rtl").length>0){$(C).find("i").addClass("siebui-fcd-rtl");$(C).find("div.slidemenu").addClass("siebui-fcd-nortl")}else{$(C).find("div.slidemenu").addClass("siebui-fcd-slidmenu-rtl")}var L=H.Get("colorMap")[G.shapeId];if(typeof L=="undefined"){L="siebui-fcd-c3"}C.addClass(L);var F=H.Get("localPos");F[G.taskid]={};F[G.taskid].left=C.css("left").replace("px","");F[G.taskid].top=C.css("top").replace("px","");F[G.taskid].name=G.shapeId;H.SetProperty("localPos",F);H.ExecuteMethod("AddContextmenuToNode",G.taskid,E[G.shapeId])}function e(D,L,H){var G=D.id,J=D.fromId,E=D.toId,C=[],I=D.text;var O=H.Get("Handle");if(typeof O.DrawConnection!=="undefined"&&!O.DrawConnection){return}if(typeof D.fromId=="undefined"||typeof D.toId=="undefined"){return}var P=H.Get("connectionStyle");connectorStyle=P.connectorStyle;endpointStyle=P.endpointStyle;detachable=P.detachable;if(typeof D.color==="undefined"){C.color="#000"}else{var M=parseInt(D.color,10);if(M){C.color="rgb("+(M&255)+","+((M&65280)>>8)+","+((M&16711680)>>16)+")"}}if(typeof D.lineWidth==="undefined"){C.lineWidth=2}else{C.lineWidth=D.lineWidth}if(typeof I==="undefined"||I.length===0){I="  "}if(typeof connectorStyle==="undefined"){C.connectorStyle=["Bezier",{curviness:150}]}else{C.connectorStyle=connectorStyle}C.anchors=H.ExecuteMethod("GetConnectionAnchorForConnId",D.id);var K=false;if(typeof endpointStyle==="undefined"||typeof endpointStyle[C.anchors[0]]=="undefined"){C.endpointStyle=["Image",{src:"images/oui_flowchart_grip.png"}]}else{K=true;C.endpointStyle=endpointStyle[C.anchors[0]].type;C.enpointFillStyle=endpointStyle[C.anchors[0]].fillColor}if(typeof D.detachable==="undefined"){C.detachable=false}var F=H.ExecuteMethod("GetPaintStyle",C);H.Get("jsplumbInstance").Defaults.Connector=C.connectorStyle;var Q;var B=H.ExecuteMethod("GetOverlay",D.id,I);if(K){Q=H.Get("jsplumbInstance").connect({source:J,target:E,anchors:C.anchors,paintStyle:F,detachable:false,endpoint:C.endpointStyle,overlays:B,endpointStyle:{fillStyle:C.enpointFillStyle,}})}else{Q=H.Get("jsplumbInstance").connect({source:J,target:E,anchors:C.anchors,paintStyle:F,detachable:false,endpoint:C.endpointStyle,overlays:B})}if(!H.Get("ReadOnly")){$('._jsPlumb_endpoint.ui-droppable:not(".ui-draggable")').addClass("siebui-fcd-lowindex")}$(Q).data("id",G);$(Q).data("pm",H);$(Q).addClass("jspconnection");Q.bind("dblclick",function(R){j(R,$(R).data("pm"))});H.ExecuteMethod("AddContextmenuToNode",G);var N=H.Get("jsPlumbConnection");N[G]=Q;H.SetProperty("jsPlumbConnection",N)}function c(I,M,D){var H=D.Get("Handle");if((typeof H.AddEndpoint!=="undefined"&&!H.AddEndpoint)||D.Get("ReadOnly")){return}var N=D.Get("EndpointsList");var C=D.Get("jsPlumbEndpoint");C[M]=[];var L=D.Get("connectionStyle");connectorStyle=L.connectorStyle;endpointStyle=L.endpointStyle;detachable=L.detachable;var G={};G=D.ExecuteMethod("GetTargetDropOptions");for(var F=0;F<I.length;F++){var E=I[F];if(!$("#_sweview #s_"+D.Get("GetFullId")+"_div").find("#"+E.nodeId).length){return}var K="#000";var J=["Image",{src:"images/oui_flowchart_grip.png"}];if(E.type!="basic"){J=endpointStyle[E.type].type;K=endpointStyle[E.type].fillColor}var B=D.Get("jsplumbInstance").addEndpoint(E.nodeId,D.Get("jsplumbInstance").extend({isSource:true,maxConnections:-1,isTarget:true,anchor:E.location,dropOptions:G,type:E.type,paintStyle:{strokeStyle:K},endpoint:J,parameters:{pm:D},}));C[M][F]=B;D.SetProperty("jsPlumbEndpoint",C)}D.SetProperty("EndpointsList",N)}function v(D,K,E){var I=this;var B=$("#_sweview #s_"+E.Get("GetFullId")+"_div").find("#"+D);var G=D;var C=[];if(typeof K!="undefined"&&K.length>0){var J=K.length;
for(var F=0;F<J;F++){var H=K[F];C.push({label:H.text,disabled:H.isEnabled===true?false:true,id:D,name:H.serverCmd,pm:E,action:function(){this.pm.ExecuteMethod("OnContextmenuClick",this)}})}}else{C.push({label:"Delete",disabled:true,id:D,name:"Delete",pm:E,action:function(){this.pm.ExecuteMethod("OnContextmenuClick",this)}})}B.contextPopup({id:G,title:"Actions",items:C})}function A(G,E){var D;var F=E.Get("Handle");if(typeof F.DeleteNodeUI!=="undefined"&&!F.DeleteNodeUI){return}for(D in G){if(G.hasOwnProperty(D)){if($("#_sweview #s_"+E.Get("GetFullId")+"_div").find("#"+D).length>0){var B=E.Get("jsplumbInstance").getEndpoints(D);for(var C=0;C<B.length;C++){E.Get("jsplumbInstance").deleteEndpoint(B[C])}$("#_sweview #s_"+E.Get("GetFullId")+"_div").find("#"+D).remove()}}}}function r(H,F){var G=F.Get("Handle");if(typeof G.DeleteEndpointInUI!=="undefined"&&!G.DeleteEndpointInUI){return}for(var E in H){if(H.hasOwnProperty(E)){var D=F.Get("jsPlumbEndpoint");var C=D[E];for(var B in C){F.Get("jsplumbInstance").deleteEndpoint(B)}delete D[taskid];F.SetProperty("jsPlumbEndpoint",D)}}}function k(D,B){var C=B.Get("Handle");if(typeof C.DeleteConnectionInUI!=="undefined"&&!C.DeleteConnectionInUI){return}var E=B.Get("jsPlumbConnection");if(typeof D!="undefined"&&typeof E[D.id]!="undefined"){B.Get("jsplumbInstance").detach(E[D.id]);delete E[D.id];B.SetProperty("jsPlumbConnection",E)}}function h(C,D,G,E,F,B){B.getType(C).connector=D;B.getType(C).connectorStyle=G;B.getType(C).paintStyle=E;B.getType(C).endpoint=F}function b(C,E){var G,N,O,K,J,B,I;O=C.targetId;N=C.sourceId;var L=E.Get("Handle");var F=E.Get("isSmartScript");if(typeof L.newConnection!=="undefined"&&!L.newConnection){return}if((G=d(O,N,E))!=-1){if(s(G,E)!=-1||(typeof F!="undefined"&&F)){return}}var D=E.Get("localPos");var K=D[N].left,J=D[N].top;B=D[O].left;I=D[O].top;E.Get("jsplumbInstance").detach(C.connection);var H=C.sourceEndpoint.getType()[0]=="constrained"?"2":"0";var P=C.sourceEndpoint.getType()[0];var M=C.targetEndpoint.getType()[0];E.OnControlEvent("BeforeConnection",N,O,P,M);var Q=E.Get("ContinueConnection");if(!Q){return}x=E.Get("ServerConnectionLength");ServerConnectionLengthEnd=E.Get("ServerConnectionLengthEnd");m=E.Get("xlen");l=E.Get("Ylen");switch(P){case"TopCenter":K=(K*1+x);break;case"BottomCenter":K=(K*1+x);J=(J*1+m);break;case"LeftMiddle":J=(J*1+x);break;case"RightMiddle":J=(J*1+x);K=(K*1+m);break;default:K=(K*1+x)}switch(M){case"TopCenter":B=(B*1+ServerConnectionLengthEnd);break;case"BottomCenter":B=(B*1+ServerConnectionLengthEnd);I=(I*1+l);break;case"LeftMiddle":I=(I*1+ServerConnectionLengthEnd);break;case"RightMiddle":I=(I*1+ServerConnectionLengthEnd);B=(B*1+m);break;default:B=(B*1+ServerConnectionLengthEnd)}f(O,N,K,J,B,I,E,P,M,D[O].left,D[O].top);E.OnControlEvent("InitiateConnection",H,K,J,K,J,N)}function w(B,H,E){var K=E.Get("Handle");if(typeof K.nodeDrag!=="undefined"&&!K.nodeDrag){return}var J=Math.round((H.offset.left-$("#_sweview #s_"+E.Get("GetFullId")+"_div").find(".siebui-fcd-designer").offset().left));var G=Math.round($("#_sweview #s_"+E.Get("GetFullId")+"_div").find(".siebui-fcd-designer").scrollTop()+H.offset.top-Math.abs($("#_sweview #s_"+E.Get("GetFullId")+"_div").find(".siebui-fcd-designer").offset().top));var F=$(B.target).attr("id");var D=E.Get("localPos");var C=J-D[F].left;var I=G-D[F].top;D[F].left=J;D[F].top=G;E.SetProperty("localPos",D);E.OnControlEvent("NodeMoved",C,I,F)}function j(D,B){var C=B.Get("Handle");if(typeof C.connectionDblClick!=="undefined"&&!C.connectionDblClick){return}var E=$(D).data("id");B.OnControlEvent("NodeDoubleClicked",E)}function n(B,D){var C=B.Get("Handle");if(typeof C.nodeClick!=="undefined"&&!C.nodeClick){return}var E;if($(D.target).hasClass("siebui-fcd-design")){E=$(D.target).attr("id")}else{E=$(D.target).parent(".siebui-fcd-design").attr("id")}if($("#_sweview #s_"+B.Get("GetFullId")+"_div").find("#"+E).hasClass("siebui-fcd-taskDesignerClicked")){o(B,D);return}$("#_sweview #s_"+B.Get("GetFullId")+"_div").find(".siebui-fcd-taskDesignerClicked").removeClass("siebui-fcd-taskDesignerClicked");$("#_sweview #s_"+B.Get("GetFullId")+"_div").find("#"+E).addClass("siebui-fcd-taskDesignerClicked");B.OnControlEvent("NodeClicked",E)}function o(B,D){var C=B.Get("Handle");if(typeof C.nodeDblClick!=="undefined"&&!C.nodeDblClick){return}var E;if($(D.target).hasClass("siebui-fcd-design")){E=$(D.target).attr("id")}else{E=$(D.target).parents(".siebui-fcd-design").attr("id")}B.OnControlEvent("NodeDoubleClicked",E)}function z(D,B){var C=B.Get("Handle");if(typeof C.contextMenuClick!=="undefined"&&!C.contextMenuClick){return}B.OnControlEvent("ContextMenuItemClicked",D.id,D.name)}function g(C,B){return true}function f(K,J,H,F,B,G,D,L,I,C,E){var M=D.Get("waitingforConnections");M.push({from:J,to:K,x:H,y:F,x2:B,y2:G,connectionDrawn:false,sourceEndpointType:L,targetEndpointType:I,left:C,top:E});D.SetProperty("waitingforConnections",M)}function d(B,E,D){var F=D.Get("waitingforConnections");for(var C=0;C<F.length;C++){if(F[C].from==E&&F[C].to==B){return C}}return -1}function s(B,C){var D=0;var F=C.Get("waitingforConnections");var E=C.Get("isSmartScript");if(!F[B].connectionDrawn){D=-1;if(typeof E!="undefined"&&E){return D}}F.splice(B,1);C.SetProperty("waitingforConnections",F);return D}function y(B){B.Get("jsplumbInstance").registerEndpointTypes({basic:{connectorStyle:{strokeStyle:"#000000",lineWidth:2},connector:["Bezier",{curviness:150}],endpoint:["Image",{src:"images/oui_flowchart_grip.png"}],paintStyle:{fillStyle:B.Get("jsplumbInstance").Defaults.PaintStyle.strokeStyle}},constrained:{connectorStyle:{strokeStyle:"#ff2222",lineWidth:2},connector:["Bezier",{curviness:150}],paintStyle:{fillStyle:B.Get("jsplumbInstance").Defaults.PaintStyle.strokeStyle}},TopCenter:{connectorStyle:{strokeStyle:"#000",lineWidth:2},connector:["Bezier",{curviness:150}],},BottomCenter:{connectorStyle:{strokeStyle:"#000000",lineWidth:2},connector:["Bezier",{curviness:150}],},LeftMiddle:{connectorStyle:{strokeStyle:"#000000",lineWidth:2},connector:["Bezier",{curviness:150}],},RightMiddle:{connectorStyle:{strokeStyle:"#000000",lineWidth:2},connector:["Bezier",{curviness:150}],},Direct:{connectorStyle:{strokeStyle:"#000000",lineWidth:2},connector:["Bezier",{curviness:150}],}})}return i}());return SiebelAppFacade.NetworkRenderer})};