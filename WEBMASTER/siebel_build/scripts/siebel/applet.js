/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2014
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET13 */
if(typeof(SiebelApp.S_App.Applet)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.Applet");SiebelApp.S_App.Applet=(function(){var y=SiebelJS.Dependency("SiebelApp.Utils");var r=SiebelJS.Dependency("SiebelApp.Constants");var a=SiebelJS.Dependency("SiebelApp.S_App");var n=r.get("SWE_PST_CAN_NAV_STATE");var g=r.get("SWE_ROW_STR");var k=r.get("SWE_REQ_ROW_ID_STR");var w=r.get("SWE_ROW_IDS_STR");var v=r.get("SWE_PST_BUTTON_CTRL");var m=r.get("SWE_FIELD_STR");var f=r.get("SWE_RPC_PROP_RETURN_STATUS");var A=r.get("SWE_RPC_PROP_STATUS_COMPLETED");var q=r.get("SWE_RPC_PROP_STATUS_ERROR");var j=r.get("SWE_DISPLAY_NAME_STR");var B=r.get("SWE_FIELD_VALUE_STR");var s=r.get("SWE_CTRL_PICK");function t(){var R=CCFMiscUtil_CreatePropSet();var ae=null;var ap=null;var av=null;var P=null;var W=null;var aj=null;var D=null;var aq=null;var G=false;var C={};var M={};var Z;var ad;var X={};var Y=false;var az=null;var am=0;var ab=null;var J=null;var S=null;var ah;var U=false;var O=null;var al=null;var aw=null;var ac=false;var H=null;var Q=null;var K=null;var E=false;var V=false;var af=null;var ay="Base";var N=null;var I=null;var au=false;var ao=[];var ar=false;var ax=false;var T=null;var ai=false;var aa=CCFMiscUtil_CreatePropSet();this.SetGlobalPropSet=function(aA){aa=aA};this.GetGlobalPropSet=function(){return aa};var L=null;var an=null;var at=null;this.SetListId=function(aA){L=aA};this.SetMenuId=function(aA){an=aA};this.SetRowCount=function(aA){I=aA};this.SetTreeId=function(aA){at=aA};this.GetListId=function(){return L};this.GetMenuId=function(){return an};this.GetRowCount=function(){return I};this.GetTreeId=function(){return at};this.HasPickError=function(){return ai};this.FocusOnMenu=function(aA){ax=aA};this.IsMenuOnFocus=function(){return ax};this.SetHasPickError=function(aA){ai=aA};this.GetScrollDir=function(){return az};this.GetScrollAmount=function(){return am};this.SetScrollDir=function(aA){az=aA};this.SetScrollAmount=function(aA){am=aA};var ag=["ExecuteQuery","RunQuery","ExecuteAlphaTabQuery"];var ak=null;this.SetCancelQryTimeoutObj=function(aA){clearTimeout(ak);ak=aA};this.GetCancelQryTimeoutObj=function(){return ak};this.GetCancelableMethodArray=function(){return ag};this.SetUpdateConditionals=function(aA){ar=aA};this.GetUpdateConditionals=function(){return ar};this.GetUIEventMap=function(){return ao};this.SetUIEventMap=function(aA){ao.push(aA)};this.ClearUIEventMap=function(){ao=[]};this.SetIsStandAlone=function(aA){G=aA};this.GetIsStandAlone=function(){return G};this.GetQuerySubMode=function(){return ay};this.SetQuerySubMode=function(aA){ay=aA};this.GetPopupControl=function(){return Q};this.SetPopupControl=function(aA){Q=aA};this.GetPopupMethod=function(){return H};this.SetPopupMethod=function(aA){H=aA};this.IsPopupClosed=function(){return ac};this.SetPopupClosed=function(aA){ac=aA};this.GetPopupApplet=function(){return aw};this.SetPopupApplet=function(aA){aw=aA};this.GetCurrencyApplet=function(){return af};this.SetCurrencyApplet=function(){if(af===undefined||af===null){af=new SiebelApp.S_App.Currency(this)}};this.GetToggleApplet=function(){return T};this.SetToggleApplet=function(){if(!T){T=new SiebelApp.S_App.ToggleApplet(this)}};this.GetParentApplet=function(){return al};this.SetParentApplet=function(aA){al=aA};this.GetVarName=function(){return O};this.SetVarName=function(aA){O=aA};this.SetActiveControl=function(aA){ab=aA};this.GetActiveControl=function(aA){return ab};this.SetPrsrvControl=function(aA){S=aA};this.GetPrsrvControl=function(aA){return S};this.SetBusComp=function(aA){aq=aA};this.GetBusComp=function(){return aq};this.SetFocusDefaultControl=function(aA){U=aA};this.GetFocusDefaultControl=function(aA){return U};this.SetDoPopulate=function(aA){Y=aA;return(true)};this.GetControls=function(){return C};this.ClearControls=function(){C=null;C={}};this.SetView=function(aA){Z=aA};this.GetView=function(){return Z};this.SetPModel=function(aA){ad=aA};this.GetPModel=function(){return ad};this.SetMenu=function(aA){N=aA};this.GetMenu=function(){return N};this.GetCanNavigateMap=function(){return X};this.GetConfirmMessageMap=function(){return M};this.GetPrivateFieldMap=function(){return ap};this.SetPrivateFieldMap=function(){ap=[]};this.GetMapFieldsArray=function(){return D};this.SetMapFieldsArray=function(aA){D=aA};this.GetPopBookMark=function(){return K};this.SetPopBookMark=function(aA){K=aA};this.GetCanUpdateByName=function(){return av};this.SetCanUpdateByName=function(){av=[]};this.GetCanUpdateArray=function(){return P};this.SetCanUpdateArray=function(){P=[]};this.GetCanInvokeByName=function(){return aj};this.SetCanInvokeByName=function(){aj=[]};this.GetCanInvokeArray=function(){return W};this.SetCanInvokeArray=function(){W=[]};this.SetEnableUIUpdate=function(aA){E=aA};this.GetEnableUIUpdate=function(){return E};this.HasCustomShadow=function(){return au};this.SetCustomShadow=function(aA){au=aA};this.GetRowListRowCount=function(){return Number("1")};this.GetNumRows=function(){return this.GetBusComp().GetNumRows()};this.IsNumRowsKnown=function(){return this.GetBusComp().IsNumRowsKnown()};this.WSHome=function(){var aA=this.GetBusComp();if(aA){return(aA.WSHome(this.GetName()))}};this.WSNextRecord=function(){var aA=this.GetBusComp();if(aA){return(aA.WSNextRecord(this.GetName()))}};this.SetCurRow=function(aB){var aA=this.GetBusComp();if(aA){return(aA.SetCurRow(this.GetName(),aB))}};this.IsCurWSRecActive=function(aB){var aA=this.GetBusComp();if(!aA){return false}return(aA.IsCurWSRecActive(this.GetName()))};this.GetName=function(){return ae};this.SetName=function(aA){ae=aA};this.GetControlPS=function(){return R};var F=SiebelApp.S_App.GetPopupPM();if(F.Get("state")===r.get("POPUP_STATE_VISIBLE")){F.Get("currPopups").push(this)}this._EndLife=function(){if(this.HasServerError()){this.ProcessError()}av=null;P=null;W=null;aj=null;D=null;R=null;ab=null;ap=null};this.SetEnableExecuteUIUpdate=function(aA){V=aA};this.GetEnableExecuteUIUpdate=function(){return V};SiebelApp.S_App.ErrorObject.DecorateErrorCapability(this)}t.prototype.IsPure=function(){return !!this.GetBusComp()};t.prototype.ResetAppletState=function(){};t.prototype.EndLife=function(){if(this.GetMenu()){var G=this.GetMenu().GetPM();if(G&&G.EndLife){G.EndLife()}this.GetMenu().SetPM(null);this.SetMenu(null)}var E=this.GetPModel();if(E&&E.EndLife){E.EndLife()}E=null;var D=this.GetName().replace(/ /g,"_")+"_"+r.get("SWE_RPC_PROP_APPLET");SiebelApp.ThemeManager.unLoadStyle(D);var C=this.GetControls();for(var F in C){if(C.hasOwnProperty(F)){C[F].ClearMethodPropSet();C[F].SetApplet(null);C[F].ClearRadioGroupPropSet();delete C[F]}}C=null;this.SetPModel(E);this.SetView(null);this.SetBusComp(null);this._EndLife();SiebelApp.S_App.ErrorObject.DeleteErrorObj(this)};t.prototype.CanProcessError=function(C){var K=(C)?C.length:0;var L=false;var G=false;var M=false;var F=false;var N=r.get("SSAELErrUserDefinedError");var O=r.get("SSAELErrGetFieldNotActive");var J=r.get("SSAOMErrBoundedPick");var E=this.GetActiveControl(),D=this.GetPrsrvControl();if(SiebelApp.S_App.ErrorObject&&K>0){for(var I=0;
I<K;I++){if(C[I].errCode===N){L=true;break}if(C[I].errCode===O){G=true;break}}if(!L&&!G){for(var H=0;H<K;H++){if(C[H].errCode===J){M=true;break}}}if(M){if(E){if(E.GetUIType()===r.get("SWE_CTRL_COMBOBOX")){this.ShowPopup(E);F=true}if(E.GetUIType()===r.get("SWE_CTRL_PICK")&&E.IsEditEnabled()){this.FieldPopup();this.SetHasPickError(true);F=true}}else{if(D&&D.GetUIType()===r.get("SWE_CTRL_COMBOBOX")){this.ShowPopup(D);F=true}}}}return(!F)};t.prototype.AddControl=function(C){this.GetControls()[C.GetName()]=C};t.prototype.RemoveControls=function(){this.ClearControls()};t.prototype.IsActive=function(){return this.GetView()?this.GetView().IsAppletActive(this):true};t.prototype.GetPropArray=function(){var C=["GetName","GetId","GetVarName","GetFullId","GetTitle","GetControls","GetActiveControl","GetSelection","GetRecordSet","GetDefaultFocusOnEdit","GetDefaultFocusOnNew","GetAppletSummary","GetAppletLabel","IsInQueryMode","GetQueryModePrompt","GetDefaultFocusOnQuery","GetMapFields","GetPrsrvControl","GetUIEventMap","IsPure","GetScrollDir","GetScrollAmount","GetMode","GetDefaultMode","GetBusComp","GetRowListRowCount","GetWSEndRowNum","GetNumRows","IsNumRowsKnown","GetObjectType","GetRepstrName","GetUIName","GetRawRecordSet","GetParentApplet","IsActive","IsEditable","HasPickError"];if(SiebelApp.S_App.IsRwd()){C=C.concat(["GetPH","GetListId","GetMenuId","GetTreeId","AddToGroupModel","GetGlobalPropSet","IsObjResponsive","GetRowCount"])}return C};t.prototype.GetMethodArray=function(){var C=["CanNavigate","CanUpdate","CanInvokeMethod","InvokeMethod","GetControl","LeaveField","ShowSelection","InvokeMethod","GetRecord","GetRecordSet","GetSelection","RefreshData","FieldChange","UpdateStateChange","UpdateCSQueryMsg","InvokeStateChange","SetFocusToCtrl","FocusFirstControl","SetHighlightState","UpdateQuickPickInfo","GetFieldValue","GetFormattedFieldValue","IsPrivateField","NewFileAttachment","UpdateAppletMessage","PostExecute","SetFocusDefaultControl","ShowPickPopup","NotifyClosePopup","UpdateCurrencyCalcInfo","GetCurrencyApplet","GetCurrencyCalInfo","CurrencyPostChanges","ExecuteUIUpdate","UpdateConditionals","SetUpdateConditionals","ProcessCancelQueryPopup","GetControlId","ShowPopup","ProcessError","GetPhysicalControlValue","ResetAppletState","FocusSelectedTreeNode","NavigateState","HandleCtrlDefChange","RepopulateField","IsMethodDefault","SetCanInvokeState","GetFieldDataType","BeginQueryState","EndQueryState","FocusOnApplet","UpdateRowCounter","GetWSStartRowNum","SetCurRow","IsCurWSRecActive","WSNextRecord","WSHome","SetActiveControl","SetFormattedValue","ChangeSelectionInPopup","SetHasPickError","ForceProcessResponse","SetScrollAmount","SetScrollDir","Show","IsLinkOnCtrl","RemoveControls"];if(SiebelApp.S_App.IsRwd()&&y.IsTrue(this.IsObjResponsive())){C=C.concat(["GetGroupModel","FindPS","GetPSInfo","GetLeafChildrenInfo","GetListColumnObjectInfo","FindGroupPS","GetGroupPSInfo","GetGroupLeafChildrenInfo","GetTitleFromGroupColumn","GetPSatLevel","GetGroupPSDepth"])}return C};t.prototype.IsMethodDefault=function(C){return this.GetCanInvokeByName()&&this.GetCanInvokeByName()[C]};t.prototype.GetControlId=function(){if(this.GetToggleApplet()){return this.GetToggleApplet().GetControlId()}return};t.prototype.GetCurrencyCalInfo=function(){return this.GetCurrencyApplet().GetCurrencyCalInfo()};t.prototype.NotifyClosePopup=function(){return this.GetCurrencyApplet().NotifyClosePopup()};t.prototype.ShowPickPopup=function(){return this.GetCurrencyApplet().ShowPickPopup(this)};t.prototype.GetSelection=function(){return !!this.GetBusComp()?this.GetBusComp().GetSelection():-1};t.prototype.GetControl=function(C){return this.GetControls()[C]};t.prototype.GetRawRecordSet=function(){return !!this.GetBusComp()?this.GetBusComp().GetRecordSet():[]};t.prototype.GetRecordSet=function(){var C=[];if(!!this.GetBusComp()){if(this.IsInQueryMode()){C[0]=this.GetEmptyRecordForQuery()}else{C=this.GetBusComp().GetRecordSet()}}return C};t.prototype.GetRowIds=function(L){var E=this.GetBaseLevelApplet(),M=!y.IsEmpty(this.GetParentApplet()),J,G="",F=[],D,H=true;if(!this.GetView()||!this.GetBusComp()){}else{if(M){J=E.GetBusComp()}else{J=E.GetBusComp().GetParentBusComp()}while(J){F.push(J);D=J.GetIdValue();if(!D){J.ClearErrorMsg();if(!(M&&H)){L.SetProperty(w,G);return}}J=J.GetParentBusComp();H=false}}F.reverse();var K=0;var I=F.length;for(K=0;K<I;K++){if(!y.IsEmpty(G)){G+=","}var C=F[K];G+=(r.get("SWE_ROW_ID_STR")+K.toString()+"="+C.GetIdValue())}L.SetProperty(w,G)};t.prototype.GetMapFields=function(C){return this.GetMapFieldsArray()};t.prototype.GetBaseLevelApplet=function(){var C=this;while(!y.IsEmpty(C.GetParentApplet())){C=C.GetParentApplet()}return C};t.prototype.GetAllFieldValues=function(C,D){};t.prototype.GetFieldDataType=function(D){if(!!this.GetBusComp()){var C=this.GetBusComp().GetField(D);if(!y.IsEmpty(C)){return C.GetDataType()}else{return""}}else{return""}};t.prototype.IsEditableApplet=function(){return(this.IsEditable()==="1")?true:false};t.prototype.IsPrivateField=function(C){if(this.GetPrivateFieldMap()&&this.GetPrivateFieldMap()[C]){return true}return false};t.prototype.CanUpdateUI=function(){return this.GetEnableUIUpdate()};t.prototype.GetListColumnObjectInfo=function(D){var E=this.GetControl(D);var C={name:D,controlType:E.GetUIType(),isLink:this.CanNavigate(D),index:Number(E.GetColNum())+1,bCanUpdate:this.CanUpdate(E),control:E};return C};t.prototype.IsLinkOnCtrl=function(C){var E=false;var D=this.GetCanNavigateMap();if(D.hasOwnProperty(C)&&D[C] instanceof Array&&D[C].indexOf("1")>-1){E=true}return E};t.prototype.CanNavigate=function(C,E){var H=this.GetBusComp();if(!H){return false}var F=this.GetCanNavigateMap();var I=F.hasOwnProperty(C);var G=F[C];var D=!isNaN(parseInt(E,10))?E:H.GetCurRow(this.GetName());if(I&&G instanceof Array&&D>=0&&D>=G.length){D=0}if(I&&G instanceof Array&&D>=0&&D<G.length){return y.IsTrue(G[D])}return false};t.prototype.CanUpdate=function(C){var D=true;if(this.IsEditableApplet()===false&&this.IsPrivateField(C)===false){D=false;return D}if(this.GetCanUpdateByName()[C]){D=this.GetCanUpdateByName()[C].bCanUpdate;if(!y.IsEmpty(D)){return D}}if(this.IsPrivateField(C)===false&&this.IsInQueryMode()===false&&!!this.GetBusComp()&&this.GetBusComp().CanUpdate()===false){D=false;return D}return D};t.prototype.CanInvokeMethod=function(E){var D=true;if(E==="OnFocus"){return D}else{if(E==="ShowContextMenu"){return D}else{if(E==="OnEnterKey"){return D}else{if(E==="OnEscapeKey"){return D}else{if(E==="UndoRecord"){if(this.IsInQueryMode()===false&&!!this.GetBusComp()&&(this.GetBusComp().GetCommitPending()||this.GetBusComp().IsCommitPending())){return D}}else{if(E==="EditPopup"){return D}else{if(E==="Find"){if(this.IsInQueryMode()===true){D=false}return D}else{if(E==="ImplicitCommit"){return D}else{if(E==="FocusDefaultControl"){return D}else{if(E==="ExecuteAlphaTabQuery"){return D}else{if(!E){return false}}}}}}}}}}}if(this.GetCanInvokeByName()!==null&&this.GetCanInvokeByName()[E]){SiebelApp.S_App.OfflineCallMethod("AppletCanInvokeMethod",E,this);
D=this.GetCanInvokeByName()[E].bCanInvoke;if(D!==undefined||D!==null){return D}}var H=CCFMiscUtil_CreatePropSet();var C=CCFMiscUtil_CreatePropSet();C.SetProperty(r.get("SWE_CMD_ARG"),"CanInvokeMethod");if(!y.IsEmpty(this.GetView())){C.SetProperty(r.get("SWE_VIEW_ID_ARG"),this.GetView().GetBusObj().GetZone());C.SetProperty(r.get("SWE_VIEW_ARG"),this.GetView().GetName())}if(C.GetProperty(r.get("SWE_APPLET_STR"))===undefined||C.GetProperty(r.get("SWE_APPLET_STR")===null)){C.SetProperty(r.get("SWE_APPLET_STR"),this.GetName())}if(this.GetPopBookMark()){C.SetProperty(r.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}C.SetProperty(r.get("SWE_METHOD_STR"),E);var F={};F.async=false;F.scope=this;F.cb=function(){};SiebelApp.S_App.CallServer(C,H,true,F);if(0===H.GetPropertyCount()){return(D=false)}var G=H.GetProperty(r.get("SWE_RPC_PROP_STATUS"));if(G&&G.toLowerCase()!==r.get("SWE_RPC_PROP_STATUS_OK").toLowerCase()){return(D=false)}G=H.GetProperty("Result");if(G){D=(G.toLowerCase()===r.get("SWE_PROP_RESULT_TRUE").toLowerCase())?true:false}return D};t.prototype.ProcessObjectInfo=function(C){if(C.GetType()!==r.get("SWE_PST_APPLET_INFO")){return}var G=C.GetValue();if(!this.GetVarName()){this.SetVarName(G)}else{if(this.GetVarName()!==G){return}}var F=C.GetProperty("MAP_LOCATION_FIELDS");if(F!==undefined&&F!==null){var E=F.split(",");var I=E.length;for(var D=0;D<I;D++){E[D]=E[D].replace(/^\s+|\s+$/g,"")}this.SetMapFieldsArray(E)}this.ProcessSelfProps(C);this.DoProcessObjectProperties(C);var H=C.EnumChildren(true);if(!H){return}do{this.ProcessChildrenProps(H)}while((H=C.EnumChildren(false)))};t.prototype.ProcessSelfProps=function(D){var E=y.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,D);if(D.PropertyExists(r.get("SWE_PROP_POPUP_APPLET_NAME"))){E("GetPopupAppletName","SWE_PROP_POPUP_APPLET_NAME")}if(D.PropertyExists(r.get("SWE_PROP_POPUP_PICK_APPLET_NAME"))){E("GetPickAppletName","SWE_PROP_POPUP_PICK_APPLET_NAME")}if(D.PropertyExists(r.get("SWE_PROP_POPUP_ASSOC_APPLET_NAME"))){E("GetAssocAppletName","SWE_PROP_POPUP_ASSOC_APPLET_NAME")}if(D.PropertyExists(r.get("SWE_PROP_POPUP_MVG_ASSOC_APPLET_NAME"))){E("GetMvgAssocAppletName","SWE_PROP_POPUP_MVG_ASSOC_APPLET_NAME")}if(D.PropertyExists(r.get("SWE_PROP_POPUP_MVG_SELECTED_APPLET_NAME"))){E("GetMvgSelectedAppletName","SWE_PROP_POPUP_MVG_SELECTED_APPLET_NAME")}E("GetName","SWE_PROP_NAME");E("GetMode","SWE_PST_APPLET_MODE");E("GetDefaultMode","SWE_PST_APPLET_DEFAULT_MODE");E("GetVarName","SWE_PROP_VAR_NAME");E("GetId","SWE_PROP_ID");if(SiebelApp.S_App.IsRwd()){E("GetPH","SWE_PROP_TMPL_ITM_HOLDER");E("IsObjResponsive","SWE_PROP_OBJECT_RESPONSIVE")}E("GetTitle","SWE_PROP_TITLE");E("GetBCId","SWE_PST_BUSCOMP_INFO");E("IsEditable","SWE_PROP_IS_EDIT");E("GetDefaultFocusOnEdit","SWE_PROP_CTRL_FOCUS_EDIT");E("GetDefaultFocusOnNew","SWE_PROP_CTRL_FOCUS_NEW");E("GetDefaultFocusOnQuery","SWE_PROP_CTRL_FOCUS_QUERY");E("IsNoUpdate","SWE_PROP_IS_NO_UPDATE");E("IsCancelQueryDisabled","SWE_PROP_DISABLE_CANCEL_QUERY");E("GetDefaultMethod","SWE_PROP_DEF_METHOD",true);E("GetDefaultQryMethod","SWE_PROP_DEF_METHOD_QRY_MODE",true);var C=D.GetValue();this.GetFullId=function(){return C};if(!y.IsEmpty(this.GetView())&&!!this.GetBCId()){this.SetBusComp(this.GetView().GetBusObj().GetBusComp(this.GetBCId()))}if(!!this.GetBusComp()){this.GetBusComp().Register(this)}SiebelApp.S_App.OfflineCallMethod("ProcessAppletSelfProps",this);D=null};t.prototype.DoProcessObjectProperties=function(D){var C=D.GetProperty(r.get("SWE_PROP_CAN_UPDATE"));if(typeof(C)==="string"){this.SetCanUpdateState(C)}C=D.GetProperty(r.get("SWE_PROP_CAN_INVOKE"));if(typeof(C)==="string"){this.SetCanInvokeState(C)}C=D.GetProperty(r.get("SWE_PROP_POP_BKMARK"));if(typeof(C)==="string"){this.SetPopBookMark(C)}C=D.GetProperty(r.get("SWE_PROP_SHADOW"));if(C!=null&&C!=undefined){if(SiebelApp.S_App.CreateJSShadow(this,C)){this.SetCustomShadow(true)}}C=Number(D.GetProperty(r.get("SWE_PROP_BEGIN_ROW")));if(this.GetBusComp()&&C!==-1){this.GetBusComp().GetNotifyObject().SetBegRow(this.GetName(),C)}};t.prototype.ProcessControlInfo=function(C,D){var E=new SiebelApp.S_App.AppletControl();E.SetApplet(this);E.SetClientCtrl(C.PropertyExists(r.get("SWE_PROP_IS_CLIENT_CTRL"))?true:false);E.ProcessObjectInfo(C);E.SetIndex(D);this.AddControl(E)};t.prototype.ProcessPickInfo=function(G){var D;var F=r.get("SWE_PROP_POP_METHOD");var C=r.get("SWE_PROP_POP_CTRL");if(!this.GetParentApplet()){D=G.GetValue();if(D){if(this.GetView()){var E=this.GetView().GetAppletById(D)}if(E){this.SetParentApplet(E)}}if(!this.GetParentApplet()){return(false)}this.GetParentApplet().SetPopupApplet(this)}D=G.GetProperty(F);if(D){this.SetPopupMethod(D)}D=G.GetProperty(C);if(D){this.SetPopupControl(D)}return true};t.prototype.AddClientControl=function(C){C.SetPropertyStr(r.get("SWE_PROP_NAME"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_NAME"))));C.SetPropertyStr(r.get("SWE_PROP_TYPE"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_TYPE"))));C.SetPropertyStr(r.get("SWE_PROP_DISP_NAME"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_DISP_NAME"))));C.SetPropertyStr(r.get("SWE_PROP_DISP_FORMAT"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_DISP_FORMAT"))));C.SetPropertyStr(r.get("SWE_PROP_FLD_NAME"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_FLD_NAME"))));C.SetPropertyStr(r.get("SWE_PROP_JUSTIFICATION"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_JUSTIFICATION"))));C.SetPropertyStr(r.get("SWE_PROP_MTHD_NAME"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_MTHD_NAME"))));C.SetPropertyStr(r.get("SWE_PROP_DISP_MODE"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_DISP_MODE"))));C.SetPropertyStr(r.get("SWE_PROP_PICK_APLT"),a.AppendToLocalStrCache(C.GetProperty(r.get("SWE_PROP_PICK_APLT"))));this.GetControlPS().AddChild(C)};t.prototype.ProcessChildrenProps=function(N){var R=y.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,N);var H=N.GetType();var K=r.get("SWE_PST_CNTRL_LIST");var aa=r.get("SWE_PST_REMOVE_CONTROL_LIST");var G=r.get("SWE_PST_CONFIRM_MSGS");var P=r.get("SWE_PST_PRIV_CNTRL_LIST");var I=r.get("SWE_PROP_CAN_INVOKE");var Q=r.get("SWE_PST_PARENT_INFO");var L=r.get("SWE_PST_ACCESSIBILITY_INFO");var Y=r.get("SWE_PST_PMODEL_FILE_INFO");var ac=r.get("SWE_PST_PRENDERER_FILE_INFO");var Z=r.get("SWE_PROP_GET_PMODEL_FILE");var S=r.get("SWE_PROP_GET_PRENDERER_FILE");var J=r.get("SWE_PST_NEW_TOGGLE_CTRL");var E=SiebelApp.S_App.GetPageURL().split("start.swe")[0]+SiebelApp.S_App.GetScriptDir();var X=r.get("SWE_PST_QTP_INFO");var D=SiebelApp.S_App.LookupStringCache;switch(H){case K:var W=N.EnumChildren(true);var V=0;do{if(W&&SiebelApp.S_App.IsRwd()&&y.IsTrue(this.IsObjResponsive())){var T=D(W.GetProperty(r.get("SWE_PROP_TYPE")));if(T===r.get("SWE_LIST_APPLET_CTRL")){this.SetListId(W.GetProperty(r.get("SWE_PROP_SPAN")))}else{if(T===r.get("SWE_PROP_MENU")){this.SetMenuId(W.GetProperty(r.get("SWE_PROP_SPAN")))}else{if(T===r.get("SWE_ST_TOGGLE_APPLET_CTRL")){this.GetToggleApplet().SetControlId(W.GetProperty(r.get("SWE_PROP_SPAN")))
}else{if(T==r.get("SWE_APPLET_ROW_COUNT")){this.SetRowCount(W.GetProperty(r.get("SWE_PROP_SPAN")))}else{if(T===r.get("SWE_TREE_APPLET_CTRL")){this.SetTreeId(W.GetProperty(r.get("SWE_PROP_SPAN")))}}}}}}if(W){this.ProcessControlInfo(W,V)}V++}while((W=N.EnumChildren(false)));V=0;var M=this.GetControlPS();if(!!M&&M.GetChildCount()>0){var U=M.EnumChildren(true);do{this.ProcessControlInfo(U,V);V++}while((U=M.EnumChildren(false)))}break;case n:var C=N.EnumProperties(true);if(C){do{var ad=[];CCFMiscUtil_StringToArray(N.GetProperty(C),ad);this.GetCanNavigateMap()[C]=ad}while((C=N.EnumProperties(false)))}break;case aa:this.RemoveControls();break;case G:var F=N.EnumProperties(true);if(F){do{this.GetConfirmMessageMap()[F]=N.GetProperty(F)}while((F=N.EnumProperties(false)))}break;case P:this.SetPrivateFields(N);break;case Q:var ab=this.ProcessPickInfo(N);if(!ab){return(false)}break;case L:R("GetAppletLabel","SWE_APPLET_LABEL");R("GetAppletSummary","SWE_APPLET_SUMMARY");if(this.GetAppletLabel()==undefined){this.GetAppletLabel=function(){return""}}if(this.GetAppletSummary()==undefined){this.GetAppletSummary=function(){return""}}break;case X:var O=y.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,N);O("GetObjectType","SWE_PROP_QTP_OT");O("GetRepstrName","SWE_PROP_QTP_RN");O("GetUIName","SWE_PROP_QTP_UN");break;case J:this.SetToggleApplet();if(N.GetChildCount()>0){this.GetToggleApplet().ProcessObjectInfo(N.GetChild(0))}break}if(this.GetAppletLabel==undefined||this.GetAppletLabel()==undefined){this.GetAppletLabel=function(){return""}}if(this.GetAppletSummary==undefined||this.GetAppletSummary()==undefined){this.GetAppletSummary=function(){return""}}N=null};t.prototype.SetCanUpdateState=function(E){var D=[];var I;CCFMiscUtil_StringToArray(E,D);this.SetCanUpdateArray();if(!this.GetCanUpdateByName()){this.SetCanUpdateByName()}if(D.length>=2){for(var G=0,C=D.length;G<C;G+=2){var F=a.LookupStringCache(D[G]);var H=D[G+1];if(!F){return false}I=(H==="1")?true:false;this.GetCanUpdateArray().push(F);this.GetCanUpdateByName()[F]={bCanUpdate:I}}}};t.prototype.SetCanInvokeState=function(E){var H=[];var D=true;CCFMiscUtil_StringToArray(E,H);if(!this.GetCanInvokeByName()){this.SetCanInvokeByName()}this.SetCanInvokeArray();if(H.length>=2){for(var G=0,C=H.length;G<C;G+=2){var F=a.LookupStringCache(H[G]);var I=H[G+1];if(!F){return false}D=(I==="1")?true:false;this.GetCanInvokeArray().push(F);this.GetCanInvokeByName()[F]={bCanInvoke:D}}}};t.prototype.SetPrivateFields=function(J){if(!J){return}if(!this.GetPrivateFieldMap()){this.SetPrivateFieldMap()}var M=r.get("SWE_PST_PRIV_CNTRL");var D=r.get("SWE_PST_PRIV_COL");var F;var O;var H;var E;var Q=[];var N;var P;var C;var I;for(var G=0,K=J.GetChildCount();G<K;G++){var L=J.GetChild(G).GetType();if(L===M){F=true;O=null;E=J.GetChild(G);for(F=true;(O=E.EnumProperties(F))!==null;F=false){Q=[];C=this.GetControls()[O];I=E.GetProperty(r.get("SWE_PROP_CTRL_ALLOW_POSTCHANGES"));Q=[];Q.push(E.GetProperty(O));this.GetPrivateFieldMap()[O]={bDirty:false,bInList:false,valueArray:Q,allowPostChanges:y.IsTrue(I),queryModeVal:((this.GetMode()===r.get("SWE_PST_APPLET_MODE_QUERY"))&&Q[0])?Q[0]:""};H=E.EncodeAsString()}}else{if(L===D){F=true;O=null;E=J.GetChild(G);for(F=true;(O=E.EnumProperties(F))!==null;F=false){I=E.GetProperty(r.get("SWE_PROP_CTRL_ALLOW_POSTCHANGES"));Q=[];CCFMiscUtil_StringToArray(E.GetProperty(O),Q);this.GetPrivateFieldMap()[O]={bDirty:false,bInList:true,valueArray:Q,allowPostChanges:y.IsTrue(I),queryModeVal:((this.GetMode()===r.get("SWE_PST_APPLET_MODE_QUERY"))&&Q[0])?Q[0]:""};H=E.EncodeAsString()}}}}return};t.prototype.Initialize=function(){this.InitializeRenderer();c.call(this,true);l.call(this);if(this.GetToggleApplet()){this.GetToggleApplet().Initialize()}this.ClearErrorMsg()};t.prototype.GetLabel=function(){return this.GetAppletLabel()};t.prototype.InitializeRenderer=function(){};function c(C){this.SetEnableUIUpdate(C);var D;if(!this.GetBusComp()){return}D=this.GetBusComp().GetNotifyObject();if(D){D.SetEnableUIUpdate(this.GetName(),C)}}function l(){var D=(SiebelApp.S_App.IsRwd()&&y.IsTrue(this.IsObjResponsive()))?this.GetMenuId():r.get("SWE_MENU_IDENTIFIER")+this.GetId();if($("#"+D).length==0){return}var C=new SiebelApp.S_App.Menu(this);if(SiebelApp.S_App.IsRwd()){C.SetPlaceHolder(D)}this.SetMenu(C);C.CreatePM("MBMenuRenderer",SiebelAppFacade.AppletMenuPresentationModel)}function o(){var E=this.GetPModel();if(E instanceof JSSPropertySet){var K=E;var F=K.GetProperty(r.get("SWE_PROP_OUI_PMODEL"));var D=SiebelApp.S_App.GetConstructorFromKey(F)+".";var C="";var J=0;var G=D.indexOf(".");while(G!=-1){var I=D.substring(J,G);C=(C=="")?window[I]:C[I];J=G+1;G=D.indexOf(".",J)}var H=C||SiebelAppFacade.PresentationModel;this.SetPModel(new H(this));this.GetPModel().Setup(K.Clone())}this.GetPModel().Show()}t.prototype.Show=function(){this.ShowSelection();this.ClearErrorMsg();this.UpdateConditionals();if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnLoad)==="function"){this.shadow.OnLoad()}};t.prototype.ShowOnly=function(){var C=this.GetMenu();if(y.IsEmpty(C)){l.call(this)}if(!y.IsEmpty(C)){this.GetMenu().ShowMenuControl()}this.UpdateConditionals();this.FocusDefaultControl()};t.prototype.Query=function(C){C.Applet=this;SiebelApp.S_App.InvokeMethod("Query",C)};t.prototype.ShouldPopulateUItype=function(C){return(C==="Link")?false:true};t.prototype.UpdateAppletMessage=function(E,D){E=!y.IsEmpty(E)?E:null;D=D||0;var F=false;var G=this.GetQuerySubMode();var C="";switch(E){case"bInQueryState":if(D==1){F=true;this.SetQuerySubMode(r.get("QUERY_SUB_MODE_QUERY"));C=a.LocaleObject.GetLocalString("Query Mode Prompt")}else{if(G==r.get("QUERY_SUB_MODE_QUERY")){this.SetQuerySubMode(r.get("QUERY_SUB_MODE_EXIT_QUERY"));F=true}}break;case"bExecuted":if(D==1&&G==r.get("QUERY_SUB_MODE_EXIT_QUERY")){F=true;C=a.LocaleObject.GetLocalString("Query Result Prompt")}break;case null:if(G===r.get("QUERY_SUB_MODE_EXIT_QUERY")){this.SetQuerySubMode(r.get("QUERY_SUB_MODE_BASE"));F=true}break}this.GetQueryModePrompt=function(){if(F){return C}else{return null}};if(!this.GetBusComp()){return}if(F&&this.GetBusComp().GetNotifyObject().GetEnableUIUpdate(this.GetName())){}};t.prototype.GetQueryModePrompt=function(){};t.prototype.RepopulateField=function(E,D,C){C=C||false;return this.DoRepopulateField(E,D,C)};t.prototype.DoRepopulateField=function(J,H,G){var C=this.GetControls();for(var F in C){if(C.hasOwnProperty(F)){var E=C[F];var I=E.GetFieldName();if((G&&(F===J))||I===J){if(!this.ShouldPopulateUItype(E.GetUIType())){continue}var D=(this.IsInQueryMode()&&!G)?this.GetBusComp().GetFieldValue(I):this.GetFormattedFieldValue(E);this.FieldChange(E,D)}}}return};t.prototype.GetFieldValue=function(I,C){var E="";var H=I.GetName();var J=I.GetFieldName();var G=this.GetBusComp();if(this.IsPrivateField(H)){var D=this.GetPrivateFieldMap()[H];if(this.IsInQueryMode()){if(!y.IsEmpty(J)){E=G?G.GetFieldValue(J):""}else{E=D&&D.queryModeVal?D.queryModeVal:""}}else{if(D&&D.valueArray.length>0){var F=D.valueArray;
C=D.bInList?C:0;if(C!==""&&C!=="undefined"&&C!==undefined&&C!==null&&C>=0&&C<F.length){E=F[C]}else{C=(D.bInList&&G)?this.GetSelection():0;if(C<D.valueArray.length&&D.valueArray.length>0){E=F[C]}}}}}else{E=G?G.GetFieldValue(J):""}return E};t.prototype.ConfirmMethod=function(D){var C=[];var F=this.GetConfirmMessageMap()[D];if(a.LocaleObject&&F){var E=SiebelApp.S_App.LocaleObject.GetLocalString(F);var G=a.LookupStringCache(this.GetTitle());if(!G){G=a.LookupStringCache(this.GetName())}C.push(G);E=y.FormatString(E,C);return y.Confirm(E)}return true};t.prototype.SetCancelableRPCInfo=function(E,C){var D=this.GetCancelableMethodArray();if(D&&(y.IndexOf(D,E)>=0)&&!y.IsTrue(this.IsCancelQueryDisabled())){C.SetProperty(r.get("SWE_PROP_CANCELABLE_RPC"),"1")}};t.prototype.InvokeControlMethod=function(C,E,D){if(this.GetView()){if(!(this.GetView().SetActiveApplet(this))){this.GetView().ProcessError();return false}}return(this.InvokeMethod(C,E,D))};t.prototype.InvokeMethod=function(N,F,J){if(!N){return false}if(N==="ImplicitCommit"){var Q=this.GetView();if(Q&&typeof(Q.GetInvokeMethod)==="function"&&Q.GetInvokeMethod()){return false}}if(N!="OnFocus"){if(!SiebelApp.S_App.UploadFile()){SiebelApp.S_App.uiStatus.Free();return false}}var L=true;var T=false;F=F||CCFMiscUtil_CreatePropSet();var M=F.Clone();var I;this.SetCancelableRPCInfo(N,M);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeInvokeMethod("",this.GetName(),N,"Begin InvokeMethod")}if(N!=="GetQuickPickInfo"&&N!=="EditField"&&N!=="UndoRecord"&&N!=="OnFocus"&&N!=="EditPopup"){var R=this.GetActiveControl(),S=this.GetControlValueFromUI(R);if(R&&(S!==null)&&false===this.LeaveField(R,S,true)){this.EnterField(R);return false}}L=this.FirePreInvokeMethod(N,M);if(!L){SiebelApp.S_App.uiStatus.Free();return false}var H=this.GetActiveControl();if(this.ConfirmMethod(N)===false){SiebelApp.S_App.uiStatus.Free();if(H){this.SetFocusToCtrl(H.GetName(),true)}else{this.FocusFirstControl()}return true}if(N==="Drilldown"&&!F.GetProperty(m)){var R=this.GetActiveControl();if(!R||this.IsInQueryMode()||!this.CanNavigate(R.GetName())){return}var K=this.GetSelection();var D;if(typeof(R.GetSpanPrefix)==="function"){D=R.GetSpanPrefix();if(!y.IsEmpty(K)){D+=K+1}}else{D=R.GetInputName()}M.SetProperty(g,K+1);M.SetProperty(m,D)}if(N==="EditPopup"){x.call(this,J);this.FireInvokeMethod(N,F);return}if(N==="OnFocus"){var W=false,X=y.IsTrue(M.GetProperty(r.get("SWE_MENU_APPLET")))||false;if(!y.IsEmpty(this.GetView())){var P=true;if(!this.GetView().IsAppletActive(this)){P=false}this.FocusOnMenu(X);W=this.GetView().SetActiveApplet(this);this.FocusOnMenu(false);if(W&&!P&&!X){this.SetFocusDefaultControl(true);this.FocusDefaultControl()}this.FireInvokeMethod(N,F)}else{W=true;if(SiebelApp.S_App.GetActiveView()){SiebelApp.S_App.GetActiveView().SetActiveApplet(null)}if(SiebelApp.S_App.GetExternalActiveApplet()!==this){W=this.SetAppletActive(true,this)}}return W}if(N==="FocusDefaultControl"){this.SetFocusDefaultControl(true);this.FocusDefaultControl();this.FireInvokeMethod(N,F);return true}if(N==="ShowRoute"){return false}if(N==="UndoQuery"||N==="ExecuteQuery"||N==="UndoRecord"){this.SetFocusDefaultControl(true)}if(N==="OnEnterKey"){I=p.call(this);if(I===true){this.FireInvokeMethod(N,F)}return I}if(N==="OnEscapeKey"){I=e.call(this);if(I===true){this.FireInvokeMethod(N,F)}return I}if(N==="ImplicitCommit"){return(this.PostChangesToBC(true,null))}if((N==="GetQuickPickInfo")&&(this.GetCachedCtrlQuickPick(M)===true)){SiebelApp.S_App.InvokeCallBack();this.FireInvokeMethod(N,F);return true}if(N=="GotoLastSet"){var E=-1;this.GetBusComp().SetCurRowNum(E)}if(N!=="PositionOnRow"){this.CollectFieldValues(M)}var U;var G={};if(typeof(J)==="object"||J===true||J===false){G.scope=this;G.args=[];G.args.push(N);G.args.push(M);G.async=(typeof(J.async)==="boolean")?J.async:J;G.target=J.target;G.selfbusy=J.selfbusy||false;G.mask=J.mask||false;G.cb=function(){var Z=Array.prototype.slice.call(arguments),Y=O.GetProperty("Status"),aa=SiebelApp.S_App.ErrorObject.GetErrorSuppressState();Z.push(this.PostExecute.apply(this,arguments));if(typeof(J.cb)==="function"){J.cb.apply(J.scope||null,Z)}if((!aa)||(Y===r.get("SWE_RPC_PROP_STATUS_ERROR"))){SiebelApp.S_App.ErrorObject.SetErrorSuppressState(true);this.ProcessError()}}}else{G={scope:this,cb:function(){var Y=[];Y.push(N);Y.push(M);Y.push(O);U=this.PostExecute.apply(this,Y)}}}var V=M.GetProperty(r.get("SWE_PROP_CANCELABLE_RPC"));if(y.IsTrue(V)){that=this;var C=setTimeout(function(){that.ProcessCancelQueryPopup();that=null},1000*parseInt(SiebelApp.S_App.GetCancelQueryTimeout(),10));this.SetCancelQryTimeoutObj(C)}var O=CCFMiscUtil_CreatePropSet();this.CallServerApplet(N,M,O,G);return U};function p(){if(SiebelApp.S_App.GetPopupPM().Get("state")===r.get("POPUP_STATE_VISIBLE")&&SiebelApp.S_App.GetPopupPM().Get("isPopupSI")===true){return true}var G=this.GetActiveControl();if(y.IsEmpty(G)){return false}var C=CCFMiscUtil_CreatePropSet();var E=this.GetDefaultMethod();var D=this.GetDefaultQryMethod();if(this.IsInQueryMode()===true){if(D&&this.CanInvokeMethod(D)){return this.InvokeMethod(D,C)}else{return this.InvokeMethod("ExecuteQuery",C)}}else{if(E&&this.CanInvokeMethod(E)){return this.InvokeMethod(E,C)}else{if(false===this.LeaveField(G,this.GetControlValueFromUI(G),true)){this.EnterField(G);return false}var F=this.GetBusComp();if(F&&F.IsCommitPending()){return this.InvokeMethod("WriteRecord",C)}}}this.ClearErrorMsg();return false}function e(){var C=CCFMiscUtil_CreatePropSet();if(SiebelApp.S_App.GetPopupPM().Get("isCurrencyOpen")){return false}if(this.IsInQueryMode()===true){return this.InvokeMethod("UndoQuery",C)}if(this.GetBusComp()&&this.GetBusComp().IsCommitPending()){return this.InvokeMethod("UndoRecord",C)}else{return false}this.ClearErrorMsg()}t.prototype.PostExecute=function(E,J,H){var I=this.GetCancelQryTimeoutObj();var C=true;var D=arguments[2].GetProperty(f);var F=J.GetProperty(r.get("SWE_PROP_CANCELABLE_RPC"));if(y.IsTrue(F)&&!y.IsEmpty(I)){clearTimeout(I)}if(y.IndexOf(["timeout","error","abort","parsererror"],arguments[2].GetProperty(r.get("AJAX_FAIL_ERR")))!==-1){C=false}else{if(arguments[0]==="CanInvokeMethod"){var G=arguments[2].GetProperty("Result");C=(G==="true")?true:false}else{if(D===q||!D){C=false}else{if(D===A){C=true}}}}if(C===true){this.FireInvokeMethod(arguments[0],arguments[1])}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeInvokeMethod("",this.GetName(),E,"Finished InvokeMethod")}if(D==="DownloadFile"){SiebelApp.S_App.DownloadFile(arguments[2],arguments[1])}return C};t.prototype.ProcessCancelQueryPopup=function(){};t.prototype.CallServerApplet=function(D,E,I,F){var G=true;if(typeof(F)!=="undefined"){if(F.psresp===true||F.psresp===false){G=F.psresp}}var C=E.Clone();C.SetProperty(r.get("SWE_CMD_ARG"),r.get("SWE_CMD_INVOKE_METHOD_STR"));if(!y.IsEmpty(this.GetView())){C.SetProperty(r.get("SWE_VIEW_ID_ARG"),this.GetView().GetBusObj().GetZone());
C.SetProperty(r.get("SWE_VIEW_ARG"),this.GetView().GetName())}if(C.GetProperty(r.get("SWE_APPLET_STR"))===undefined||C.GetProperty(r.get("SWE_APPLET_STR")===null)){C.SetProperty(r.get("SWE_APPLET_STR"),this.GetName())}C.SetProperty(r.get("SWE_METHOD_STR"),D);if(D!="CollapseTreeItem"&&D!="ExpandTreeItem"&&D!="NextTreeItem"&&D!="PreviousTreeItem"&&D!="SelectTreeItem"){var H;if(!!this.GetBusComp()){H=this.GetBusComp().GetIdValue();C.SetProperty(r.get("SWE_ROW_ID_STR"),H)}if(H!==""){C.SetProperty(r.get("SWE_REQ_ROW_ID_STR"),"1")}else{C.SetProperty(r.get("SWE_REQ_ROW_ID_STR"),"0")}if(!!this.GetBusComp()){this.GetRowIds(C)}}if(C.GetProperty(r.get("SWE_ROW_IDS_STR"))===undefined||C.GetProperty(r.get("SWE_ROW_IDS_STR")===null)){this.GetRowIds(C)}if(C.GetProperty(r.get("SWE_ACTIVE_APPLET_STR"))===undefined||C.GetProperty(r.get("SWE_ACTIVE_APPLET_STR")===null)){C.SetProperty(r.get("SWE_ACTIVE_APPLET_STR"),this.GetName())}if(C.GetProperty(r.get("SWE_NEED_CONTEXT_STR"))===undefined||C.GetProperty(r.get("SWE_NEED_CONTEXT_STR")===null)){C.SetProperty(r.get("SWE_NEED_CONTEXT_STR"),"true")}C.SetProperty(r.get("SWE_COUNT_STR"),SiebelApp.S_App.GetSWEReqCount());if(this.GetPopBookMark()){C.SetProperty(r.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}if(D===r.get("SWE_EDIT_FIELD")||D===r.get("SWE_GET_PICK_INFO")){C.SetProperty(r.get("SWE_JS_EXTRA_INFO"),"false")}SiebelApp.S_App.OfflineCallMethod("SetNewRecord",this,C);SiebelApp.S_App.CallServer(C,I,G,F)};t.prototype.ExecuteUIUpdate=function(){this.DoExecuteUIUpdate()};t.prototype.ClearUIState=function(){this.ClearUIEventMap();if(!this.GetBusComp()){return}this.GetBusComp().GetNotifyObject().Set_DoPopulate(this.GetName(),false)};t.prototype.DoExecuteUIUpdate=function(){var C;if(!this.GetBusComp()){return}C=this.GetBusComp().GetNotifyObject();if((!C||!C.Get_EnableUIUpdate(this.GetName()))&&!this.GetEnableExecuteUIUpdate()){return}if(C.Get_DoPopulate(this.GetName())||this.GetEnableExecuteUIUpdate()){this.ShowSelection();if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopulateApplet(this.GetName(),"Finished Populate Applet")}}if(this.GetUpdateConditionals()){this.UpdateConditionals()}this.InvokeStateChange();C.Set_DoPopulate(this.GetName(),false);this.SetEnableExecuteUIUpdate(false);this.SetScrollDir(null);this.SetScrollAmount(0)};t.prototype.UpdateQuickPickInfoSrvr=function(F){var E;var G;var D=6;var J;var I=F[3];E=(F[4]==="false")?false:true;J=F[5];if(J.length!==0&&E&&F.length>D){var H=[];var C=F.length;for(G=D;G<C;G++){H.push(F[G])}a.SetStaticPickValues(J,H)}this.UpdateQuickPickInfo(I,E,F,D)};t.prototype.UpdateQuickPickInfo=function(I,D,G,C){var E=[];var H=G.length;for(var F=C;F<H;F++){E.push(G[F])}return E};t.prototype.GetCachedCtrlQuickPick=function(F){var C=this.GetControls();var I=F.GetProperty(r.get("SWE_FIELD_STR"));var E=this.GetSelection();if(I){for(var H in C){if(C.hasOwnProperty(H)){var G=C[H];var D=(typeof(G.GetInputName)==="function")?G.GetInputName():G.GetSpanPrefix()+E+1;if(D===String(I)){return this.GetCachedQuickPick(F,I,G)}}}}return false};t.prototype.GetCachedQuickPick=function(D,C,F){var E=[];if(F.GetPickApplet().length===0){return(false)}E=SiebelApp.S_App.GetStaticPickValues(F.GetPickApplet());if(y.IsEmpty(E)||E.length===0){return(false)}this.UpdateQuickPickInfo(C,true,E,0);return(true)};t.prototype.FieldDropdown=function(D){var H=null;var J=this.GetActiveControl();var E=[];if(this.IsPure()){var G=CCFMiscUtil_CreatePropSet();if(typeof(J.GetInputName)==="function"){H=J.GetInputName()}else{H=J.GetSpanPrefix()+this.GetSelection()+1}G.SetProperty(m,H);G.SetProperty(r.get("SWEJI"),"false");this.ClearUIState();this.InvokeMethod("GetQuickPickInfo",G)}else{var C=J.GetRadioGroupPropSet();var F=true;var I;while((I=C.EnumChildren(F))){F=false;E.push(I.GetProperty(j))}H=J.GetInputName();this.UpdateQuickPickInfo(H,true,E,0)}};t.prototype.GetDrilldownURL=function(C,E,D){};t.prototype.PositionOnRow=function(C){this.GetBusComp().PositionById(C.Id)};t.prototype.CollectFieldValues=function(C){this.DoCollectFieldValues(C);if(!!this.GetBusComp()){this.CollectUpdatedBCValues(C)}};t.prototype.DoCollectFieldValues=function(F){var K=this.GetControls();for(var D in K){if(K.hasOwnProperty(D)){var G=K[D];var C=G.GetUIType();var H=G.GetFieldName();var I=G.GetName();var E="";var J=this.GetBusComp();if(C!==v){if(H||this.IsPrivateField(I)||!this.IsPure()){if(!this.CanUpdate(I)||G.IsClientCtrl()){continue}if(this.IsInQueryMode()){if(!y.IsEmpty(H)){E=this.GetFieldValue(G)}else{if(this.IsPrivateField(I)){E=this.GetFormattedValue(G,false)}}}else{E=this.GetFormattedValue(G,false)}if(G.GetCtrlFldEncode()){E=y.ControlFieldEncode(E)}if(!y.IsEmpty(C)&&C!==("JavaApplet")&&(C.indexOf("J")===0||C.indexOf("P")===0||y.IndexOf(["Mailto","URL","Mvg","Pick"],C)!==-1)){if(typeof(G.GetInputName)==="function"){F.SetProperty(G.GetInputName(),E);SiebelApp.S_App.OfflineCallMethod("AddFieldName",this,F,D,E)}}}}}}};t.prototype.CollectUpdatedBCValues=function(E){var K=0;var D=true;var N=[];var J=[];var C={};var F;var O;var L;while((F=this.GetBusComp().EnumUpdates(D))){if(D){C={};var M=this.GetControls();for(var I in M){if(M.hasOwnProperty(I)){var G=M[I];var H=G.GetFieldName();if(H){C[H]=1}}}D=false}if(C[F.fieldName]!==1){N[K]=F.fieldName;J[K]=F.newValue;K++}}if(K<1){return(true)}L=CCFMiscUtil_CreatePropSet();O=CCFMiscUtil_CreatePropSet();O.SetType("FieldValues");L.AddChild(O);O.SetProperty("FieldArray",CCFMiscUtil_ArrayToString(N));O.SetProperty("ValueArray",CCFMiscUtil_ArrayToString(J));E.SetProperty("SWEBCVals",L.EncodeAsString());return(true)};t.prototype.OnBlur=function(D,E){var C;C=this.LeaveField(D,E,false);if(C&&D){D.FireOnBlur()}return C};t.prototype.OnFocus=function(D,E){var C;C=this.EnterField(D,E);if(C&&D){D.FireOnFocus()}return C};t.prototype.ProcessFormattedValue=function(G,E,I,F,D,C){var H=this.SetFormattedValue(G,E);return(this.OnActionsSetFormattedValue(G,I,F,D,C,H))};t.prototype.OnActionsSetFormattedValue=function(G,I,F,D,C,E){var H=this.GetBusComp();if(!E){this.SetPrsrvControl(this.GetActiveControl());H.ProcessError();D=this.GetFormattedValue(G,true);this.FieldChange(G,D);return false}if(!y.IsEmpty(G.GetFieldName())&&this.HasCustomShadow()){I=this.GetFormattedFieldValue(G,true);F=!!H?this.GetFormattedValue(G,true):G.GetValue();if((I!=F)||(!(D===undefined)&&I!=D)){this.FireOnChangeFieldValue(G.GetFieldName(),I)}}return true};t.prototype.LeaveField=function(D,E,Q){if(!D||D!==this.GetActiveControl()){this.SetPrsrvControl(this.GetActiveControl());this.SetActiveControl(null);return true}var O=this.GetBusComp();var M=D.GetFieldName();var F=!!O?this.GetFormattedValue(D):D.GetValue();var L=D.GetName();var K=this.TransformValue(D,E,F);if(K!==null){if(!!O){if(this.IsInQueryMode()){var P=D.GetUIType();if(P==r.get("SWE_CTRL_DATE_TZ_PICK")||P==r.get("SWE_CTRL_DATE_TIME_PICK")||P==r.get("SWE_CTRL_DATE_PICK")){if(E&&!E.match(/[><=!&|]/g)){K=this.AssignQuotes(D,K,E)}}if(!y.IsEmpty(M)){O.SetFieldValue(M,K)}}else{var C;if(this.CanUpdate(L)&&(this.GetSelection()>=0||this.IsPrivateField(L))){var I=E;
var P=D.GetUIType();if(P==r.get("SWE_CTRL_COMBOBOX")||D.IsPostChanges()){C=this.GetFormattedFieldValue(D,true)}var G=this.ProcessFormattedValue(D,K,E,F,C,Q);if(!G){return false}}}}else{if(D.GetRadioGroupPropSet().GetChildCount()!==0){var S=D.GetRadioGroupPropSet();var J=true;var R;var H=B;if(D.GetUIType()===r.get("SWE_CTRL_COMBOBOX")){H=j}while((R=S.EnumChildren(J))){if(R.GetProperty(H)===E){var N=R.GetProperty(B);D.GetValue=function(){return N};break}J=false}S=null}else{D.GetValue=function(){return E}}}SiebelApp.S_App.OfflineCallMethod("PassOldValue",this,D,E,F)}if(!Q){this.SetPrsrvControl(this.GetActiveControl());if(D.GetCaseSensitive()&&this.IsInQueryMode()){this.UpdateCSQueryMsg(false)}this.SetActiveControl(null)}return true};t.prototype.UpdateCSQueryMsg=function(){};t.prototype.AssignQuotes=function(G,E,F){var C=SiebelApp.S_App.LocaleObject;var D=G.GetUIType();if(!y.IsISO(D,F)&&!y.IsEmpty(F)){if(D===r.get("SWE_CTRL_DATE_TZ_PICK")||D===r.get("SWE_CTRL_DATE_TIME_PICK")){E=C.GetStringFromDateTime(F,(C.GetDateFormat()+" "+C.GetTimeFormat()),(G.GetDisplayFormat()||(C.GetDateFormat()+" "+C.GetTimeFormat())))}else{if(D===r.get("SWE_CTRL_DATE_PICK")){E=C.GetStringFromDateTime(F,C.GetDateFormat(),G.GetDisplayFormat()||C.GetDateFormat())}}}if(!y.IsEmpty(E)&&E.charAt(0)!=='"'&&E.charAt(E.length-1)!=='"'){E='"'+E+'"'}else{E=F}return E};t.prototype.TransformValue=function(H,G,E){var C=SiebelApp.S_App.LocaleObject,F=G,D=H.GetUIType();if(D===r.get("SWE_CTRL_DATE_TZ_PICK")||D===r.get("SWE_CTRL_DATE_TIME_PICK")){E=this.GetFormattedValue(H,true);if(y.IsISO(D,G)){F=C.GetStringFromDateTime(G,r.get("ISO8601_DATETIME_FORMAT"),(H.GetDisplayFormat()||(C.GetDateFormat()+" "+C.GetTimeFormat())))}}else{if(D===r.get("SWE_CTRL_DATE_PICK")){E=this.GetFormattedValue(H,true);if(y.IsISO(D,G)){F=(C.GetStringFromDateTime(G,r.get("ISO_DATE_FORMAT"),(H.GetDisplayFormat()||C.GetDateFormat())))}}}if(F===""&&G!==""){F=G}return(E!==F)?F:null};t.prototype.EnterField=function(D,E){var C=false;if(!this.GetActiveControl()&&!D){return C}var F=this.GetPrsrvControl();this.SetPrsrvControl(this.GetActiveControl());if(!!this.GetView()){if(!(this.GetView().SetActiveApplet(this))){if(D){this.SetFocusToCtrl(D.GetName(),false)}this.GetView().ProcessError();this.SetPrsrvControl(F);return C}}this.SetActiveControl(D);if(D.GetCaseSensitive()&&this.IsInQueryMode()){this.UpdateCSQueryMsg(true)}C=true;return C};function z(F,E,G,C,H){var D;if(E){if(y.IsEmpty(C)){D=this.GetBusComp().WSGetFieldValue(H)}else{D=G[C][H]}}else{D=this.GetFieldValue(F)}return D}t.prototype.GetFormattedFieldValue=function(G,K,N){var M=G.GetFieldName();var D;var I;var H=this.GetBusComp();var J=H?H.GetRecordSet():[];if(!y.IsEmpty(G.GetControlMsg())){D=d.call(this,G,K,J,N);return D}if(!H){return G.GetValue()||""}if(G&&this.IsPrivateField(G.GetName())){D=this.GetFieldValue(G,N)}else{D=z.call(this,G,K,J,N,M)}if(SiebelApp.S_App.LocaleObject){var E=H.GetField(M);if(!E&&!this.IsPrivateField(G.GetName())){this.GetBusComp().SetErrorMsg("BCErrNoSuchField",M);return}h.call(this,J,N,M);if(E){var C=E.GetDataType();var L=D;var F=G.GetDisplayFormat();D=SiebelApp.S_App.LocaleObject.StringToFormatted(C,L,F)}}return D};t.prototype.SetFormattedValue=function(E,H){var D;var G;var F;var C=E.GetName();var J=false;if(this.IsPrivateField(C)){var I=this.GetPrivateFieldMap()[C];D=I.valueArray[0];if(this.IsInQueryMode()){this.GetPrivateFieldMap()[C].queryModeVal=String(H)}else{if(I.valueArray.length>0){if(I.valueArray[0]!=H){this.GetPrivateFieldMap()[C].valueArray[0]=String(H);this.GetPrivateFieldMap()[C].bDirty=true;if(this.GetPrivateFieldMap()[C].allowPostChanges){J=true}}}else{this.GetPrivateFieldMap()[C].valueArray.push(H);this.GetPrivateFieldMap()[C].bDirty=true;if(this.GetPrivateFieldMap()[C].allowPostChanges){J=true}}}}if(!y.IsEmpty(E.GetFieldName())){D=this.GetFormattedValue(E,true);if((D===H)&&(!this.IsPrivateField(C))){G=true}else{G=this.GetBusComp().SetFormattedValue(E.GetFieldName(),H,E.GetDisplayFormat());if(!G){this.FieldChange(E,D);this.SetFocusToCtrl(C,true);return G}}}else{if(!J){return true}}H=this.GetFormattedValue(E,true);if(!y.IsEmpty(E.GetFieldName())){F=this.GetBusComp().GetFieldMap()[E.GetFieldName()];if(F&&(D!=H)&&(F.IsPostChanges()||F.IsBoundedPick())){G=this.PostChangesToBC(false,E.GetFieldName())}}else{if((D!=H)&&J){G=this.PostChangesToBC(false,E.GetFieldName())}}return G};t.prototype.GetFormattedValue=function(E,C){var D="";if(this.IsPrivateField(E.GetName())){D=this.GetFieldValue(E);return D}var F=this.GetBusComp();if(F&&(this.IsInQueryMode()||!C)){D=this.GetBusComp().GetFormattedValue(-1,E.GetFieldName(),"")}else{D=this.GetFormattedFieldValue(E,false)}return D};function d(D,I,H,L){var E=D.GetControlMsg();var F;var G=D.GetMessageVariableMap();for(var J in G){if(G.hasOwnProperty(J)){var K=G[J];var C=this.GetBusComp().GetField(K).GetDataType();F=z.call(this,D,I,H,L,K);h.call(this,H,L,K);F=SiebelApp.S_App.LocaleObject.StringToFormatted(C,F,"");E=E.replace("%"+J,F)}}return E}function h(I,K,J){var C=this.GetBusComp().GetField(J);if(C&&C.GetDataType()=="currency"){var E;var F;var H,G;var D=C.GetCurrField();H=D.indexOf("|");if(H>=0){G=(D.substring(H+1).indexOf("|")==-1)?-1:(D.substring(H+1).indexOf("|")+H);if(G<0){G=D.length}E=D.substr(0,H);if(E.length!=0){if(y.IsEmpty(K)){sCurrCode=this.GetBusComp().GetFieldValue(E)}else{sCurrCode=I[K][E]}if(sCurrCode){SiebelApp.S_App.LocaleObject.SetCurrencyCode(sCurrCode)}else{SiebelApp.S_App.LocaleObject.SetCurrencyCode("")}}E=D.substr(H+1,G-H-1);if(E.length!=0){F=this.GetBusComp().GetFieldValue(E);if(F){SiebelApp.S_App.LocaleObject.SetExchDate(F)}}}}}t.prototype.PostChangesToBC=function(J,K,D){var E=true;var G=CCFMiscUtil_CreatePropSet();var F;var I;var C;if(!this.IsPure()){return true}I=this.HasPendingCommit(K,J);C=this.GetBusComp().IsDeletePending();if(I||C){if(J){if(C&&!I){G.SetProperty(r.get("SWE_DELETE_ONLY"),"1")}F="WriteRecord";if(this.CanInvokeMethod(F)){if(D){var H={};H.ev=r.get("EVENT_NO_FOCUS");this.SetUIEventMap(H)}E=this.InvokeMethod(F,G);return E}}else{if(!y.IsEmpty(K)){G.SetProperty(r.get("SWE_POST_ON_CHANGE_STR"),K)}if(D){G.SetProperty(r.get("SWE_POST_FORCE_STR"),"Y")}F="PostChanges";SiebelApp.S_App.uiStatus.Busy({});E=this.InvokeMethod(F,G);SiebelApp.S_App.uiStatus.Free();return E}}this.ClearErrorMsg();return E};t.prototype.HasPendingCommit=function(I,H){var F=(I&&this.GetActiveControl()&&!y.IsEmpty(this.GetActiveControl().GetFieldName())&&this.GetActiveControl().GetFieldName()==I);var G=(this.GetBusComp()&&this.GetBusComp().IsCommitPending());var C=false;var E=this.GetControls();for(var D in E){if(this.IsPrivateField(D)){if(this.GetPrivateFieldMap()[D].bDirty===true&&this.GetPrivateFieldMap()[D].allowPostChanges===true){C=true;break}}}return(F||G||C)};t.prototype.UpdateRowCounter=function(){};t.prototype.ShowSelection=function(C){if(!!this.GetBusComp()){this.UpdateRowCounter()}};t.prototype.RefreshData=function(C){};t.prototype.FieldChange=function(D,C){};t.prototype.UpdateStateChange=function(){};t.prototype.InvokeStateChange=function(){};
t.prototype.Notify=function(D){var E=r.get("SWE_NOTIFICATION_TYPE_POSITION");var C=r.get("SWE_NOTIFICATION_TYPE_REQUERY");switch(D){case E:this.ShowSelection();break;case C:this.RefreshData(true);this.ShowSelection()}};t.prototype.NotifyBeginNotifys=function(){this.UpdateAppletMessage()};t.prototype.NotifyNewActiveRow=function(){var C;if(y.IsEmpty(this.GetBusComp())){return}C=this.GetBusComp().GetNotifyObject();if(C&&C.Get_EnableUIUpdate(this.GetName())){C.Set_DoPopulate(this.GetName(),true)}};t.prototype.NotifyChangeSelection=function(){if(!this.GetEnableUIUpdate()){return}this.SetUpdateConditionals(true);this.UpdateRowCounter()};t.prototype.NotifyDeleteRecord=function(E,D){var C;if(y.IsEmpty(this.GetBusComp())){return}C=this.GetBusComp().GetNotifyObject();if(!C||!C.Get_EnableUIUpdate(this.GetName())){return}C.SetDoPopulate(this.GetName(),true);this.FireOnChangeRecord()};function u(F){if(F.length>0&&F[0]===this.GetName()){var H=F[1];var C=F[2];var E=F[3];var D=F[4];var G=this.GetControls()[H];if(!G){return}G.GetDisplayName=function(){return C};if(D!==G.GetUIType()||(y.IsTrue(G.IsEditEnabled())&&!y.IsTrue(E))||(!y.IsTrue(G.IsEditEnabled())&&y.IsTrue(E))){G.IsEditEnabled=function(){return E};if(y.IsTrue(E)){G.GetUIType=function(){return s}}else{G.GetUIType=function(){return D}}this.HandleCtrlDefChange(G)}}}t.prototype.HandleCtrlDefChange=function(C){};t.prototype.NotifyGeneric=function(E,C){var G=CCFMiscUtil_CreatePropSet();G.SetType(E);var F=C.length;for(var D=0;D<F;D++){G.SetProperty(D.toString(),C[D])}switch(E){case"SWEICanInvokeMethod":this.NotifyCanInvokeMethod(E,C);break;case"SWEICtlDefChanged":u.call(this,C);break;case"SWEIPrivFlds":this.NotifyPrivateFields(E,C);break;case"SWEICanUpdate":this.NotifyCanUpdate(E,C);break;case"SWEICanNavigate":this.NotifyCanNavigate(E,C);break;case"SWEAInvokeMethod":this.NotifyInvokeMethod(E,C);break;case"DeletePopup":if(C[0]===this.GetName()){this.DeletePopup()}break;case"SetPopupBookmark":if(C[0]===this.GetName()){this.SetPopBookMark(C[1])}break;case"GetQuickPickInfo":if(C[2]===this.GetName()){this.UpdateQuickPickInfoSrvr(C)}break;case"BegRow":b.call(this,C);break;case"GetCurrencyCalcInfo":if(C[2]===this.GetName()){this.UpdateCurrencyCodeInfo(0,C)}break;case"GetCurrencyCodeInfo":if(C[2]===this.GetName()){this.UpdateCurrencyCodeInfo(1,C)}break;case"CloseCurrencyPickApplet":if(C[2]===this.GetName()){this.UpdateCurrencyCodeInfo(2,C)}break;default:break}SiebelApp.EventManager.fireEvent("ProxyComplete",[this,E,C]);return(true)};function b(C){var D,F;if(C.length>=2){D=C[0];F=Number(C[1]);if(D===this.GetName()&&F>=0){var E;if(y.IsEmpty(this.GetBusComp())){return}E=this.GetBusComp().GetNotifyObject();if(E){E.SetBegRow(this.GetName(),F);if(this.CanUpdateUI()===true){E.SetDoPopulate(this.GetName(),true)}}}}}t.prototype.NotifyStateChanged=function(D,C){this.UpdateAppletMessage(D,C)};t.prototype.NotifyPageRefresh=function(){var C;if(!this.GetEnableUIUpdate()&&!this.GetView().GetActiveApplet()){return}C="?SWECmd=Refresh&SWEFullRefresh=true&SWEView="+this.GetView().GetName()+"&SWEApplet="+this.GetView().GetActiveApplet().GetName()+"#SWEApplet="+this.GetView().GetActiveApplet().GetId();SiebelApp.S_App.SetURLToGo(C,"",true,this.GetView().GetName(),this.GetView().GetBusObj().GetZone(),true)};t.prototype.NotifyInvokeMethod=function(G,E){var F,D;var C=CCFMiscUtil_CreatePropSet();if(E.length>=2){F=E[0];D=E[1];if(F===this.GetName()&&!y.IsEmpty(D)){this.InvokeMethod(D,C,true)}}};t.prototype.NotifyNewPrimary=function(C){};t.prototype.NotifyEndNotifys=function(){return(true)};t.prototype.NotifyNewFieldData=function(D){var C;if(y.IsEmpty(this.GetBusComp())){return}C=this.GetBusComp().GetNotifyObject();if(!C||!C.Get_EnableUIUpdate(this.GetName())){return}this.RepopulateField(D,false,false)};t.prototype.NotifyNewFieldList=function(){var D;var C=this.GetView();if(C){var E=C.GetActiveApplet();if(!this.GetEnableUIUpdate()&&!E){return}D="?SWECmd=Refresh&SWEView="+C.GetName()+"&SWEApplet="+E.GetName();SiebelApp.S_App.SetURLToGo(D,"",true,C.GetName(),C.GetBusObj().GetZone(),true)}};t.prototype.NotifyNewDataWS=function(D){var C;this.RepopulateField(D,false,false);if(y.IsEmpty(this.GetBusComp())){return}C=this.GetBusComp().GetNotifyObject();if(!C||!C.Get_EnableUIUpdate(this.GetName())){return}};t.prototype.NotifyNewRecordDataWS=function(){var C;if(!this.GetBusComp()){return}C=this.GetBusComp().GetNotifyObject();if(!C||!C.Get_EnableUIUpdate(this.GetName())){return}C.Set_DoPopulate(this.GetName(),true)};t.prototype.NotifyNewQuerySpec=function(){var C=this.GetPrivateFieldMap();for(var D in C){if(C.hasOwnProperty(D)){C[D].queryModeVal=""}}};t.prototype.NotifyBeginQuery=function(){var C=this.GetBusComp().GetNotifyObject();C.SetDoPopulate(this.GetName(),true);if(y.IsEmpty(this.GetView())||this===this.GetView().GetActiveApplet()){this.SetFocusDefaultControl(true)}this.BeginQueryState()};t.prototype.NotifyNewFieldQuerySpec=function(D){var C;if(y.IsEmpty(this.GetBusComp())){return}C=this.GetBusComp().GetNotifyObject();if(!C||!C.Get_EnableUIUpdate(this.GetName())){return}this.RepopulateField(D,false,false)};t.prototype.NotifyScrollAmount=function(C,D){this.SetScrollDir(C);this.SetScrollAmount(D)};t.prototype.NotifyEndQuery=function(){this.EndQueryState()};t.prototype.BeginQueryState=function(){};t.prototype.EndQueryState=function(){};t.prototype.NotifyExecute=function(){};t.prototype.NotifyCanUpdate=function(G,I){if(I.length>0){if(I[0]===this.GetName()){var E=0;var J=true;var H;var D;for(var F=1,C=I.length;F<C;F+=2){E=parseInt(I[F],10);H=I[F+1];if(isNaN(E)){continue}J=(H==="1"||H==="Y"||H==="y")?true:false;if(E>=this.GetCanUpdateArray().length){continue}D=this.GetCanUpdateArray()[E];if(y.IsEmpty(D)){continue}this.GetCanUpdateByName()[D].bCanUpdate=J}if(this.CanUpdateUI()===true){this.UpdateStateChange()}}}};t.prototype.NotifyCanNavigate=function(G,J){var E;var C;var I;var F=[];var D;var H=J.length;if(J&&H>0){D=J[0];if(D===this.GetName()){for(E=1;E<H;E++){I=J[E];if(!I){continue}if(I.charAt(0)==="*"){if(F.length>0){this.GetCanNavigateMap()[C]=F}C=I.substr(1);F=[];continue}if(!C){continue}F.push(I)}if(F.length>0){this.GetCanNavigateMap()[C]=F}this.NavigateState()}}};t.prototype.NavigateState=function(){};t.prototype.NotifyPrivateFields=function(D,C){var E;if(C.length>0){if(C[0]===this.GetName()){var G=0;var O=null;var T=null;var N=false;var F=true;for(var Q=1,R=C.length;Q<R;Q++){O=C[Q];if(y.IsEmpty(O)){continue}if(O.charAt(0)==="*"){T=O.substr(1);G=0;N=true;if(F){var J=this.GetControl(T);if(J){var L=J.GetControlType();if(L&&L==="co"){this.SetEnableExecuteUIUpdate(true);F=false}}}}if(O.charAt(0)==="@"){valueSet=CCFMiscUtil_CreatePropSet();O=O.substr(1);valueSet.DecodeFromString(O);var I=this.GetControl(T);if(I){for(var P=0;P<valueSet.GetChildCount();P++){var K=valueSet.GetChild(P);var H=K.GetProperty("FieldValue");var S=K.GetProperty("Selected");if(S){var M=H;I.GetValue=function(){return M}}}I.SetRadioGroupPropSet(valueSet);this.RepopulateField(T,false,true)}}O=O.substr(1);if(y.IsEmpty(T)){continue
}if(!this.GetPrivateFieldMap()){this.SetPrivateFieldMap()}if(!this.GetPrivateFieldMap()[T]){this.GetPrivateFieldMap()[T]={}}if(N){this.GetPrivateFieldMap()[T].valueArray=[];this.GetPrivateFieldMap()[T].bDirty=false;N=false;continue}if(this.GetPrivateFieldMap()[T].valueArray&&G>=this.GetPrivateFieldMap()[T].valueArray.length){this.GetPrivateFieldMap()[T].valueArray[G++]=String(O);G=this.GetPrivateFieldMap()[T].valueArray.length}else{if(this.GetPrivateFieldMap()[T].valueArray){this.GetPrivateFieldMap()[T].valueArray[G++]=String(O)}else{this.GetPrivateFieldMap()[T].valueArray=[];this.GetPrivateFieldMap()[T].valueArray[G++]=String(O)}}if(this.CanUpdateUI()===true){if(!E){E={};E.ar=[]}E.ar.push(T)}}if(E){E.ev=r.get("NOT_PRV_FIELDS");this.SetUIEventMap(E)}}}};t.prototype.NotifyCanInvokeMethod=function(H,D){if(D.length>0){if(D[0]===this.GetName()){var G=0;var K=true;var I;var C;var J=false;for(var E=1,F=D.length;E<F;E+=2){G=parseInt(D[E],10);I=D[E+1];if(isNaN(G)){continue}if(y.IsEmpty(I)){continue}K=(I==="1"||I==="Y"||I==="y")?true:false;if(G>=this.GetCanInvokeArray().length){continue}C=this.GetCanInvokeArray()[G];if(y.IsEmpty(C)){continue}if(this.GetCanInvokeByName()[C]){if(this.GetCanInvokeByName()[C].bCanInvoke!==K){this.GetCanInvokeByName()[C].bCanInvoke=K;J=true}}else{this.GetCanInvokeByName()[C]={};this.GetCanInvokeByName()[C].bCanInvoke=K;J=true}}if(this.CanUpdateUI()===true&&J===true){this.SetUpdateConditionals(true);this.InvokeStateChange()}return J}}};function x(G){var I={},C=this.GetActiveControl(),H=(this.GetView()?this.GetView().SetActiveApplet(this):this.SetAppletActive(true,this));if(H&&C){var K=this.GetControls();for(var F in K){if(K.hasOwnProperty(F)){var E=K[F];if(E===C){switch(E.GetUIType()){case r.get("SWE_CTRL_COMBOBOX"):this.FieldDropdown(G);break;case r.get("SWE_CTRL_CURRENCY_CALC"):E.ShowPopup();break;case r.get("SWE_CTRL_CALC"):case r.get("SWE_CTRL_DATE_PICK"):case r.get("SWE_CTRL_DATE_TIME_PICK"):case r.get("SWE_CTRL_DATE_TZ_PICK"):this.ShowPopup(E);break;case r.get("SWE_CTRL_TEXT"):if(E.GetPopupType()!==r.get("SWE_CTRL_DETAIL")){var J=this.GetFieldDataType(E.GetFieldName());if(J.toLowerCase()===r.get("SWE_CTRL_PHONE").toLowerCase()){var D=SiebelAppFacade.ComponentMgr.FindComponent({id:r.get("SWE_PST_COMM_TOOLBAR")});if(D){if(D.ExecuteMethod("CallContactFromUIEnabled")){D.ExecuteMethod("OpenCallContactFromUIPopup",this.GetControlValueFromUI(E))}}}break}case r.get("SWE_CTRL_MVG"):case r.get("SWE_CTRL_PICK"):case r.get("SWE_CTRL_EFFDAT"):if(!G){I.async=true;I.selfbusy=true;SiebelApp.S_App.uiStatus.Busy({mask:true});I.cb=function(){SiebelApp.S_App.uiStatus.Free()}}this.FieldPopup(I);break}}}}}return(true)}t.prototype.ShowPopup=function(C){return};t.prototype.FieldPopup=function(D){var F=CCFMiscUtil_CreatePropSet();var H=this.GetActiveControl();if(!H){return}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Start PopupApplet")}var E=H.GetHeight();var C=H.GetWidth();var G=null;if(typeof(H.GetSpanPrefix)==="function"){G=H.GetSpanPrefix();if(!y.IsEmpty(this.GetSelection())){G+=this.GetSelection()+1}}else{G=H.GetInputName()}F.SetProperty(r.get("SWE_FIELD_STR"),G);F.SetProperty(r.get("SWE_METHOD_STR"),"EditField");F.SetProperty(r.get("SWE_SHOW_POPUP_STR"),"true");F.SetProperty(r.get("SWE_HEIGHT_STR"),E);F.SetProperty(r.get("SWE_WIDTH_STR"),C);F.SetProperty("SWECSP","false");this.InvokeMethod("EditField",F,D)};t.prototype.DeletePopup=function(){var C=this.GetPopupApplet();if(C){C.Close();this.SetPopupApplet(null)}};t.prototype.Close=function(){if(this.IsPopupClosed()){return}var C=this.GetParentApplet();if(y.IsEmpty(this.GetView())||this.GetView().IsAppletActive(this)||this.GetView().GetActiveAppletOnLoad()===this){if(C&&C.GetPopupControl()&&!C.GetActiveControl()){}c.call(this,false);if(!y.IsEmpty(this.GetView())){if(C.GetParentApplet()){this.GetView().SetActiveAppletOnLoad(C)}else{this.GetView().SetActiveApplet(C)}}}var D=this.GetBusComp();c.call(this,false);if(D){D.DeRegister(this)}if(C){C.SetPopupMethod(null);C.SetPopupControl(null)}if(D&&C&&D!==C.GetBusComp()){D.GetBusObj().RemoveBusComp(this.GetBusComp())}if(C){this.SetParentApplet(null)}if(y.IsEmpty(this.GetView())){SiebelApp.S_App.RemoveApplet(this)}else{this.GetView().RemoveApplet(this)}this.SetPopupClosed(true)};t.prototype.SetAppletActive=function(D,E){var C=false;if(!this.HandleImplicitCommit(D,E)){return C}C=this.DoSetAppletActive(D,E);if(D){this.RestoreControlFocus()}if(SiebelApp.S_App.IsExternalApplet(this)){SiebelApp.S_App.SetExternalActiveApplet(D?this:null)}return C};t.prototype.DelayPostOnLastActive=function(){return false};t.prototype.SetAppletToDelayPost=function(){return};t.prototype.HandleImplicitCommit=function(E,H){var C=true;var F=null;if(!SiebelApp.S_App.UploadFile()){return false}if(H&&!H.GetBusComp()&&H.GetView()&&H.GetView()!==SiebelApp.S_App.GetActiveView()){return false}if(!H||(H&&!H.DelayPostOnLastActive())){if(H){F=H.GetParentApplet()}if(!E){if(!this.SetActiveCtrlValue()){return(C=false)}var D=this.GetBusComp();if(!H||(((D&&(D.IsTransientBC()||H.GetBusComp()!==D||(!H.IsNoUpdate()&&!D.insertPending)))||!H.IsEditable())&&(H!==this.GetParentApplet())&&(!this.GetParentApplet()||this!==this.GetParentApplet())&&!this.GetPopupApplet())){var G;if(H&&H!==this){G=true}if(!this.PostChangesToBC(true,null,G)){return(C=false)}}}}else{if(!E&&!this.DelayPostOnLastActive()){H.SetAppletToDelayPost(this)}}return C};t.prototype.SetActiveCtrlValue=function(){var C=true;var D=false;if(!this.GetActiveControl()){return C}return C};t.prototype.RestoreControlFocus=function(){if((!y.IsEmpty(this.GetView())&&!this.GetView().IsAppletActive(this))||!this.CanUpdateUI()||y.IsTrue(this.IsMenuOnFocus())){return}var C=this.GetActiveControl()||this.GetPrsrvControl();if(C){this.SetFocusToCtrl(C.GetName(),true)}};t.prototype.SetFocusToCtrl=function(C){};t.prototype.DoSetAppletActive=function(C,D){if(!this.CanUpdateUI()){return true}this.SetHighlightState(C,D);this.ClearErrorMsg();return true};t.prototype.FocusFirstControl=function(){};t.prototype.FocusSelectedTreeNode=function(C){};t.prototype.SetHighlightState=function(C,D){};t.prototype.FocusOnApplet=function(){};t.prototype.DispatchFocus=function(C){if(C){this.FocusFirstControl()}else{this.FocusOnApplet()}};t.prototype.FocusDefaultControl=function(C){var E=false;var D;if(y.IsEmpty(C)){C=false}if(!this.GetFocusDefaultControl()){return}if(this.IsInQueryMode()){D=this.GetDefaultFocusOnQuery()}else{if(!!this.GetBusComp()&&this.GetBusComp().insertPending){D=this.GetDefaultFocusOnNew();E=false}else{D=this.GetDefaultFocusOnEdit();E=true}}if(y.IsEmpty(D)){this.DispatchFocus(C||!E)}else{this.SetFocusToCtrl(D,true)}this.SetFocusDefaultControl(false)};t.prototype.GetActiveMode=function(){if(this.GetBusComp()==null){return("")}else{if(this.GetBusComp().IsInsertPending()){return("New")}else{return("Edit")}}};t.prototype.GetControlElement=function(D){var C;C=this.GetControl(D);if(C==null){return(null)}if(!C.GetInputName()){return(null)
}else{return $("[name='"+C.GetInputName()+"']")[0]}};t.prototype.GetControlValueFromUI=function(C){if(!C){C=this.GetActiveControl();if(!C){return}}this.GetPhysicalControlValue(C);return(this.GetPModel().Get("PhysicalCtrlVal"))};t.prototype.GetPhysicalControlValue=function(C){};t.prototype.GetControlValueByName=function(C){var D=this.GetControl(C);if(D!=null){return this.GetFormattedValue(D,true)}else{return""}};t.prototype.SetControlValueByName=function(C,D){var E=this.GetControl(C);if(E!=null){this.SetFormattedValue(E,D)}};t.prototype.ForceProcessResponse=function(C,F,E){if(!y.IsEmpty(E)){var D={};D.scope=this;D.args=[];D.args.push(C);D.selfbusy=false;D.mask=true;D.async=true;D.opdecode=true;D.cb=function(){var H=Array.prototype.slice.call(arguments);this.PostExecute(C,F,H[H.length-1],D)};var G={};G.scope=SiebelApp.S_App;G.lp=D;G.outputPS=CCFMiscUtil_CreatePropSet();G.nPR=true;SiebelApp.S_App.OnSuccessCallServer.call(G,E,status,{})}};t.prototype.FirePreInvokeMethod=function(E,D){var C;if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnPreInvokeMethod)==="function"){C=this.shadow.OnPreInvokeMethod(E,D);if(C=="CancelOperation"){return false}return true}return true};t.prototype.FireInvokeMethod=function(D,C){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnInvokeMethod)==="function"){this.shadow.OnInvokeMethod(D,C)}};t.prototype.FireOnChangeRecord=function(){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnChangeRecord)==="function"){this.shadow.OnChangeRecord()}};t.prototype.FireOnChangeFieldValue=function(D,C){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnChangeFieldValue)==="function"){this.shadow.OnChangeFieldValue(D,C)}};t.prototype.NewFileAttachment=function(L,P){if(!SiebelApp.S_App.UploadFile()){return false}var N=this.GetBusComp();var E="";var G={};var D="";var K="";var H="";var O=this.GetControls();var J=null;var C=CCFMiscUtil_CreatePropSet();G[r.get("SWE_PROP_SESSION_RANDOM_NUMBER")]=SiebelApp.S_App.GetSRN();if(!P&&N&&N.IsClientOnlyCommitPending()){var M=this.InvokeMethod("WriteRecord",C);if(!M||N.IsClientOnlyCommitPending()){if(this.HasErrorMsg()){this.ProcessError()}return false}}E=this.GetPopBookMark();if(!E){E=""}if(L){this.CollectFieldValues(C);for(var I=true;(sKey=C.EnumProperties(I))!==null;I=false){sValue=C.GetProperty(sKey);G[sKey]=sValue}}if(!y.IsEmpty(this.GetView())){G[r.get("SWE_VIEW_ARG")]=this.GetView().GetName()}G[r.get("SWE_APPLET_STR")]=this.GetName();D=CCFMiscUtil_CreatePropSet();if(!!this.GetBusComp()){K=this.GetRowIds(D)}if(!K){K=""}G[r.get("SWE_ROW_IDS_STR")]=K;G[r.get("SWE_POPUP_VECTOR_STR")]=E;J=O[String(r.get("SWE_FILE_NAME_STR"))];if(L||(!y.IsEmpty(E)&&this.GetParentApplet()&&J&&J.GetUIType()===r.get("SWE_CTRL_FILE"))){if(!!this.GetBusComp()){H=this.GetBusComp().GetIdValue();G[r.get("SWE_ROW_ID_STR")]=H}if(H!==""){G[r.get("SWE_REQ_ROW_ID_STR")]="1"}else{G[r.get("SWE_REQ_ROW_ID_STR")]="0"}G[r.get("SWE_COUNT_STR")]=SiebelApp.S_App.GetSWEReqCount().toString();G[r.get("SWE_CMD_ARG")]=r.get("SWE_CMD_INVOKE_METHOD_STR")}if(L){G[r.get("SWE_METHOD_STR")]=L.GetMethodName()}else{if(!y.IsEmpty(E)&&this.GetParentApplet()&&J&&J.GetUIType()===r.get("SWE_CTRL_FILE")){G[r.get("SWE_METHOD_STR")]=r.get("SWE_METHOD_WRITE_RECORD")}else{G[r.get("SWE_CMD_ARG")]=r.get("SWE_CMD_INVOKE_METHOD_STR");G[r.get("SWE_METHOD_STR")]=r.get("SWE_METHOD_NEW_FILE_ATTACHMENT")}}var F=new Date();G[r.get("SWE_TIME_STAMP")]=F.getTime();G[r.get("SWE_VIEW_RPC_ARG")]="1";return G};t.prototype.IsInQueryMode=function(){return !!this.GetBusComp()?this.GetBusComp().IsInQueryState():false};t.prototype.UpdateCurrencyCalcInfo=function(C,D){return};t.prototype.UpdateCurrencyCodeInfo=function(C,D){if(D[1]!=this.GetView().GetName()){return}this.SetCurrencyApplet();this.GetCurrencyApplet().UpdateCurrencyInfo(C,CCFMiscUtil_ArrayToString(D));this.GetCurrencyApplet().SetQueryMode(this.IsInQueryMode());if(C!=1){this.UpdateCurrencyCalcInfo(C,D)}};t.prototype.CurrencyPostChanges=function(C,D){return(this.GetCurrencyApplet().PostChangesOnBlur())};t.prototype.UpdateConditionals=function(){};t.prototype.GetEmptyRecordForQuery=function(){var F=this.GetBusComp().GetFieldList();var C={};var E=0;var H="";var G=F.length;for(E=0;E<G;E++){H=SiebelApp.S_App.LookupStringCache(F[E]);if(!y.IsEmpty(H)){var D=this.GetBusComp().GetFieldValue(H);C[H]=y.IsEmpty(D)?"":D}}return C};t.prototype.GetWSStartRowNum=function(){var C=0;if(this.GetBusComp().IsNumRowsKnown()&&this.GetBusComp().GetNumRows()===0){return C}C=this.GetBusComp().GetCurRowNum()-this.GetSelection()+this.GetBusComp().GetNotifyObject().GetBegRow(this.GetName());return C};t.prototype.GetWSEndRowNum=function(){var C=this.GetWSStartRowNum()+this.GetRowListRowCount()-1;var D=this.GetBusComp().GetNumRows();if(C>D){C=D}return C};t.prototype.AddToGroupModel=function(H,D,C,K){var G=this.GetGlobalPropSet();var M=false;if(y.IsEmpty(G.GetType())){G.SetType("Root")}var L=G.EnumChildren(true);if(!L){var F=CCFMiscUtil_CreatePropSet();var I=CCFMiscUtil_CreatePropSet();F.SetType(H);F.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),C);I.SetType(D);if(D){I.InsertChildAt(F,0);G.InsertChildAt(I,0)}else{G.InsertChildAt(F,0)}}else{if(y.IsEmpty(D)){var E=this.FindPS(G,H);if(!E){var F=CCFMiscUtil_CreatePropSet();F.SetType(H);F.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),C);this.AddChildAtIndex(G,F)}else{if(y.IsEmpty(E.GetProperty(r.get("SWE_CNTRL_SEQUENCE")))){E.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),C);this.OrderPropSetByIndex(G,E)}}}var J=this.FindPS(G,D);var E=this.FindPS(G,H);if(!y.IsEmpty(D)){if(!J&&E){var I=CCFMiscUtil_CreatePropSet();I.SetType(D);G.InsertChildAt(I,0);if(y.IsEmpty(E.GetProperty(r.get("SWE_CNTRL_SEQUENCE")))){E.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),C)}this.AddChildtoParent(G,H,D,"child is present")}else{if(!J&&!E){var I=CCFMiscUtil_CreatePropSet();var F=CCFMiscUtil_CreatePropSet();F.SetType(H);F.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),C);I.SetType(D);I.InsertChildAt(F,0);G.InsertChildAt(I,0)}else{if(J&&!E){this.AddChildtoParent(G,H,D,"child not present",C)}else{if(J&&E){if(y.IsEmpty(E.GetProperty(r.get("SWE_CNTRL_SEQUENCE")))){E.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),C)}this.AddChildtoParent(G,H,D,"both are present",C)}}}}}}};t.prototype.FindGroupPS=function(G,F){var D=G.EnumChildren(true);while((D!==null)){var E=D.GetType();if(E===F){return D}else{if(D.GetChildCount()>0){var C=this.FindGroupPS(D,F);if(C!=null){return C}}}D=G.EnumChildren(false)}};t.prototype.FindPS=function(G,F){var D=G.EnumChildren(true);while((D!==null)){var E=D.GetType();if(E===F){return D}else{if(D.GetChildCount()>0){var C=this.FindGroupPS(D,F);if(C!=null){return C}}}D=G.EnumChildren(false)}};t.prototype.AddChildtoParent=function(M,J,F,L,D){var I=this.GetGlobalPropSet();switch(L){case"child not present":var O=false;var N=M.EnumChildren(true);var H=0;do{var E=N.GetType();if(E===F){O=true;var G=CCFMiscUtil_CreatePropSet();G.SetType(J);G.SetProperty(r.get("SWE_CNTRL_SEQUENCE"),D);this.AddChildAtIndex(N,G);break}else{if(N.GetChildCount()>0){this.AddChildtoParent(N,J,F,"child not present",D)
}}}while(N=M.EnumChildren(false));break;case"child is present":var O=false;var N=M.EnumChildren(true);var H=0;do{var E=N.GetType();if(E===J){O=true;var K=N;M.RemoveChild(H);this.MoveChildUnderParent(I,K,J,F);break}else{if(N.GetChildCount()>0){this.AddChildtoParent(N,J,F,"child is present",D)}}H++}while(N=M.EnumChildren(false));break;case"both are present":var C=false;var N=M.EnumChildren(true);var H=0;do{var E=N.GetType();if(E===J){C=true;var K=N;M.RemoveChild(H);this.MoveChildUnderParent(I,K,J,F,D);break}else{if(N.GetChildCount()>0){this.AddChildtoParent(N,J,F,"both are present",D)}}H++}while(N=M.EnumChildren(false));break}};t.prototype.MoveChildUnderParent=function(I,J,H,E,C){var K=false;var F=I.EnumChildren(true);var G=0;do{var D=F.GetType();if(D===E){K=true;this.AddChildAtIndex(F,J);break}else{if(F.GetChildCount()>0){this.MoveChildUnderParent(F,J,H,E,C)}}G++}while(F=I.EnumChildren(false))};t.prototype.AddChildAtIndex=function(F,E){var D=0;var C=E.GetProperty(r.get("SWE_CNTRL_SEQUENCE"));if(!(F.GetChildCount()<=0)){for(count=0;count<F.GetChildCount();count++){if(F.GetChild(count).GetPropertyCount()!=0){if(parseInt(F.GetChild(count).GetProperty(r.get("SWE_CNTRL_SEQUENCE")),10)>=parseInt(C,10)){break}}}D=count}else{D=0}F.InsertChildAt(E,D);return};t.prototype.OrderPropSetByIndex=function(J,G){var I=false;var D=G.GetType();var E=J.EnumChildren(true);var F=0;do{var H=E.GetType();if(H===D){I=true;var C=E;J.RemoveChild(F);this.AddChildAtIndex(J,C);break}F++}while(E=J.EnumChildren(false))};t.prototype.GetGroupModel=function(G){var C=CCFMiscUtil_CreatePropSet();var D=CCFMiscUtil_CreatePropSet();C=G.Clone();D=G.Clone();if(G.GetChildCount()!=0){var F=C.EnumChildren(true);var E=0;while(F!=null){if(F.GetChildCount()===0){D.RemoveChild(E)}else{E++}F=C.EnumChildren(false)}}return D};t.prototype.GetGroupPSInfo=function(I,H,E){var D=null;var C=0;E=(typeof E=="undefined")?1:E;if(I.GetType()==="Root"){E=1}var F=I.EnumChildren(true);while(F!==null){var G=F.GetType();if(G===H){D=[F,E,C]}else{if(F.GetChildCount()>0){E++;D=this.GetGroupPSInfo(F,H,E)}}if(D){return D}F=I.EnumChildren(false);if(I.GetType()==="Root"){E=1}C++}};t.prototype.GetGroupLeafChildrenInfo=function(F,C){var E=null;C=(typeof C=="undefined")?[]:C;if(F.GetChildCount()!=0){var D=F.EnumChildren(true);while(D!=null){if(D.GetChildCount()===0){i=C.length;C[i]=D;E=C}else{if(D.GetChildCount()>0){E=this.GetGroupLeafChildrenInfo(D,C)}}D=F.EnumChildren(false)}if(E){return E}}};t.prototype.GetPSatLevel=function(H,C,G,F){var E=null;G=(typeof G=="undefined")?[]:G;F=(typeof F=="undefined")?0:F;var D=H.EnumChildren(true);if(D!=null){F++}while(D!=null){if(F===C){G.push(D);E=G}else{if(D.GetChildCount()>0){E=this.GetPSatLevel(D,C,G,F)}}D=H.EnumChildren(false)}if(E){return E}};t.prototype.GetGroupPSDepth=function(F,E){var D=null;E=(typeof E=="undefined")?0:E;var C=F.EnumChildren(true);if(C!=null){E++;D=E}while(C!=null){if(C.GetChildCount()>0){D=this.GetGroupPSDepth(C,E)}C=F.EnumChildren(false)}if(D){return D}};return t}())};