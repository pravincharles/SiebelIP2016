/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2014
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET13 */
if(typeof(SiebelAppFacade.EJSAdapter)=="undefined"){SiebelJS.Namespace("SiebelAppFacade.EJSAdapter");define("siebel/siebelejsadapter",["3rdParty/ejs/ejs_production.js"],function(){SiebelAppFacade.EJSAdapter=(function(){var h=SiebelApp.Constants;var k=SiebelApp.Utils;var d=h.get("SWE_OUI_PRINT_EJS");var g=h.get("SWE_OUI_PRINT_DATA");EJSAdapter=function(){};EJSAdapter.prototype.GenerareEJSPrint=function(o,q){var u={};var m={};var v={};var t;var s;var n=[];var r=o.GetChildCount();if(r>0&&o.GetType()===g){t=q.GetProperty(d);CCFMiscUtil_StringToArray(t,n);for(var p=0;p<n.length;p++){t=n[p];break}e.call(this,u);a.call(this,o,u,m,v);i.call(this,m,q);l.call(this,m);s=f.call(this,t,m);j.call(this,s)}m=null;u=null;v=null;n=null};EJSAdapter.prototype.OpenMAFPreview=function(r){var m,n;var t,u,o,q,s;var p=new Date($.now());if(r.indexOf("<title>")>-1){m=r.indexOf("<title>");n=r.indexOf("</title>",m);s=r.substring(m+7,n)}else{s="Untitled"}t=s+".html";r=r.split("align=left").join("");r=r.split("charset=iso-8859-1").join("charset=utf-8");if(r.indexOf("<button")>-1){m=r.indexOf("<button");n=r.indexOf("</button>");o=r.substring(m,n+9);r=r.split(o).join("")}if(SiebelApp.S_App.GetDirection()){r=r.split("align=right").join("align=left");r=r.split("<body>").join("<body dir='rtl'>")}u=window.btoa(unescape(encodeURIComponent(r)));SiebelApp.MobileFileMgr.WriteTempWithFlag({filename:t,content:u,isEncodeFileName:false,success:function(){SiebelApp.MobileFileMgr.OpenTempFile({filename:t,displayFileName:s,isEncodeFileName:false})},error:function(){SiebelJS.Log("error saving file :"+t)}})};function l(s){var o=[];var r;if(typeof(SiebelApp.S_App.GetActiveView())!="undefined"){o=SiebelApp.S_App.GetActiveView().GetAppletMap()}for(var q in o){var m=o[q];if(typeof(m.GetBusComp().GetParentBusComp())==="undefined"||m.GetBusComp().GetParentBusComp()===null){r=m;break}}if(typeof(r)!=="undefined"&&typeof(s)!=="undefined"){var n=r.GetControls();s.transltn=[];for(var p in n){if(n[p].GetUIType()==="Label"){s.transltn[p]=n[p].GetDisplayName()}}}}function b(o){var r=h.get("SWE_PST_CLIENT_DESCRIPTOR_THEMEFILES");var p=o.GetProperty(r);if(!k.IsEmpty(p)){var n=[];CCFMiscUtil_StringToArray(p,n);for(var m=0,q=n.length;m<q;m++){n[m]=n[m].split(".css");if(n[m][n[m].length-1]===""){n[m].pop()}n[m]=n[m].join(".css")}p=null;return n}}function c(q){var n=h.get("SWE_PST_CLIENT_DESCRIPTOR_INFO");var m=[];if(!k.IsEmpty(q)){if(q.GetType()===n){m=m.concat(b.call(this,q))}var p=q.EnumChildren(true);do{if(!k.IsEmpty(p)){if(p.GetType()===n){m=m.concat(b.call(this,p))}var o=p.EnumChildren(true);do{if(!k.IsEmpty(o)&&o.GetType()===n){m=m.concat(b(this,o))}}while((o=p.EnumChildren(false)))}}while((p=q.EnumChildren(false)))}return m}function i(p,r){var o=[];var n;var m;o=c.call(this,r);if(typeof(SiebelApp.S_App.GetActiveView())!=="undefined"){n=SiebelApp.S_App.GetActiveView();m=n.GetName();m=m.split(" ").join("_")}if(typeof(p)!=="undefined"){p.styles=o}if(typeof(m)!=="undefined"){var q="[id*='"+m+"']";$("head").children(q).each(function(){$(this).remove()})}o=null}function j(q){var n;var m=false;if(typeof(localStorage)!=="undefined"){m=localStorage.getItem("isAdfmContainer")}if(typeof(q)!="undefined"){if(m){SiebelAppFacade.EJSAdapter.OpenMAFPreview(q);return}n=window.open("about:blank","_blank","status=0,toolbar=0,location=0,menubar=1,resizable=1,scrollbars=1");n.document.write(q);if($("head #PLATFORM_DEPENDENT_Application0").length>0){var p=$("head #PLATFORM_DEPENDENT_Application0")[0].outerHTML;var r=$(n.document.body).find("[align=left]");var o=$(n.document.body).find("[align=right]");$(n.document.head).append(p);r.each(function(){$(this).removeAttr("align");if($(this).closest("table").length>0&&!$(this).closest("table").hasClass("siebui-report-spacing")){$(this).closest("table").addClass("siebui-report-spacing")}});o.each(function(){$(this).removeAttr("align");if($(this).closest("table").length>0&&!$(this).closest("table").hasClass("siebui-report-spacing")){$(this).closest("table").addClass("siebui-report-spacing")}$(this).addClass("siebui-report-last-cell")});if(SiebelApp.S_App.GetDirection()){$(n.document.body).addClass("siebui-rtl")}}}}function f(p,n){var m;var o;var q;if(typeof(p)!=="undefined"||p!==""){m=SiebelApp.S_App.GetPageURL()+p;m=m.replace("start.swe","");o=new EJS({url:m,ext:".html"});q=o.render(n)}o=null;return q}function e(s){var w;if(typeof(SiebelApp.S_App.GetActiveView())!="undefined"){w=SiebelApp.S_App.GetActiveView().GetAppletMap()}for(var n in w){var x=w[n];var o=[];var v=x.GetControls();for(var q in v){var p=v[q];var u=p.GetDisplayName();var t=p.GetFieldName();if(typeof(t)==="undefined"||t===""||typeof(u)==="undefined"||u===""){continue}var r={title:u,column:t};o.push(r)}var m={title:x.GetAppletLabel(),columnheader:o};if(typeof(x.GetBusComp())==="undefined"){continue}s[x.GetBusComp().GetName()]=m}}function a(q,C,H,F){var u=q.GetChildCount();var G=0;for(var D=0;D<u;D++){var x=q.GetChild(D);var E=x.GetType();var z;var t;if(E!="bcr"){t=C[E];if(typeof(t)==="undefined"){return false}var n=[];var v=[];var r=true;for(var B in H){r=false}if(r){H.parent={title:t.title,columnheader:t.columnheader,child:v,row:n};a(x,C,H.parent,H.parent.row)}else{var w=-1;for(var p=0;p<H.child.length;p++){if(H.child[p].title===t.title){w=p;break}}if(w===-1){H.child.push({title:t.title,columnheader:t.columnheader,child:v});w=H.child.length-1}if(!Array.isArray(F.child)){F.child=[]}F.child.push({row:[]});a(x,C,H.child[w],F.child[F.child.length-1].row)}}else{if(typeof(F)!="undefined"){G++;var m=[];for(var A=0;A<H.columnheader.length;A++){var s=H.columnheader[A].column;var I=x.GetProperty(s);var y={name:s,value:I};m.push(y)}var o={column:m,title:H.title};F.push(o);a(x,C,H,F[G-1])}}}}return new EJSAdapter()}())})};