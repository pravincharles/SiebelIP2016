/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2015
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 15.7.0.0SIA[23048]PATCHSET7 */
if(typeof(SiebelAppFacade.BasePW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.BasePW");define("siebel/basepw",[],function(){SiebelAppFacade.BasePW=(function(){function a(b){this.control=b;if(this.constructor.name==="BasePW"){SiebelJS.Log("BasePW -> "+(b.GetDisplayName()||b.GetName()))}}a.prototype={Init:function(){},GetEl:function(){},ShowUI:function(){},BindEvents:function(){},BindData:function(){},SetValue:function(){},GetValue:function(){},BeginQuery:function(){},EndQuery:function(){},IsInLeaveField:function(){},OpenPopup:function(){},ClosePopup:function(){},GetIconMap:function(b){},GetTextHtml:function(b){},HandleKey:function(b){},SetState:function(c,b){},InjectQTPInfo:function(b){},EndLife:function(){this.control=null}};return a}());return SiebelAppFacade.BasePW})}if(typeof(SiebelAppFacade.FieldPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.FieldPW");define("siebel/FieldPW",[],function(){SiebelAppFacade.FieldPW=(function(){var h=SiebelJS.Dependency("SiebelApp.Constants"),o=SiebelJS.Dependency("SiebelApp.Utils"),i=h.get("SWE_CTRL_TEXT"),q=h.get("SWE_CTRL_TEXTAREA"),d=h.get("SWE_CTRL_PHONE"),g={};g[h.get("SWE_CTRL_MVG")]=h.get("PHYEVENT_INVOKE_MVG");g[h.get("SWE_CTRL_PICK")]=h.get("PHYEVENT_INVOKE_PICK");g[h.get("SWE_CTRL_EFFDAT")]=h.get("PHYEVENT_INVOKE_EFFDAT");g[h.get("SWE_CTRL_CURRENCY_CALC")]=h.get("PHYEVENT_INVOKE_CURRENCY");g[h.get("SWE_CTRL_TEXT")]=h.get("PHYEVENT_INVOKE_DETAIL_POPUP");function p(){SiebelAppFacade.FieldPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(p,SiebelAppFacade.BasePW);p.prototype.GetEl=function(t,s){var u=null;if(this.control&&typeof(this.control.GetInputName)==="function"){var v=$($("#s_"+this.Get("GetFullId")+"_div")[0]||document);if(!s){u=v.find("."+this.control.GetInputName())}if(!u||!u.length){u=v.find('[name="'+this.control.GetInputName()+'"]')}if(!u.length){u=$("#"+this.control.GetInputName())}if(!u.length){u=this.GetUIContext(this.control)}if(u&&!isNaN(parseInt(t,10))&&u.length){u=u.eq(u.length>t?t:0)}v=null}else{}return u};p.prototype.ShowUI=function(){SiebelAppFacade.FieldPW.superclass.ShowUI.call(this);var s=this.GetEl(undefined,true),t=this.control.GetPopupType();if(s){SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:s,id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification(),addIcon:t});s.attr({maxlength:this.control.GetMaxSize()||256,tabindex:this.Get("GridFormContent")?this.control.GetSeq():"0"});if(this.control.GetUIType()===i&&this.ExecuteMethod("GetFieldDataType",this.control.GetFieldName())===d.toLowerCase()&&!this.control.GetPopupType()){l.call(this,s)}this.InjectQTPInfo(s);s.addClass(this.control.GetInputName())}};p.prototype.BindEvents=function(){var u=this.GetEl(),s=this.Helper("EventHelper"),t=u&&u.next('span[id^="'+this.control.GetInputName()+'"]');SiebelAppFacade.FieldPW.superclass.BindEvents.call(this);if(u&&s){s.Manage(u,"focus",{ctx:this},m).Manage(u,"blur",{ctx:this},e).Manage(u,"keydown",{ctx:this},b);if(t&&t.length!==0){s.Manage(t,"click",{ctx:this},n)}}};p.prototype.BindData=function(){SiebelAppFacade.FieldPW.superclass.BindData.call(this)};function a(t,s,u){if(!u||u.length===0){t.nextAll('[id^="'+this.control.GetInputName()+'"]').addBack().last().after('<span id="'+s+'" ><span>');u=t.nextAll("#"+s)}return u}p.prototype.SetValue=function(B,x){x=x||0;var C=this.GetEl(x),w=null,u,v,A,y,D=false,z=this.control.GetScriptProperty("Visible"),s=((this.control.GetUIType()===i||this.control.GetUIType()===q)&&!o.IsTrue(this.control.IsEncode()));if(C&&C.length){if(this.Get("IsTaggedApplet")){C.replaceWith('<div role="document" tabindex="0" title="'+B+'" name="'+C.attr("name")+'" ot="'+C.attr("ot")+'" rn="'+C.attr("rn")+'" un="'+C.attr("un")+'" aria-label="'+this.control.GetDisplayName()+'">'+B+"</div>")}else{u=this.control.GetInputName()+"_span";A=this.ExecuteMethod("CanUpdate",this.control.GetName());y=this.ExecuteMethod("CanNavigate",this.control.GetName(),x);v=C.nextAll("#"+u);if((this.control.GetShowBase()||s)&&!A){if(s){D=true}B=this.GetTextHtml(B,D);if(B.hasOwnProperty("text")){var t=this.GetIconMap(B.text);v.html("").styleHide();o.DecideVisibility(C.val(B.text),z);if(C.parent().children("#"+C.attr("name")+"_s").length>0){if(t){o.DecideVisibility(a.call(this,C,u,v).html(t),z);C.val(B.text).styleHide();C.nextAll("#"+this.control.GetInputName()+"_icon").addClass("siebui-invisible")}else{v.html("").styleHide();o.DecideVisibility(C.val(B.text),z)}}}else{o.DecideVisibility(a.call(this,C,u,v).html(B.html),z);C.val(B).styleHide()}}else{if(y&&(B&&(B+"").trim().length>0)){o.DecideVisibility(C.val(B),z);v=a.call(this,C,u,v);if(A){c.call(this,this.control,B,C,x)}else{r.call(this,this.control,B,C,x)}C.styleHide();o.DecideVisibility(v,z)}else{v.html("").styleHide();o.DecideVisibility(C.val(B||""),z);C.nextAll("#"+this.control.GetInputName()+"_icon").removeClass("siebui-invisible")}}if(SiebelAppFacade.DecisionManager.IsTouch()&&this.control.GetUIType()===i&&this.ExecuteMethod("GetFieldDataType",this.control.GetFieldName())===d.toLowerCase()){w=SiebelAppFacade.ComponentMgr.FindComponent({id:h.get("SWE_PST_COMM_TOOLBAR")});if(!w){$(C).nextAll("a.siebui-icon-phone-outbound").eq(0).attr("href","tel:"+C.val())}}}}};p.prototype.GetValue=function(s){return(this.GetEl(s)||$()).val()};p.prototype.SetState=function(w,s,t){var u=this.GetEl(t),v=this.control.GetScriptProperty("Visible");s=s===undefined?true:s;if(u&&u.length){switch(w){case h.get("EDITABLE"):u.removeAttr("readOnly").attr("readOnly",!s).attr("aria-readonly",!s);break;case h.get("ENABLE"):u.removeAttr("disabled").attr("disabled",!s);break;case h.get("SHOW"):s?o.DecideVisibility(u,v):u.styleHide();break;case h.get("FOCUS"):s?u.focus():u.blur();break}}};p.prototype.BeginQuery=function(){SiebelAppFacade.FieldPW.superclass.BeginQuery.call(this);var s=this.GetEl();if(s){s.removeAttr("maxlength");if(this.control.GetCaseSensitive()&&this.ExecuteMethod("CanUpdate",this.control.GetName())){s.data("old_placeholder",s.attr("placeholder")||"");s.attr("placeholder",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))}}};p.prototype.EndQuery=function(){var s=this.GetEl();SiebelAppFacade.FieldPW.superclass.EndQuery.call(this);if(s){s.attr("maxlength",this.control.GetMaxSize()||256);if(this.control.GetCaseSensitive()){if(s.data("old_placeholder")!==""){s.attr("placeholder",s.data("old_placeholder"))}else{s.removeAttr("placeholder")}}}};p.prototype.IsInLeaveField=function(s){return !!$(s).data("inLeaveField")};p.prototype.InjectQTPInfo=function(s){if(s&&s.length&&this.control){if(typeof(this.control.GetObjectType)==="function"&&!(s).attr("ot")){s.attr("ot",this.control.GetObjectType())}if(typeof(this.control.GetRepstrName)==="function"&&!(s).attr("rn")){s.attr("rn",this.control.GetRepstrName())}if(typeof(this.control.GetUIName)==="function"&&!(s).attr("un")){s.attr("un",this.control.GetUIName())}}};p.prototype.GetTextHtml=function(x,A){var s=x,y=false,t=$.parseHTML(x.trim())||[],v,z;
x="";if(A){for(var u=0;t&&u<t.length;u++){z=$("<span></span>").append(t[u]).find("*").addBack();v=z.filter("a");if(v.length){z.find("a[href]").attr("target","_blank");x=(o.IsEmpty(x)?"":x)+z[0].outerHTML;y=true}else{if(t[u].outerHTML){x=((o.IsEmpty(x)?"":x))+t[u].outerHTML;y=true}else{x=(o.IsEmpty(x)?"":x)+t[u].textContent}}}}else{for(var u=0;t&&u<t.length;u++){z=$("<span></span>").append(t[u]).find("*").addBack();v=z.filter("a");if(v.length){z.find("a[href]").attr("target","_blank");z.html(z.html().replace(/<\/?([a-z]+)[^>]*>/ig,function(C,B){return(B.toLowerCase()==="a")?C:""}));x=(o.IsEmpty(x)?"":x)+z[0].outerHTML;y=true}else{x=(o.IsEmpty(x)?"":x)+t[u].textContent}}}if(y){var w=$("span[id='"+this.control.GetInputName()+"_HTML']");if(w.length===0){x="<span id='"+this.control.GetInputName()+"_HTML'>"+x+"</span>"}result={html:x}}else{if(x===""){x=s}result={text:x}}return result};p.prototype.GetIconMap=function(w){var t="",x=SiebelApp.S_App.GetIconMap(),y=SiebelApp.S_App.LookupStringCache(this.control.GetIconMap()),v,s;if(y){IconMapArray=x?x[y]:[];v=IconMapArray.length;for(var u=0;u<v;u++){s=$(IconMapArray[u].iconImage);if(this.control.GetDisplayName()){s.attr("alt",(s.attr("alt")?(this.control.GetDisplayName()+":"+s.attr("alt")):s.attr("alt"))).attr("title",(s.attr("title")?(this.control.GetDisplayName()+":"+s.attr("title")):s.attr("title")));s=s[0].outerHTML}else{s=IconMapArray[u].iconImage}if(!o.IsEmpty(w)&&IconMapArray[u].iconName===w){t=s;break}if(IconMapArray[u].iconName==="Default"){t=s}}}return t};p.prototype.HandleKey=function(s,t,u){if(t.which===h.get("SWE_F2_KEY")){s.next('span[id^="'+this.control.GetInputName()+'"]').click();t.stopImmediatePropagation()}};function f(){var s=SiebelAppFacade.ComponentMgr.FindComponent({id:h.get("SWE_PST_COMM_TOOLBAR")});return(s&&s.ExecuteMethod("CallContactFromUIEnabled"))?s:null}function l(x){var s=f.call(this),w="applet-form-phone siebui-icon-phone-outbound",t,v=SiebelApp.S_App.GetAccessibilityEnhanced(),y=x.attr("id")||this.control.GetInputName(),u=y+"_icon";if(s){t=$("<span  class='"+(w||"")+"' id='"+u+"'></span>")}else{if(SiebelAppFacade.DecisionManager.IsTouch()){t=$("<a href='tel:"+x.val()+"'  class='"+(w||"")+"' id='"+u+"'></a>")}}x.addClass("siebui-align-"+this.control.GetJustification());if(v){x.not(".siebui-ctrl-phone").attr("aria-describedby",(x.attr("aria-describedby")||"")+" "+u)}if(s||SiebelAppFacade.DecisionManager.IsTouch()){x.not(".siebui-ctrl-phone").addClass("siebui-ctrl-phone siebui-input-popup").after(t);x.attr("aria-label",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CTI_PHONE_NUMBER_FIELD"))}}function m(s){var t=s.data.ctx?s.data.ctx:this;var u=t.OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),t.control,$(this).val());if(u===false){s.preventDefault();s.stopPropagation();return false}}function e(t){var v=t.data.ctx?t.data.ctx:this,x=v.control,w=$(this).val();if(v.IsInLeaveField(this)){return}if(x.GetUIType()===q){var s=v.ExecuteMethod("GetFormattedFieldValue",x,false),u=o.NormalizeTextVal(s);if(u==w){w=s}}v.OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),v.control,w)}function n(t){var u=t.data.ctx?t.data.ctx:this,v=u.control,s=null;if(!v.GetPopupType()&&v.GetUIType()===h.get("SWE_CTRL_TEXT")&&u.ExecuteMethod("GetFieldDataType",v.GetFieldName())===h.get("SWE_CTRL_PHONE").toLowerCase()){s=f.call(this);if(s){s.ExecuteMethod("OpenCallContactFromUIPopup",$(this).prevAll(".siebui-ctrl-phone").eq("0").val(),$(this))}else{return}}SiebelAppFacade.DecisionManager.PauseVKeyboard($(this));u.OnControlEvent(g[u.control.GetUIType()],v,$(this).val());SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this))}function b(s){var t=s.data.ctx;s.data.ctrl=t.control;t.OnKey($(this),s,$(this).val())}function c(w,C,x,F){var y='<a  id ="'+w.GetInputName()+'_mb"  class = "siebui-ctrl-drilldown"  name = "'+w.GetName()+'"  tabindex="-1" rowId = "'+(F+1)+'"  href="javascript:void(0)" >'+HtmlEncode(C)+"</a>";var v="siebui-drilldown-input siebui-align-"+w.GetJustification();var u=w.GetInputName()+"_IPEField";var z=x.attr("data-seq");var A=x.attr("style");var t='<div data-seq= "'+z+'"tabindex= "0" id = "'+u+'" style = "'+A+'" class= "'+v+'">'+y+"<\div>";var E=(document.activeElement===x[0]);if(!E){E=(document.activeElement===x.nextAll("#"+w.GetInputName()+"_span").children("div#"+u)[0])}var D=x.nextAll("#"+w.GetInputName()+"_span").find("a"),B=D.html(),s=D.attr("rowId");if(HtmlDecode(B)!==C||s!==(F+1).toString()){x.nextAll("#"+w.GetInputName()+"_span").html(t);(function(H,G,I){H.nextAll("#"+I.GetInputName()+"_span").children("div#"+u).click(function(J){j.call(G,true,H,false,I)}).bind("keypress",function(J){if(J.keyCode===13){j.call(G,true,H,false,I)}});H.bind("blur",function(J){k.call(G,J,I)})})(x,this,w)}if(E){x.nextAll("#"+w.GetInputName()+"_span").children("div#"+u).focus()}D=null}function r(z,y,x,s){var v='<a  id ="'+z.GetInputName()+'_mb"  class = "siebui-ctrl-drilldown siebui-anchor-readonly"  name = "'+z.GetName()+'"  rowId = "'+(s+1)+'"  href="javascript:void(0)" >'+HtmlEncode(y)+"</a>";var w=x.nextAll("#"+z.GetInputName()+"_span").find("a"),u=w.html(),t=w.attr("rowId");if(HtmlDecode(u)!==y||t!==(s+1).toString()){x.nextAll("#"+z.GetInputName()+"_span").html(v)}this.InjectQTPInfo($("#"+z.GetInputName()+"_mb"),z);w=null}function j(t,u,s,y){var x=u.nextAll("#"+this.control.GetInputName()+"_span"),w=y.GetScriptProperty("Visible");if(t){var v=x.children("div#"+u.attr("name")+"_IPEField").text();x.styleHide();o.DecideVisibility(u.nextAll("img#"+u.attr("name")+"_icon"),w);o.DecideVisibility(u,w);u.val(v)}else{var v=u.val();o.DecideVisibility(x,w);u.nextAll("img#"+u.attr("name")+"_icon").styleHide();u.styleHide();x.children("div#"+u.attr("name")+"_IPEField").children().val(v)}if(s!==true){u.focus()}}function k(t,v){if(!this.Get("IsInQueryMode")){var u=$("#s_"+this.Get("GetFullId")+"_div").find("div[id$='_IPEField']").filter(":hidden");var s=u.attr("id");if(s){var w=u.parent().prevAll("[name="+s.substring(0,s.indexOf("_IPEField"))+"]").eq(0);if((u.length&&t&&t.keyCode===$.ui.keyCode.TAB)||(w.length&&document.activeElement!==w[0])){j.call(this,false,w,true,v)}}}}return p}());return SiebelAppFacade.FieldPW})}if(typeof(SiebelAppFacade.ButtonPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ButtonPW");define("siebel/ButtonPW",[],function(){SiebelAppFacade.ButtonPW=(function(){var d=SiebelJS.Dependency("SiebelApp.Utils"),f=SiebelJS.Dependency("SiebelApp.Constants"),c=f.get("SWE_PST_BUTTON_CTRL"),b=f.get("SWE_CTRL_LINK");function a(){SiebelAppFacade.ButtonPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(a,SiebelAppFacade.FieldPW);a.prototype.ShowUI=function(){var l=this.GetEl(undefined,true),n=null,k=null,m=null,h=null,i=null;if(l&&l.length){n=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName()),k=this.Get("GetAppletLabel"),m=n?this.control.GetEnabledBmp():this.control.GetDisabledBmp(),h=this.Get("GridFormContent")?this.control.GetSeq():"0",i=this.control.GetDisplayName();if(k!==""){k+=":"}if(m){l.addClass(n?"siebui-btn-icon-e":"siebui-btn-icon-d").append(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:b,value:m})).children("a").attr("tabindex",n?h:"-1").find("img").attr({alt:k+$(m).attr("alt"),title:k+$(m).attr("title"),})
}else{var j=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:c,id:this.control.GetInputName()+"_Ctrl",className:(n?"appletButton":"appletButtonDis")+" siebui-icon-"+(this.control.GetMethodName()||"").toLowerCase(),value:"<span>"+i+"</span>",attrs:'name="'+this.control.GetInputName()+'" data-display="'+i+'" tabindex="'+h+'" title="'+k+i+'" aria-label="'+k+i+'" '+((n===true)?" ":'disabled="disabled"')});l.replaceWith(j)}l=this.GetEl();if(l&&l.length){this.InjectQTPInfo(l);l.addClass(this.control.GetInputName())}}};a.prototype.BindEvents=function(){var i=this.GetEl(),h=this.Helper("EventHelper");if(i){h.Manage(i,"click",{ctx:this},g)}};a.prototype.SetState=function(h,l,k){var j=this.GetEl(k);l=l===undefined?true:l;if(j&&j.length){if(h===f.get("ENABLE")){var i=this.control.GetEnabledBmp();var n=this.control.GetDisabledBmp();if(i||n){var m=l?i:n;if(m){m=$(m);var o=$(m).find("img").eq(0),p=o.length&&(o.attr("alt")||o.attr("title"));p?m.attr("title",p):false;j.removeClass("siebui-btn-icon-e siebui-btn-icon-d").addClass(l?"siebui-btn-icon-e":"siebui-btn-icon-d").find("a").attr("tabindex",l?(this.control.GetSeq()||0):"-1").attr("data-seq",l?(this.control.GetSeq()||0):"-1").html(m)}}else{j.removeAttr("disabled").attr("disabled",!l).removeClass("appletButton appletButtonDis").addClass((l?"appletButton":"appletButtonDis"))}}else{SiebelAppFacade.ButtonPW.superclass.SetState.apply(this,arguments)}}return};a.prototype.SetValue=function(i,h){};function g(h){var i=h.data.ctx,j=$(this);if(((j.prop("tagName")||"").toLowerCase()==="button"&&!j.is(":disabled"))||j.hasClass("siebui-btn-icon-e")){SiebelApp.S_App.uiStatus.Busy({mask:true});setTimeout(function(){var k=i.Get("GetControls"),o=i.control.GetPMPropSet(),n=null,m=null,l=false;if(o&&o.GetProperty("FileUploadControl")){n=k[o.GetProperty("FileUploadControl")];if(n){m=i.GetUIWrapper(n);if(m&&m.SubmitFile){l=m.SubmitFile(i.control)}}}if(!l){e.call(i,i.control)}else{SiebelApp.S_App.uiStatus.Free()}},0);h.preventDefault()}j=null}function e(l){var i={};i.async=true;i.cb=function(){var m=Array.prototype.slice.call(arguments);var n=m?m[m.length-1]:"";if(n!==f.get("SWE_RPC_PROP_NEW_LAYOUT")&&n!==f.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&n!==f.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()}};var j=l.GetMethodPropSet();var h=j.Clone();var k=this.OnControlEvent(f.get("PHYEVENT_INVOKE_CONTROL"),l.GetMethodName(),h,i);if(k===false){SiebelApp.S_App.uiStatus.Free();return false}}return a}());return SiebelAppFacade.ButtonPW})}if(typeof(SiebelAppFacade.CalculatorPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.CalculatorPW");define("siebel/calculatorpw",[],function(){SiebelAppFacade.CalculatorPW=(function(){var d=SiebelJS.Dependency("SiebelApp.Constants");function c(h){SiebelAppFacade.CalculatorPW.superclass.constructor.call(this,h)}SiebelJS.Extend(c,SiebelAppFacade.FieldPW);c.prototype.ShowUI=function(j){var i=this.GetEl();if(i){SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({el:i,type:this.control.GetUIType(),id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification()});var h=this.Get("GridFormContent")?this.control.GetSeq():"0";i.attr({maxlength:this.control.GetMaxSize()||256,tabindex:h});this.InjectQTPInfo(i)}};c.prototype.BindEvents=function(j){var i=this.GetEl(),h=this.Helper("EventHelper");if(i&&i.length){h.Manage(i,"focus",{ctx:this},a).Manage(i,"blur",{ctx:this},e).Manage(i,"keydown",{ctx:this},b).Manage(i.next("span.siebui-icon-calc"),"click",{ctx:this},f)}};c.prototype.OpenPopup=function(){var i=this.GetEl();if(i&&i.length>1){var h=i.index($(document.activeElement));i=h>=0?i.eq(h):$()}i.next(".siebui-icon-calc").click()};function a(h){var i=h.data.ctx;i.OnControlEvent(d.get("PHYEVENT_CONTROL_FOCUS"),i.control,$(this).val())}function e(h){var i=h.data.ctx;if(i.IsInLeaveField(this)){return}if(i.Get("isControlPopupOpen")==false){i.OnControlEvent(d.get("PHYEVENT_CONTROL_BLUR"),i.control,$(this).val())}}function b(h){var i=h.data.ctx;h.data.ctrl=i.control;i.OnKey($(this),h,$(this).val())}function f(p){var s=p.data.ctx,h=s.GetEl(),n=null;SiebelAppFacade.DecisionManager.PauseVKeyboard(h);if(!s.OnControlEvent(d.get("PHYEVENT_CONTROL_FOCUS"),s.control)){SiebelAppFacade.DecisionManager.ResumeVKeyboard(h);return}if(h&&s.ExecuteMethod("CanUpdate",s.control.GetName())){if(h.length>1){n=h.next("span.siebui-icon-calc").index($(this));h=h.eq(n>=0?n:0)}s.SetProperty("isControlPopupOpen",true);var q=SiebelApp.S_App.LocaleObject.GetDispNumberDecimal()||d.get("SWE_DECIMAL_CONST");var r=q[0].toLowerCase();var j=["a","b","c","d","e","f","A","B","C","D","E","F"];var k="";var o=j.length;for(var l=0;l<o;l++){if(j[l]===q[0]){k=q[0].replace(j[l],"["+j[l]+"]");break}}q=k?(k+q.substring(1,q.length)):q;$.calculator.addKeyDef("dc",q,$.calculator.digit,null,"mykey","DC",r);var m=["_%BSCECA","_1_2_3_+@X","_4_5_6_-@U","_7_8_9_*@E","dc_0_=_/"];h.calculator({layout:m,onClose:function(t,i){g.call(this,s,t,i);SiebelAppFacade.DecisionManager.ResumeVKeyboard(h)},decimalChar:q});h.val(SiebelApp.S_App.LocaleObject.FormattedToString(s.ExecuteMethod("GetFieldDataType",s.control.GetFieldName()),h.val(),s.control.GetDisplayFormat()));h.calculator("show");$.calculator._getInst(h)._mainDiv.attr({"aria-label":"Calculator Popup",role:"application","aria-atomic":"true","aria-live":"assertive","aria-relevant":"all"})}}c.prototype.HandleKey=function(h,i){switch(i.which){case $.ui.keyCode.ENTER:var j=h.data("calculator");if(j){h.val(j.dispValue)}break;default:break}};function g(h,k,i){if($(this).parents("body").length){var j=(""+k).replace(/\[/g,"").replace(/\]/g,"");$(this).calculator("destroy").val(j).focus();h.SetProperty("isControlPopupOpen",false)}}return c}());return"SiebelAppFacade.CalculatorPW"})}if(typeof(SiebelAppFacade.CheckBoxPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.CheckBoxPW");define("siebel/checkboxpw",[],function(){SiebelAppFacade.CheckBoxPW=(function(){var d=SiebelJS.Dependency("SiebelApp.Constants"),a=SiebelJS.Dependency("SiebelApp.Utils");function f(){SiebelAppFacade.CheckBoxPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(f,SiebelAppFacade.FieldPW);f.prototype.BindEvents=function(){var j=this.GetEl(),i=this.Helper("EventHelper");if(j&&i){i.Manage(j,"down",{ctx:this},h).Manage(j,"blur",{ctx:this},e).Manage(j,"focus",{ctx:this},b).Manage(j,"click",{ctx:this},g).Manage(j,"keydown",{ctx:this},c)}};f.prototype.SetValue=function(k,i){var j=this.GetEl(i);if(j){j.val(k);if(!this.Get("IsInQueryMode")){if(j.prop("checked")!==a.IsTrue(k)){j.prop("checked",a.IsTrue(k))}j.prop("indeterminate",false);j.attr("aria-checked",(k==="Y"?"true":"false"))}else{j.prop("indeterminate",(k===""));j.attr("aria-checked",(k===""?"mixed":(k==="Y"?"true":"false")))}}};function b(i){var j=i.data.ctx;var k=j.OnControlEvent(d.get("PHYEVENT_CONTROL_FOCUS"),j.control,$(this).val());if(k===false){i.preventDefault();i.stopPropagation();return false}}function e(i){var j=i.data.ctx;var k=$(this);if(j.IsInLeaveField(this)){return}if(k.data("webkit-mousedown")){k.removeData("webkit-mousedown");
return}j.OnControlEvent(d.get("PHYEVENT_CONTROL_BLUR"),j.control,$(this).val())}function h(i){$(this).data("webkit-mousedown",true);$(this).data("readonly-value",$(this).prop("checked"))}function c(i){var j=i.data.ctx;i.data.ctrl=j.control;j.OnKey($(this),i,$(this).val())}function g(j){var k=$(this);var i=k.attr("readonly");if(typeof i!=="undefined"&&i!==false){k.prop("checked",k.data("readonly-value")!==undefined?k.data("readonly-value"):!k.prop("checked"));k.removeData("readonly-value")}if(j.data.ctx.Get("IsInQueryMode")){var m=k.val();k.prop("indeterminate",m==="N");k.prop("checked",m==="");k.val(m==="N"?"":(m===""?"Y":"N"));k.attr("aria-checked",(k.val()===""?"mixed":(k.val()==="Y"?"true":"false")))}else{k.val(k.prop("checked")?"Y":"N");k.attr("aria-checked",(k.val()==="Y"?"true":"false"));k.prop("indeterminate",false)}if(k.data("webkit-mousedown")){k.removeData("webkit-mousedown")}var l=$(document.activeElement);if((k.attr("id")||"")!==(l.attr("id")||"")||(k.attr("name")||"")!==(l.attr("name")||"")){k.focus()}}return f}());return SiebelAppFacade.CheckBoxPW})}if(typeof(SiebelAppFacade.RadioPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.RadioPW");define("siebel/radiopw",[],function(){SiebelAppFacade.RadioPW=(function(){var c=SiebelJS.Dependency("SiebelApp.Constants");function e(){SiebelAppFacade.RadioPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(e,SiebelAppFacade.FieldPW);e.prototype.GetEl=function(k,h){var m=SiebelAppFacade.RadioPW.superclass.GetEl.call(this,null,h);if(m&&!isNaN(parseInt(k,10))&&m.length){var j=this.control.GetRadioGroupPropSet(),n,o;if(!j.IsEmpty()){n=j.GetChildCount();o=m.eq(k*n);for(var l=1;l<n;l++){o=o.add(m.eq((k*n)+l))}m=o}}return m};e.prototype.ShowUI=function(){var v=this.GetEl(),m=this.control.GetRadioGroupPropSet(),q=this.control.GetDisplayName(),l=$(v).attr("aria-labelledby"),t="",h=this.control.GetInputName(),k=this.Get("GridFormContent")?this.control.GetSeq():"0";if(!m.IsEmpty()&&v){var p=v.parent();v.remove();for(var o=0,r=m.GetChildCount();o<r;o++){var s=m.GetChild(o);var u=s.GetProperty("DisplayName");var j=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:c.get("SWE_CTRL_RADIO"),attrs:'name="'+h+'" tabindex="'+k+'"'});t=h+"_"+u;var n={"aria-labelledby":l+" "+t,value:s.GetProperty("FieldValue")};if(utils.IsTrue(SiebelApp.S_App.IsAutoOn())){n[c.get("SWE_PROP_QTP_OT")]=this.control.GetObjectType();n[c.get("SWE_PROP_QTP_RN")]=this.control.GetRepstrName();n[c.get("SWE_PROP_QTP_UN")]=u}j=$(j).attr(n)[0].outerHTML;j+='<span id="'+t+'" >'+u+"</span><br/>";p.append(j)}this.InjectQTPInfo(parent);p=null}};e.prototype.BindEvents=function(){var i=this.GetEl(),h=this.Helper("EventHelper");if(i&&h){h.Manage(i,"focus",{ctx:this},a).Manage(i,"down",{ctx:this},g).Manage(i,"blur",{ctx:this},d).Manage(i,"change",{ctx:this},b).Manage(i,"click",{ctx:this},f);SiebelAppFacade.RadioPW.superclass.BindEvents.call(this)}};e.prototype.BindData=function(h){SiebelAppFacade.RadioPW.superclass.BindData.call(this);this.SetValue(h)};e.prototype.SetValue=function(m,i){i=((i!=="undefined"||i!==null)?i:Number(this.Get("GetSelection")));var l=this.GetEl(i),j=this.GetIconMap(m),k=this.control.GetScriptProperty("Visible"),h={};if(l){if(m){h=l.filter(function(){return($(this).val()===m)}).prop("checked",true)}else{h=l.prop("checked",false)}if(h.length>0){l=h}if(this.control.GetShowBase()&&!this.ExecuteMethod("CanUpdate",this.control.GetName())&&l.parent().children("#"+l.attr("name")+"_s").length>0){if(j){l.nextAll("span").eq(0).remove();utils.DecideVisibility(l.after(j),k);l.styleHide()}else{l.nextAll("span").eq(0).remove();utils.DecideVisibility(l,k)}}}};e.prototype.SetState=function(l,h,i){var j=this.GetEl(i),k=this.control.GetScriptProperty("Visible");h=h===undefined?true:h;if(j&&j.length){switch(l){case c.get("EDITABLE"):if(h){j.removeAttr("readOnly").attr("aria-readonly",false)}else{j.attr("readOnly","readOnly").attr("aria-readonly",true)}break;case c.get("ENABLE"):j.attr("disabled",!h);break;case c.get("SHOW"):h?utils.DecideVisibility(j,k):j.styleHide();break;case c.get("FOCUS"):j=j.filter(":checked").length?j.filter(":checked"):$(j[0]);h?j.focus():j.blur();break}}};e.prototype.GetValue=function(h){return(this.GetEl(h).filter(":checked").val()||"")};function a(h){var i=h.data.ctx;i.OnControlEvent(c.get("PHYEVENT_CONTROL_FOCUS"),i.control,$(this).val());h.stopPropagation()}function d(h){var i=h.data.ctx,j=$(this),k=i.GetEl(Number(i.Get("GetSelection")));if(i.IsInLeaveField(this)){return}h.stopPropagation();if(j.data("webkit-mousedown")){j.removeData("webkit-mousedown");return}j=k.filter(":checked").length?k.filter(":checked"):$(this);i.OnControlEvent(c.get("PHYEVENT_CONTROL_BLUR"),i.control,j.val())}function b(h){var i=h.data.ctx;h.stopPropagation();i.ExecuteMethod("LeaveField",i.control,$(this).val(),true)}function g(h){$(this).data("webkit-mousedown",true);h.stopPropagation()}function f(i){var j=$(this);var h=j.attr("readonly");i.stopPropagation();if(typeof h!=="undefined"&&h!==false){j.prop("checked",!j.prop("checked"))}if(j.data("webkit-mousedown")){j.removeData("webkit-mousedown")}var k=$(document.activeElement);if((j.attr("id")||"")!==(k.attr("id")||"")||(j.attr("name")||"")!==(k.attr("name")||"")){j.focus()}}return e}());return SiebelAppFacade.RadioPW})}if(typeof(SiebelAppFacade.DatePW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.DatePW");define("siebel/datepw",[],function(){SiebelAppFacade.DatePW=(function(){var i=SiebelJS.Dependency("SiebelApp.Utils"),h=SiebelJS.Dependency("SiebelApp.Constants"),b=h.get("SWE_CTRL_DATE_PICK"),e=h.get("SWE_CTRL_DATE_TIME_PICK"),a=h.get("SWE_CTRL_DATE_TZ_PICK");function d(){SiebelAppFacade.DatePW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(d,SiebelAppFacade.FieldPW);d.prototype.ShowUI=function(){var m=this.GetEl();if(m){SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:m,id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification()});var l=this.Get("GridFormContent")?this.control.GetSeq():"0";m.attr({maxlength:this.control.GetMaxSize()||256,tabindex:l});this.InjectQTPInfo(m)}};d.prototype.BindEvents=function(){var n=this.GetEl(),l=this.Helper("EventHelper"),m=(this.control.GetUIType()===b)?"siebui-icon-date":"siebui-icon-datetime";if(n&&l){l.Manage(n,"focus",{ctx:this},f).Manage(n,"blur",{ctx:this},c).Manage(n,"keydown",{ctx:this},j).Manage(n.next("span."+m),"click",{ctx:this},g)}};d.prototype.OpenPopup=function(){var m=this.GetEl();if(m&&m.length>1){var l=m.index($(document.activeElement));m=l>=0?m.eq(l):$()}m.next((this.control.GetUIType()===b)?".siebui-icon-date":".siebui-icon-datetime").click()};d.prototype.HandleKey=function(l,m,n){if(m.which===h.get("SWE_F2_KEY")){l.next('span[id^="'+this.control.GetInputName()+'"]').click();m.stopImmediatePropagation()}};function g(t){var u=t.data.ctx,r=u.control.GetUIType(),p=null;var l=u.GetEl();if(l&&l.length>1){if(t){p=l.next("span"+((u.control.GetUIType()===b)?".siebui-icon-date":".siebui-icon-datetime")).index($(this));
l=l.eq(p>=0?p:0)}}SiebelAppFacade.DecisionManager.PauseVKeyboard(l);if(!u.OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),u.control)){SiebelAppFacade.DecisionManager.ResumeVKeyboard(l);return}if(!u.ExecuteMethod("CanUpdate",u.control.GetName())){t.stopPropagation();return}l.attr("data",l.val());u.SetProperty("isControlPopupOpen",true);var n={changeMonth:true,changeYear:true,showTime:false,showTimepicker:false,dateFormat:"yy-mm-dd",yearRange:"c-100:c+100",isRTL:(SiebelApp.S_App.GetDirection()?true:false),onClose:function(w,v){k.call(u,$(this),w,v.isEscapeKey);SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this))},firstDay:SiebelApp.S_App.LocaleObject.GetWeekStartDay()};var r=u.control.GetUIType();if(r===e||r===a){var o=SiebelApp.S_App.LocaleObject.GetTimeFormat(),q=(o.indexOf("p ")===-1)&&(o.indexOf(" p")===-1),m=(q?"HH":"hh")+":mm:ss"+(q?"":" TT");$.extend(n,{showTime:true,showTimepicker:true,timeFormat:m,separator:" "})}l.datetimepicker(n);var s=i.ToISOFormat(l.val(),(r!==b),u.control.GetDisplayFormat());if(s&&s!==h.get("JS_INVALID_DATE")){s=s.replace(/-/g,"/");l.datetimepicker("setDate",s)}l.datetimepicker("show");l.datepicker("widget").find(".ui-datepicker-calendar").attr("tabindex","0").focus();l=null;t.stopPropagation()}function k(r,q,n){var p=this.control,m=p.GetUIType(),l=false;switch(m){case a:case e:l=true;r.val(q);default:q=i.ToISOFormat(q,l,p.GetDisplayFormat())||q}r.datetimepicker("destroy");setTimeout(function(){r.focus()},10);this.SetProperty("isControlPopupOpen",false);var o=r.attr("data");if(n===true){r.val(o)}else{this.ExecuteMethod("LeaveField",p,q,true)}r.removeAttr("data")}function f(l){var m=l.data.ctx,n=$(this).val();if(m.Get("IsInQueryMode")===false){n=i.ToISOFormat(n,(m.control.GetUIType()!==b))||n}m.OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),m.control,n)}function c(m){var o=m.data.ctx,r=$(this).val();if(o.IsInLeaveField(this)){return}if(o.Get("isControlPopupOpen")==false){if(o.Get("IsInQueryMode")===false){r=i.ToISOFormat(r,(o.control.GetUIType()!==b))||r}o.OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),o.control,r)}else{var n=o.control.GetUIType()===b,l=SiebelApp.S_App.LocaleObject.GetDateFormat(),q=h.get("ISO_DATE_FORMAT");if(!n){l+=" "+SiebelApp.S_App.LocaleObject.GetTimeFormat();q=h.get("ISO8601_DATETIME_FORMAT")}var p=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(r,q,o.control.GetDisplayFormat()||l);$(this).val(p===""?r:p)}}function j(l){var m=l.data.ctx;l.data.ctrl=m.control;m.OnKey($(this),l,$(this).val())}return d}());return SiebelAppFacade.DatePW})}if(typeof(SiebelAppFacade.DropDownPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.DropDownPW");define("siebel/dropdownpw",["siebel/basepw"],function(){SiebelAppFacade.DropDownPW=(function(){var k=SiebelJS.Dependency("SiebelApp.Constants");function i(){SiebelAppFacade.DropDownPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(i,SiebelAppFacade.FieldPW);i.prototype.ShowUI=function(){var s=this.GetEl();var r=j.call(this);if(s&&s.length){for(var o=0,n=s.length;o<n;o++){var q=(s.eq(o).prop("tagName")||"").toLowerCase();if(!r&&q==="select"){s.eq(o).replaceWith((s.eq(o).empty()[0].outerHTML||"").replace(/select/ig,"input"))}if(r&&q==="input"){s.eq(o).replaceWith((s.eq(o).empty()[0].outerHTML||"").replace(/input/ig,"select"))}}s=this.GetEl()}if(!r&&s){SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:s,id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification()})}if(s){var m=this.Get("GridFormContent")?this.control.GetSeq():"0";this.Helper("EventHelper").Manage(s,"keydown",{ctx:this,ctrl:this.control},function(u){return u.data.ctx.OnKey($(this),u,$(this).val())}).Manage(s,"keypress",{ctx:this},function(u){if($(this).prop("readonly")){u.stopImmediatePropagation()}}).Manage(s,"blur",{ctx:this},function(u){if(this===document.activeElement){u.stopImmediatePropagation()}});s.attr({maxlength:this.control.GetMaxSize()||256,tabindex:m,});if(Number(this.control.GetWidth())!==0){s.css("width",Number(this.control.GetWidth()))}if(Number(this.control.GetHeight())!==0){s.css("height",Number(this.control.GetHeight()))}if(r){s.attr({role:"listbox",title:this.control.GetDisplayName(),})}else{s.attr("role","combobox")}var t=SiebelApp.S_App.GetDirection();if(!r){s.autocomplete({source:[],appendTo:s.parents("#_sweview").length?"#_sweview":null,autoFocus:true,delay:0}).bind("autocompletefocus",function(u,v){$(this).attr("aria-activedescendant",$(this).autocomplete("widget").attr("aria-activedescendant"));if(SiebelAppFacade.DecisionManager.IsTouch()&&u.originalEvent&&u.originalEvent.originalEvent&&(u.originalEvent.originalEvent.type||"").indexOf("mouse")!==-1){$(this).autocomplete("widget").menu.select()}});for(var p=0,n=s.length;p<n;p++){s.eq(p).autocomplete("option","position",{my:t?"right top":"left top",at:t?"right bottom":"left bottom",of:s.eq(p),collision:"flipfit flipfit"})}}this.InjectQTPInfo(s)}};i.prototype.BindEvents=function(q){var p=this.GetEl(),m=this.control.GetHTMLAttr(),n=this.Helper("EventHelper");if(p&&n){n.Manage(p,"focus",{ctx:this},g).Manage(p,"blur",{ctx:this},f);var o=j.call(this);if(!o){n.Manage(p,"autocompleteselect",{ctx:this},d).Manage(p,"autocompleteopen",{ctx:this},l).Manage(p,"autocompleteclose",{ctx:this},a).Manage(p.next("span.siebui-icon-dropdown"),"mousedown",{ctx:this,prevElem:p},b).Manage(p.next("span.siebui-icon-dropdown"),"click",{ctx:this,prevElem:p},h)}else{n.Manage(p,"change",{ctx:this},function(r){r.data.ctx.ExecuteMethod("LeaveField",r.data.ctx.control,$(this).val(),true)})}}};i.prototype.SetValue=function(r,o){var t=this.control.GetRadioGroupPropSet();var u=j.call(this);var s=this.GetEl(o);if(u&&s&&s.length){s.html("");var m="";for(var n=0;n<t.GetChildCount();n++){var p=t.GetChild(n);var q=p.GetProperty("DisplayName");if(q===r){m+='<option selected="selected" value = "'+q+'">'+q+" </option> <br>"}else{m+='<option value = "'+q+'">'+q+" </option> <br>"}}s.attr("size",u);s.html(m)}SiebelAppFacade.DropDownPW.superclass.SetValue.call(this,r,o)};i.prototype.HandleKey=function(m,n){var o=false;switch(n.which){case $.ui.keyCode.UP:if(n.ctrlKey||n.altKey||n.shiftKey){m.autocomplete("option","source",[])}else{if(!(m.autocomplete("widget").is(":visible"))){m.next("span.siebui-icon-dropdown").click();return true}}break;case $.ui.keyCode.DOWN:if(n.ctrlKey||n.altKey||n.shiftKey){m.autocomplete("option","source",[])}else{if(!(m.autocomplete("widget").is(":visible"))){h.call(this,n);o=true}}break;case $.ui.keyCode.ENTER:if(m.autocomplete("widget").is(":visible")){m.trigger("autocompleteselect")}break;default:c.call(this,m,n);break}return o};function j(){var r=this.control;var p=null;var m=r.GetHTMLAttr();var q=k.get("SWE_NATIVE_COMBO_ATTR");var n=(m?m.toLowerCase().replace(/ /g,""):"");if(n.indexOf(q)>=0){p=n.substring(n.indexOf(q)+q.length,n.length);p=p.replace(/"/g,"");var o=0;for(o=1;o<=p.length;o++){if(isNaN(Number(p.substring(0,o)))){break}}p=p.substring(0,o-1)}return p}function g(m){var n=m.data.ctx;
n.OnControlEvent(k.get("PHYEVENT_CONTROL_FOCUS"),n.control,$(this).val())}function f(m){var n=m.data.ctx,o=$(this);if(o.data("mouseClick")){return}if(n.IsInLeaveField(this)){return}if($(document.activeElement).parents(".ui-autocomplete").length>0||(o.data("ui-autocomplete")&&o.data("ui-autocomplete").menu.active)){return}var q=e.call(n,o.val());$(this).data("filterValue",$(this).val());n.OnControlEvent(k.get("PHYEVENT_CONTROL_BLUR"),n.control,q);$(this).removeData("filterValue");var p=j.call(n);if(!p){o.autocomplete("option","source",[])}}function d(m,o){var n=m.data.ctx;SiebelAppFacade.DecisionManager.PauseVKeyboard($(this));var p=o?o.item.value:$(this).val();if(n.Get("IsInQueryMode")){n.SetProperty("DDUserSelected",{ctrl:n.control,value:p})}$(this).data("pendingSelect",p)}function l(n){n.data.ctx.SetProperty("isControlPopupOpen",true);var m=$(this).autocomplete("widget");if(m.length){var o=parseInt(m.css("top"),10);if(o<0){m.css("top",0)}}}function a(m){var o=m.data.ctx;if(o.Get("IsInQueryMode")){o.SetProperty("DDUserSelected",{ctrl:o.control,value:m.target.value})}var n=$(this).data("pendingSelect");if(n){$(this).removeData("pendingSelect");$(this).data("filterValue",$(this).val());if(o.control.IsPostChanges()||$(this).data("resetOffset")){var p=o.ExecuteMethod("LeaveField",o.control,n,true);$(this).removeData("filterValue");if($(this).data("resetOffset")){o.ExecuteMethod("SetActiveControl",null)}if(p===false){SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this));return p}}else{if(SiebelAppFacade.DecisionManager.IsTouch()&&document.activeElement!==this){this.focus()}}$(this).removeData("filterValue")}SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this));o.SetProperty("isControlPopupOpen",false)}i.prototype.UpdatePickList=function(m){h.call(this,null,m)};function c(n,o){var m=o?o.data.ctx||this:this;n.data("iscache","true");m.OnControlEvent(k.get("PHYEVENT_INVOKE_COMBO"),m.control);n.removeData("iscache")}function b(m){var n=m.data.prevElem;$(n).data("mouseClick",true)}function h(x,v){if(x&&x.data.prevElem){var n=x.data.prevElem;$(n).removeData("mouseClick")}var y=x?x.data.ctx||this:this;var o=y.GetEl()||$();if(o.data("iscache")){o.autocomplete("option","source",v);return}var s;var u=y.control.GetRadioGroupPropSet(),t;if(o&&o.length>1){if(x){s=o.next("span.siebui-icon-dropdown").index($(this));o=o.eq(s>=0?s:0);o.focus()}else{s=o.index($(document.activeElement));o=s>=0?o.eq(s):$()}}if(y.control){if(!y.ExecuteMethod("CanUpdate",y.control.GetName())||o.is(":disabled")){o.focus();return false}}if(!u.IsEmpty()&&y.control.IsStaticBounded()){SiebelAppFacade.DecisionManager.PauseVKeyboard(o);v=v||[];for(var p=0,r=u.GetChildCount();p<r;p++){t=u.GetChild(p);v[p]=t.GetProperty(k.get("SWE_DISPLAY_NAME_STR"))}}if(v===undefined){o.autocomplete("option","source",[]);SiebelAppFacade.DecisionManager.PauseVKeyboard(o);y.OnControlEvent(k.get("PHYEVENT_INVOKE_COMBO"),y.control);SiebelAppFacade.DecisionManager.ResumeVKeyboard(o);return}if(o.length!==0){var q=null;if(o.length&&o.is(":hidden")){var w=o.siblings().find("div#"+o.attr("name")+"_IPEField");q=o.autocomplete("option","position");if(w.length&&q){o.autocomplete("option","position",$.extend(q,{of:w}));y.ExecuteMethod("SetActiveControl",y.control);o.data("resetOffset",true)}}else{if(o.data("resetOffset")){q=o.autocomplete("option","position");o.autocomplete("option","position",$.extend(q,{of:o}));o.removeData("resetOffset")}}o.autocomplete("option","source",v);var m=o.data("filterValue")||o.parent().data("filterValue")||"";if(utils.IsEmpty(m)){o.autocomplete("option","autoFocus",false)}setTimeout(function(){var C=m||"";o.autocomplete("option","minLength",0).autocomplete("search",C);if(o.autocomplete("widget").not(":hidden").length===0){C="";o.autocomplete("search",C)}o.autocomplete("close");o.autocomplete("search",C);o.autocomplete("option","autoFocus",true).autocomplete("option","minLength",1);if(SiebelApp.S_App.IsAutoOn()){var B=$(o.autocomplete("widget")).children(),E,A;E=y.control.GetLovType();if(E){for(var D=0;D<B.length;D++){if(SiebelApp.S_App.TranslationTable){A=SiebelApp.S_App.TranslationTable.LookupLIC(E,$(B[D]).text());$(B[D]).attr({"data-lovtype":E,"data-licval":A})}}}}o.focus();var z=o.autocomplete("widget");if(z){z.position(o.autocomplete("option").position||{})}if(y.control.IsStaticBounded()){SiebelAppFacade.DecisionManager.ResumeVKeyboard(o)}o=null},0);o.autocomplete("widget").attr("role","combobox").children().find("a").attr("role","option")}}i.prototype.OpenPopup=function(){var n=this.GetEl();if(n&&n.length>1){var m=n.index($(document.activeElement));n=m>=0?n.eq(m):$()}n.next(".siebui-icon-dropdown").click()};function e(n){if(this.Get("IsInQueryMode")){var m=this.Get("DDUserSelected");if(m&&n&&n.charAt(0)!=='"'&&n.charAt(n.length-1)!=='"'&&m.ctrl===this.control&&m.value===n){n='"'+n+'"';this.SetProperty("DDUserSelected",undefined)}}return n}return i}());return SiebelAppFacade.DropDownPW})}if(typeof(SiebelAppFacade.FilePW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.FilePW");define("siebel/filepw",["siebel/basepw"],function(){SiebelAppFacade.FilePW=(function(){var i=SiebelJS.Dependency("SiebelApp.Utils"),h=SiebelJS.Dependency("SiebelApp.Constants"),b=h.get("SWE_CTRL_FILE"),e=null;function d(){SiebelAppFacade.FilePW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(d,SiebelAppFacade.FieldPW);function j(){return this.control&&this.control.GetUIType()===h.get("SWE_PST_BUTTON_CTRL")&&this.control.GetMethodName()==="NewFileAttachment"}d.prototype.ShowUI=function(){var o=this.GetEl();if(o){var p=this.Get("GridFormContent")?this.control.GetSeq():"0",w=this.control.GetPMPropSet(),m=(w?w.GetProperty("UploadTriggerControl"):false),n=$("#s_"+this.Get("GetFullId")+"_div").find("#a_"+this.Get("GetId")),q=null,l={},x=null,v=' tabindex="'+p+'"',t=null,u=j.call(this),r=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName());l={type:"POST",replaceFileInput:false,forceIframeTransport:false,multipart:true,url:SiebelApp.S_App.GetPageURL(),dropZone:n,formData:{},scope:this};q=((m&&this.control.GetName()!==h.get("SWE_FILE_NAME_STR"))?this.control.GetInputName():h.get("SWE_FILE_NAME_STR"));e=this.control.GetInputName();if(u){q=h.get("SWE_FILE_NAME_STR");e+=h.get("SWE_FILE_NAME_STR");var s=this.Get("GetAppletLabel");if(s!==""){s=s+":"}v+=' name="'+q+'" title="'+s+this.control.GetDisplayName()+'" aria-label="'+s+this.control.GetDisplayName()+'"';if(!SiebelAppFacade.DecisionManager.IsTouch()){v+=" multiple"}if(!r){v+=' disabled="disabled"'}}else{v+=' name="'+q+'" '}x=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({id:e,type:b,attrs:v});if(u){o.addClass("siebui-label-btn").addClass(r?"appletButton":"appletButtonDis").html(this.control.GetDisplayName()+x);if(t){o.prepend('<a role="button">'+t+"</a>")}o=o.find("#"+e)}else{o.replaceWith(x);o=this.GetEl()}l.fileInput=o;o.fileupload(l);this.InjectQTPInfo(o);o=n=null}};d.prototype.BindEvents=function(m){var q=this.control.GetPMPropSet(),l=(q?q.GetProperty("UploadTriggerControl"):false),p=this.GetEl(),o;
if(p){p=p.find("#"+e);p=p.length===0?p.end():p;if(l){p.bind("fileuploadadd",{ctx:this},a).bind("fileuploaddrop",{ctx:this},a).bind("fileuploadfail",{ctx:this},f).bind("fileuploaddone",{ctx:this},g)}else{p.bind("fileuploadchange",{ctx:this},function(s,r){return(c.call(this,s,r,m))}).bind("fileuploaddrop",{ctx:this},function(s,r){return(c.call(this,s,r,m))});var n={};n.fail=f;n.done=k;p.fileupload(n)}o=p.parent();p.bind("focus",function(){o.addClass("siebui-file-focus")});p.bind("blur",function(){o.removeClass("siebui-file-focus")});if(p.closest(".ui-dialog").length){p.one("touchstart",function(){$(this).blur()})}}p=null};d.prototype.SetState=function(o,l,m){if(j.call(this)&&o===h.get("ENABLE")){var n=this.GetEl(m);if(n){n.removeClass("appletButton appletButtonDis").addClass((l?"appletButton":"appletButtonDis"));n=n.children("input.siebui-ctrl-file");n.removeAttr("disabled");if(!l){n.attr("disabled","disabled")}}}else{SiebelAppFacade.FilePW.superclass.SetState.apply(this,arguments)}};function c(q,p,n){if(p.files.length>0){var m=q.data.ctx,o=$(this),l=m.ExecuteMethod("NewFileAttachment",null,n),r=h.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true,timeOut:false,message:""});o.fileupload("option","remainingFilesToUpload",p.files.length);o.fileupload("option","formData",l);o.fileupload("option","url",SiebelApp.S_App.GetPageURL()+h.get("SWE_ARG_START")+r);o=null}}function a(n,m){var l=$(this),o=h.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();l.fileupload("option","importfiles",m.files);l.fileupload("option","url",SiebelApp.S_App.GetPageURL()+h.get("SWE_ARG_START")+o);l=null}d.prototype.SubmitFile=function(p){var m=this.GetEl(),o=false;if(m){var l=m.fileupload("option","importfiles");if(l){var q=this.ExecuteMethod("NewFileAttachment",p,true);var l=m.fileupload("option","importfiles");m.fileupload("option","formData",q);var n={files:l};SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true,timeOut:false,message:""});m.fileupload("send",n);o=true}}return o};function k(p,o){var m=$(this),l=null,n=0;if(m.data("blueimp-fileupload")){n=m.fileupload("option","remainingFilesToUpload");m.fileupload("option","remainingFilesToUpload",--n)}if(o.dataType==="iframe "){l=$(o.result).find("body").html()}else{l=o.result}if(!i.IsEmpty(l)){SiebelApp.S_App.ProcessResponse(l)}if(n<=0){m.val("");if(SiebelApp.S_App.uiStatus.IsBusy()){SiebelApp.S_App.uiStatus.Free()}}}function g(s,r){var o=$(this),l=null,m=s.data.ctx,q=CCFMiscUtil_CreatePropSet(),p=o.fileupload("option","remainingFilesToUpload");o.fileupload("option","remainingFilesToUpload",--p);if(r.dataType==="iframe "){l=$(r.result).find("body").html()}else{l=r.result}for(var n in r.formData){if(r.formData.hasOwnProperty(n)){q.SetProperty(n,r.formData[n])}}m.ExecuteMethod("ForceProcessResponse",r.formData.SWEMethod,q,l);if(SiebelApp.S_App.uiStatus.IsBusy()&&p<=0){SiebelApp.S_App.uiStatus.Free()}return}function f(m,l){if(SiebelApp.S_App.uiStatus.IsBusy()){SiebelApp.S_App.uiStatus.Free()}}return d}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_PST_BUTTON_CTRL"),SiebelAppFacade.FilePW,function(a){return a&&a.GetMethodName()==="NewFileAttachment"});return SiebelAppFacade.FilePW})}if(typeof(SiebelAppFacade.FlipSwitchPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.FlipSwitchPW");define("siebel/flipswitchpw",["siebel/basepw"],function(){SiebelAppFacade.FlipSwitchPW=(function(){var f=SiebelJS.Dependency("SiebelApp.Constants"),h=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),g=h.GetLocalString("IDS_CLIENT_YES"),i=h.GetLocalString("IDS_CLIENT_NO");function a(){SiebelAppFacade.FlipSwitchPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(a,SiebelAppFacade.FieldPW);a.prototype.ShowUI=function(k){var j=this.GetEl(),l="";if(j){j.each(function(){var m=$(this),n=m.prop("checked");l=m.eq(0).clone().html("").wrap("<p/>").parent().html()||"";l=l.replace(/input/ig,"select").replace(/type="checkbox"/ig,"");m.replaceWith($(l).addClass("siebui-ctrl-flipswitch").removeAttr("style").append("<option value='Y' "+(n?"selected='selected'":"")+">"+g+"</option><option value='N' "+(!n?"selected='selected'":"")+">"+i+"</option>"))});this.GetEl().switchify().data("switch").attr("tabindex",this.Get("GridFormContent")?this.control.GetSeq():"0");this.InjectQTPInfo(this.GetEl())}};a.prototype.BindEvents=function(){var m=this.GetEl(),k=this.Helper("EventHelper");if(m&&m.length){for(var l=0,j=m.length;l<j;l++){m.eq(l).data("switch").bind("focus",{ctx:this},d).bind("switch:slide",{ctx:this},e).bind("blur",{ctx:this},b).bind("touchstart",{ctx:this},c).bind("click",{ctx:this},c)}}SiebelAppFacade.FlipSwitchPW.superclass.BindEvents.call(this)};a.prototype.SetValue=function(n,l){var m=this.GetEl(l);if(m&&m.length){var k=m.data("switch"),j=k.data("controls");if(n==="Y"){j.on({silent:true})}else{j.off({silent:true})}m.val(n)}};a.prototype.SetState=function(n,k,l){var m=this.GetEl(l);k=k===undefined?true:k;if(m&&m.length){var j=m.data("switch");switch(n){case f.get("EDITABLE"):case f.get("ENABLE"):m.removeAttr("disabled").attr("disabled",!k);if(k){j.removeClass("disabled")}else{j.addClass("disabled")}break;case f.get("SHOW"):k?j.show():j.hide();break;case f.get("FOCUS"):k?j.focus():j.blur();break}}};function c(j){var k=j.data.ctx;if(document.activeElement!==this){$(this).focus()}}function d(j){var k=j.data.ctx;k.OnControlEvent(f.get("PHYEVENT_CONTROL_FOCUS"),k.control,$(this).data("select").val())}function b(j){var k=j.data.ctx;k.OnControlEvent(f.get("PHYEVENT_CONTROL_BLUR"),k.control,$(this).data("select").val())}function e(k,n){var m=k.data.ctx,j=$(this),l=j.data("controls");if(j.hasClass("disabled")){setTimeout(function(){l[n==="on"?"off":"on"]({silent:true})},1)}else{j.data("select").val(n==="on"?"Y":"N")}}return a}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_CHECKBOX"),SiebelAppFacade.FlipSwitchPW,function(a){return SiebelAppFacade.DecisionManager.IsTouch()});return SiebelAppFacade.FlipSwitchPW})}if(typeof(SiebelAppFacade.LinkPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.LinkPW");define("siebel/linkpw",[],function(){SiebelAppFacade.LinkPW=(function(){var c=SiebelJS.Dependency("SiebelApp.Constants"),a=SiebelJS.Dependency("SiebelApp.Utils");urlcontrol=c.get("SWE_CTRL_URL"),email=c.get("SWE_CTRL_MAILTO"),label=c.get("SWE_CTRL_LABEL"),link=c.get("SWE_CTRL_LINK");function b(){SiebelAppFacade.LinkPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(b,SiebelAppFacade.FieldPW);b.prototype.ShowUI=function(){var i=this.GetEl(),h,j,f="",g,e=this.control.GetUIType();if(i){if(e===link){j=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName());h=j?this.control.GetEnabledBmp():(this.control.GetDisabledBmp()||this.control.GetEnabledBmp());f=h?(j?"siebui-link-icon-e ":"siebui-link-icon-d "):"";h=h?h:this.control.GetDisplayName();h=(h&&h.replace)?h.replace(/\\\"/g,'"'):h
}else{if(e===label&&this.control.GetMethodName()){h=this.control.GetDisplayName()}}SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:e,el:i,id:this.control.GetInputName(),className:f+"siebui-align-"+this.control.GetJustification(),value:h});g=this.Get("GridFormContent")?this.control.GetSeq():"0";if(e!==link&&e!==label){i.attr({maxlength:this.control.GetMaxSize()||256,tabindex:g})}if(e===link){h?i.children("a").attr("tabindex",j?g:"-1"):i.children("a").attr("tabindex",this.control.GetSeq())}else{if(e===label&&this.control.GetMethodName()){i.children("a").attr("tabindex",this.control.GetSeq())}}this.InjectQTPInfo(i)}};b.prototype.BindEvents=function(){var f=this.GetEl(),e=this.Helper("EventHelper");if(f&&e){switch(this.control.GetUIType()){case link:case label:if(this.control.GetMethodName()){e.Manage(f,"click",{ctx:this},d)}break}SiebelAppFacade.LinkPW.superclass.BindEvents.call(this)}};b.prototype.SetState=function(e,i,h){var g=this.GetEl(h);i=i===undefined?true:i;if(g&&g.length){if(e===c.get("ENABLE")){var f=this.control.GetEnabledBmp();var k=this.control.GetDisabledBmp()||f;if(f||k){var j=i?f:k;if(j){j=$(j);var l=$(j).find("img").eq(0),m=l.length&&(l.attr("alt")||l.attr("title"));m?j.attr("title",m):false;g.removeClass("siebui-link-icon-e siebui-link-icon-d").addClass(i?"siebui-link-icon-e":"siebui-link-icon-d").find("a").attr("tabindex",i?(this.control.GetSeq()||0):"-1").attr("data-seq",i?(this.control.GetSeq()||0):"-1").html(j)}}}else{SiebelAppFacade.LinkPW.superclass.SetState.apply(this,arguments)}}return};b.prototype.SetValue=function(o,h){var n=this.ExecuteMethod("CanUpdate",this.control.GetName()),i="",e=a.IsTrue(this.control.IsEncode())?HtmlEncode(o):o,k=o,j=HtmlEncode(o),l=this.control.GetScriptProperty("Visible"),m=this.GetIconMap(o),p=this.GetEl(h),g;if(p){switch(this.control.GetUIType()){case c.get("SWE_CTRL_URL"):if(typeof(o)==="string"){if((e.indexOf("http://")===-1)&&(e.indexOf("https://")===-1)){e=window.location.protocol+"//"+e;k=window.location.protocol+"//"+k}}if(m){m="<a href='"+e+"' target='_blank' >"+m+"</a>"}var f=this.control.GetWidth();i='<a class="siebui-ctrl-url-ro" id="'+this.control.GetInputName()+'_url_link"'+((f&&f!=="0")?' style="width: '+f+"px":"")+"\" href='"+k+"' target='_blank' >"+e+"</a>";break;case c.get("SWE_CTRL_MAILTO"):if(m){m='<a class="siebui-ctrl-mailto-ro" href="mailto:'+j+'">'+m+"</a>"}i='<a class="siebui-ctrl-mailto-ro" id="'+this.control.GetInputName()+'_mailto_link" href="mailto:'+j+'">'+j+"</a>";break;default:break}g=this.control.GetInputName()+"_span";if(m){p.nextAll('[id^="'+this.control.GetInputName()+'"]').not(".siebui-icon-mailto").remove();if(p.nextAll("#"+g).length===0){p.nextAll('[id^="'+this.control.GetInputName()+'"]').addBack().last().after('<span id="'+g+'" ><span>')}g=p.nextAll("#"+g);a.DecideVisibility(g.html(m),l);p.val(o).styleHide();p.nextAll(".siebui-icon-mailto").addClass("siebui-invisible")}else{if(!n&&!a.IsEmpty(o)){p.nextAll('[id^="'+this.control.GetInputName()+'"]').not(".siebui-icon-mailto").remove();p.after(i);p.val(o).styleHide()}else{p.nextAll('[id^="'+this.control.GetInputName()+'"]').not(".siebui-icon-mailto").remove();a.DecideVisibility(p.val(o),l)}if((this.control.GetUIType()===link||this.control.GetUIType()===label)&&this.control.GetMethodName()){p.removeClass("siebui-ctrl-link-disabled siebui-ctrl-link").addClass(this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName())?"siebui-ctrl-link":"siebui-ctrl-link-disabled")}p.nextAll(".siebui-icon-mailto").removeClass("siebui-invisible");g=p.nextAll("#"+g);g.styleHide()}if(this.control.GetUIType()===c.get("SWE_CTRL_MAILTO")){p.nextAll(".siebui-icon-mailto").eq("0").attr({href:p.val()?"mailto:"+p.val():"mailto:",id:this.control.GetInputName()+"_icon"})}}};function d(h){h.stopPropagation();if($(this).hasClass("siebui-link-icon-d")||$(this).hasClass("siebui-ctrl-link-disabled")){return}SiebelApp.S_App.uiStatus.Busy({});var f={};f.async=true;f.cb=function(){var i=Array.prototype.slice.call(arguments);var j=i?i[i.length-1]:"";if(j!==c.get("SWE_RPC_PROP_NEW_LAYOUT")&&j!==c.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&j!==c.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()}};var g=h.data.ctx.control.GetMethodPropSet();var e=g.Clone();h.data.ctx.OnControlEvent(c.get("PHYEVENT_INVOKE_CONTROL"),h.data.ctx.control.GetMethodName(),e,f)}return b}());return SiebelAppFacade.LinkPW})}if(typeof(SiebelAppFacade.PlainTextPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PlainTextPW");define("siebel/plaintxtpw",[],function(){SiebelAppFacade.PlainTextPW=(function(){var c=SiebelJS.Dependency("SiebelApp.Constants"),b=SiebelJS.Dependency("SiebelApp.Utils");function a(){SiebelAppFacade.PlainTextPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(a,SiebelAppFacade.FieldPW);a.prototype.ShowUI=function(){var j=this.GetEl(),h,f,e;if(j){h=this.control.GetHTMLAttr().split(";");var d=h.length;for(var g=0;g<d;g++){if(h[g]){f=h[g].replace(/"/g,"");e=f.split("=");if(!b.IsEmpty(e)&&e.length===2){name=e[0];value=e[1];attrvalue=j.attr(name);if(!b.IsEmpty(attrvalue)){j.attr(name,attrvalue+" "+value)}else{j.attr(name,value)}}}}SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:j,id:this.control.GetInputName(),className:"siebui-input-align-"+this.control.GetJustification()});if(b.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){j.attr({tabindex:this.Get("GridFormContent")?this.control.GetSeq():"0",role:"presentation"})}this.InjectQTPInfo(j)}};a.prototype.SetValue=function(i,g){var j=this.GetEl(g),f=this.GetIconMap(i),e=(!b.IsTrue(this.control.IsEncode()))?i:HtmlEncode(i),h=this.control.GetScriptProperty("Visible"),d;if(j){if(b.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){j=j.children("#"+this.control.GetInputName()+"_Label")}d=this.control.GetInputName()+"_span";if(f){j.nextAll().remove();if(j.nextAll("#"+d).length===0){j.nextAll('[id^="'+this.control.GetInputName()+'"]').addBack().last().after('<span id="'+d+'" ><span>')}d=j.nextAll("#"+d);b.DecideVisibility(d.html(f),h);j.html(e).styleHide()}else{j.nextAll().remove();b.DecideVisibility(j.html(e),h);d=j.nextAll("#"+d);d.styleHide()}}};return a}());return SiebelAppFacade.PlainTextPW})}if(typeof(SiebelAppFacade.ImgCtrlPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ImgCtrlPW");define("siebel/imgctrlpw",[],function(){SiebelAppFacade.ImgCtrlPW=(function(){var a=SiebelJS.Dependency("SiebelApp.Constants");function b(){SiebelAppFacade.ImgCtrlPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(b,SiebelAppFacade.FieldPW);b.prototype.ShowUI=function(){var c=this.GetEl();if(c){c.addClass("siebui-align-"+this.control.GetJustification());this.InjectQTPInfo(c)}};b.prototype.BindEvents=function(){};b.prototype.SetValue=function(f,d){var h=this.GetEl(d),g="",e=this.Get("GridFormContent")?this.control.GetSeq():"0";if(h){var c=f.toLowerCase();if(c.indexOf("<img")>=0){g=f}else{if(/siebui/.test(c)){g='<i class="'+f+'"></i>'}else{g='<img src="'+f+'" alt="'+this.control.GetDisplayName()+'" title="'+this.control.GetDisplayName()+'"></img>'
}}utils.IsEmpty(f)?h.html(""):h.html('<a role="img" tabindex="0" data-seq="'+e+'">'+g+"<a>")}};return b}());return SiebelAppFacade.ImgCtrlPW})}if(typeof(SiebelAppFacade.RTCEditorPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.RTCEditorPW");define("siebel/rtceditorpw",["siebel/basepw"],function(){SiebelAppFacade.RTCEditorPW=(function(){var d=SiebelJS.Dependency("SiebelApp.Constants");function a(f){SiebelAppFacade.RTCEditorPW.superclass.constructor.call(this,f)}SiebelJS.Extend(a,SiebelAppFacade.FieldPW);a.prototype.Init=function(){CKEDITOR.focusManager._.blurDelay=0};a.prototype.ShowUI=function(){var g=this.GetEl();if(g){var h=[{name:"styles",items:["Font","FontSize"]},{name:"clipboard",items:["Cut","Copy","Paste"]},{name:"colors",items:["TextColor","BGColor"]},{name:"basicstyles",items:["Bold","Italic","Underline"]},{name:"paragraph",items:["NumberedList","BulletedList","Outdent","Indent","JustifyLeft","JustifyCenter","JustifyRight"]},{name:"insert",items:["Image","Table"]}];g.ckeditor(function(){},{toolbar:h,skin:"moono",width:Number(this.control.GetWidth()),height:Number(this.control.GetHeight()),startupFocus:false,resize_enabled:true,contentsLangDirection:SiebelApp.S_App.GetDirection(),resize_maxHeight:this.control.GetHeight(),resize_maxWidth:this.control.GetWidth(),autoParagraph:false,fillEmptyBlocks:false,ignoreEmptyParagraph:true,disableNativeSpellChecker:false,extraPlugins:"pastefromword",pasteFromWordRemoveFontStyles:false,pasteFromWordRemoveStyles:false,allowedContent:true});var f=this.Get("GridFormContent")?this.control.GetSeq():"0";g.attr("tabindex",f);this.InjectQTPInfo(g)}};a.prototype.BindEvents=function(){var g=this.GetEl();if(g){var h=g.ckeditorGet();h.config.protectedSource.push(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"));var f=this;h.on("blur",function(i){e.call(f,f.control,this.getData())});h.on("focus",function(i){var j=this;setTimeout(function(){if(i.editor.focusManager.hasFocus){c.call(f,f.control,j.getData())}},100)});h.on("instanceReady",function(i){var j=CKEDITOR.dtd;for(var k in CKEDITOR.tools.extend({},j.$nonBodyContent,j.$block,j.$listItem,j.$tableContent)){this.dataProcessor.writer.setRules(k,{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:false})}if(f.control.GetMaxSize()){$(i.editor.container.$).find(".cke_bottom").prepend('<div class="siebui-rtc-count"></div>');i.editor.on("contentDom",function(){if(f.control.GetApplet()&&f.control.GetApplet().IsInQueryMode()){$(this.container.$).find(".siebui-rtc-count").hide()}else{$(this.container.$).find(".siebui-rtc-count").show()}var l=i.editor.editable();l.attachListener(l,"keyup",function(){b.call(f,f.control,i.editor)})});h.on("afterCommandExec",function(l){b.call(f,f.control,this)});h.on("saveSnapshot",function(l){b.call(f,f.control,this)});h.on("updateData",function(l){b.call(f,f.control,this)})}})}};function b(i,f){var j=$(f.container.$).find(".siebui-rtc-count"),h=f.getSnapshot().length,g;if(j.length){g=h+"/"+i.GetMaxSize();j.html(g);if(h>i.GetMaxSize()){j.addClass("siebui-rtc-errormsg")}else{if(j.hasClass("siebui-rtc-errormsg")){j.removeClass("siebui-rtc-errormsg")}}}}function e(h,g){if(this.IsInLeaveField(this.GetEl())){return}if(this.Get("IsInQueryMode")&&h.GetCaseSensitive()&&(g===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){g=""}this.OnControlEvent(d.get("PHYEVENT_CONTROL_BLUR"),h,g);if(this.Get("IsInQueryMode")&&h.GetCaseSensitive()&&(g==="")){g=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK");var f=this.GetEl();f.ckeditor(function(j){var i=this;setTimeout(function(k){i.setData(k)},2)})}}function c(h,g){if(this.Get("IsInQueryMode")&&h.GetCaseSensitive()&&(g===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){g="";var f=this.GetEl();f.ckeditor(function(j){var i=this;setTimeout(function(k){i.setData(k)},2)})}this.OnControlEvent(d.get("PHYEVENT_CONTROL_FOCUS"),h,g)}a.prototype.SetState=function(h,f){var g=this.GetEl();f=f===undefined?true:f;if(g){if(h===d.get("EDITABLE")){if(CKEDITOR.instances[this.control.GetInputName()]){if(CKEDITOR.instances[this.control.GetInputName()].instanceReady===true){CKEDITOR.instances[this.control.GetInputName()].setReadOnly(!f)}else{CKEDITOR.on("instanceReady",function(j){var i=j.editor;i.setReadOnly(!f)})}}}else{SiebelAppFacade.RTCEditorPW.superclass.SetState.apply(this,arguments)}}};a.prototype.SetValue=function(h,f){var g=this.GetEl(f);if(g){if(!g.data("pendingAction")){g.data("pendingAction",true).ckeditor(function(){var j=h;var l=$(this.element.$);var i=this;if(this.getData()!==j){i.setData(j,function(){this.fire("updateData");l.removeData("pendingAction");var m=l.data("nextAction");if(m){l.removeData("nextAction");a.prototype.SetValue.call(m[0],m[1],m[2])}})}else{l.removeData("pendingAction");var k=l.data("nextAction");if(k){l.removeData("nextAction");a.prototype.SetValue.call(k[0],k[1],k[2])}}})}else{g.data("nextAction",[this,h,f])}}};return a}());return SiebelAppFacade.RTCEditorPW})}if(typeof(SiebelAppFacade.RatingPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.RatingPW");define("siebel/ratingpw",["siebel/basepw","3rdParty/jquery.raty.min.js"],function(){SiebelAppFacade.RatingPW=(function(){var c=SiebelJS.Dependency("SiebelApp.Constants");function b(){SiebelAppFacade.RatingPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(b,SiebelAppFacade.FieldPW);b.prototype.ShowUI=function(){var f;if(!(this.Get("RatingLov"))){var j=this.Get("GetActiveControl");this.OnControlEvent(c.get("PHYEVENT_INVOKE_COMBO"),this.control);this.ExecuteMethod("SetActiveControl",j)}if(this.GetEl()){var i=this.Get("RatingLov");if(i){var h=i.length;for(var g=0,f=this.GetEl().length;g<f;g++){if(this.GetEl().eq(g).next("div.siebui-ctrl-rating").length===0){this.GetEl().eq(g).after("<div class='siebui-ctrl-rating' tabindex=\"-1\"></div>").addClass("forcehide").next("div.siebui-ctrl-rating").raty({path:"images",hints:i,number:i.length})}}}}if(this.GetEl()){this.InjectQTPInfo(this.GetEl())}};b.prototype.BindEvents=function(i){var g=this.GetEl();var f=this.Helper("EventHelper");if(g){var h=g.nextAll("div.siebui-ctrl-rating")}if(g&&f){f.Manage(h,"focus",{ctx:this},a,"img ").Manage(h,"blur",{ctx:this},d,"img ").Manage(h,"click",{ctx:this},e,"img ")}};b.prototype.UpdatePickList=function(h){var f;this.SetProperty("RatingLov",h);if(this.GetEl()){var j=this.Get("RatingLov");if(j){var i=j.length;for(var g=0,f=this.GetEl().length;g<f;g++){if(this.GetEl().eq(g).next("div.siebui-ctrl-rating").length===0){this.GetEl().eq(g).after("<div class='siebui-ctrl-rating' tabindex=\"-1\"></div>").addClass("forcehide").next("div.siebui-ctrl-rating").raty({path:"images",hints:j,number:j.length})}}}}};b.prototype.SetValue=function(p,m){var r=this.Get("RatingLov");var q=$(".siebui-ctrl-rating img").length;var f=SiebelApp.S_App.IsAutoOn();if(r){var g=r.length;var l=r.indexOf(p)+1;var o=this.GetEl(m).next("div.siebui-ctrl-rating");o.raty({path:"images",number:g,hints:r,score:l})
}if(f&&q>0){$(".siebui-ctrl-rating img").attr("rn","");$(".siebui-ctrl-rating img").attr("ot","");$(".siebui-ctrl-rating img").attr("un","");for(var k=0;k<q;k++){var n=$(".siebui-ctrl-rating").eq(k).children(0).length;for(var h=0;h<n-1;h++){$(".siebui-ctrl-rating").eq(k).children(0).eq(h)[0].attributes.rn.value=$(".siebui-ctrl-rating").eq(k).children(0).eq(h)[0].title;$(".siebui-ctrl-rating").eq(k).children(0).eq(h)[0].attributes.ot.value="Image";$(".siebui-ctrl-rating").eq(k).children(0).eq(h)[0].attributes.un.value=$(".siebui-ctrl-rating").eq(k).children(0).eq(h)[0].title}}}};function e(f){var h=$(this).attr("title");var g=f.data.ctx;g.OnControlEvent(c.get("PHYEVENT_CONTROL_BLUR"),g.control,h)}function a(f){var g=f.data.ctx;var h=$(this).attr("title");g.OnControlEvent(c.get("PHYEVENT_CONTROL_FOCUS"),g.control,h)}function d(f){var g=f.data.ctx;var h=$(this).attr("title");g.OnControlEvent(c.get("PHYEVENT_CONTROL_BLUR"),g.control,h)}return b}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_COMBOBOX"),SiebelAppFacade.RatingPW,function(a){return a&&a.GetUIType()==="JComboBox"&&a.GetHTMLAttr()==="Rating"});return SiebelAppFacade.RatingPW})}if(typeof(SiebelAppFacade.SignPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.SignPW");var ink=SiebelJS.Dependency("SiebelApp.Constants").get("SWE_CTRL_INKDATA");define("siebel/signpw",["siebel/basepw","3rdParty/jquery.signaturepad.min.js"],function(){SiebelAppFacade.SignPW=(function(){var a=SiebelJS.Dependency("SiebelApp.Utils");var d=SiebelJS.Dependency("SiebelApp.Constants");function c(){SiebelAppFacade.SignPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(c,SiebelAppFacade.FieldPW);c.prototype.ShowUI=function(){var k=this.control.GetInputName(),i=$("[name="+k+"]"),j=i.data("value"),h=i.parent();i.remove();var g="<div id =sign_"+k+' name ="'+k+'" class = "siebui-ctrl-sigpad"><canvas id = sign_canvas_'+k+' class="siebui-ctrl-pad" width="632" height="144"></canvas><p id=siebui-ctrl'+k+'-clearButton style="display:none;"></p><input id ='+k+"></input></div>";h.append(g);$("#"+k).addClass("forcehide");var f=$("#sign_"+k);if(this.ExecuteMethod("CanUpdate",this.control.GetName())){f.signaturePad({output:$("#"+k),clear:"#siebui-ctrl"+k+"-clearButton",lineTop:100,drawOnly:true})}else{try{if(j){if(a.IsEmpty(j)){j=this.ExecuteMethod("GetFieldValue",this.control)}}if(($.type(j)==="array")||j===""||j.match("Cancelled*")||!j.match("base64*")){f.signaturePad({displayOnly:true,lineTop:100,drawOnly:true}).regenerate(j)}else{f.find("canvas").remove();f.append('<img style="float:left" src= "data:image/jpg;'+j+'">')}}catch(e){if(e.name==="SyntaxError"){if(j===""||j.match("Cancelled*")){f.signaturePad({displayOnly:true,lineTop:100,drawOnly:true}).regenerate("[]")}else{f.empty().append("<span>"+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_WRONG_FORMAT")+"</span>")}}else{SiebelJS.Log(e)}}}this.InjectQTPInfo($("[name='"+k+"']"),this.control);i=h=null};c.prototype.SetValue=function(h,f){f=f||0;var j=this.GetEl(f);var g=this.control.GetInputName();var i=this.control.GetApplet().GetBusComp();try{if(h===""){h=this.ExecuteMethod("GetFieldValue",this.control);if(h===""&&i&&(i.insertPending||i.inQueryState)){j.signaturePad().clearCanvas();j.signaturePad({output:$("#"+g),clear:"#siebui-ctrl"+g+"-clearButton",lineTop:100,drawOnly:true})}}else{if(this.ExecuteMethod("CanUpdate",this.control.GetName())){j.signaturePad({displayOnly:false,lineTop:100,drawOnly:true}).regenerate(h)}else{j.signaturePad({displayOnly:true,lineTop:100,drawOnly:true}).regenerate(h)}}}catch(e){if(e.name==="SyntaxError"){if(h===""||h.match("Cancelled*")){j.signaturePad({displayOnly:true,lineTop:100,drawOnly:true}).regenerate("[]")}else{j.empty().append("<span>"+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_WRONG_FORMAT")+"</span>")}}else{SiebelJS.Log(e)}}};c.prototype.BindEvents=function(h){var g=this.GetEl(),f=this.Helper("EventHelper"),e=g.find("canvas");if(g&&f){f.Manage(e,"mouseup touchend",{ctx:this},b)}};function b(e){var f=e.data.ctx;f.ExecuteMethod("SetActiveControl",f.control);if($("#sign_"+f.control.GetInputName()).signaturePad().getSignatureString()!=="[]"){f.OnControlEvent(d.get("PHYEVENT_CONTROL_BLUR"),f.control,$("#sign_"+f.control.GetInputName()).signaturePad().getSignatureString())}else{f.OnControlEvent(d.get("PHYEVENT_CONTROL_BLUR"),f.control,$("#"+f.control.GetInputName()).val())}}return c}());SiebelApp.S_App.PluginBuilder.AttachPW(ink,SiebelAppFacade.SignPW,function(a){return a&&a.GetUIType()===ink});return SiebelAppFacade.SignPW})}if(typeof(SiebelAppFacade.ChartBuilderPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ChartBuilderPW");define("siebel/ChartBuilderPW",["3rdParty/jsplot/excanvas.min.js","3rdParty/jsplot/jquery.jqplot.js","3rdParty/jsplot/plugins/jqplot.barRenderer.js","3rdParty/jsplot/plugins/jqplot.categoryAxisRenderer.js","3rdParty/jsplot/plugins/jqplot.canvasAxisLabelRenderer.min.js","3rdParty/jsplot/plugins/jqplot.canvasTextRenderer.min.js","3rdParty/jsplot/plugins/jqplot.canvasAxisTickRenderer.js"],function(){SiebelAppFacade.ChartBuilderPW=(function(){function m(){SiebelAppFacade.ChartBuilderPW.superclass.constructor.apply(this,arguments)}var C=false;var r=false;var y=null;SiebelJS.Extend(m,SiebelAppFacade.FieldPW);m.prototype.SetValue=function(F,E){a.call(this)};m.prototype.Init=function(){if(y!==null){var E=$(this.GetEl());E.empty();y.destroy()}SiebelAppFacade.ChartBuilderPW.superclass.Init.apply(this)};m.prototype.BindEvents=function(){var J=$(this.GetEl());var G=this.Get("XAxisTitle");var I=this.Get("YAxisTitle");var F=this.Get("ZAxisTitle");var H=$.parseJSON(this.Get("XAxisData"));var E=$.parseJSON(this.Get("ZAxisData"));J.bind("jqplotClick",{ctx:this},function(M,P,L,O,N){if(N.grid.shadowforced===true){var K=D(M,P,L,O,N);if($.isArray(K)){if(K.length>3&&$.isArray(K[2])&&K[2][1]===0){return}M.type="jqplotDataClick";$(this).trigger(M,K)}}});J.bind("jqplotMouseMove",{ctx:this},function(M,P,L,O,N){if(N.grid.shadowforced===true){var K=D(M,P,L,O,N);if($.isArray(K)){if(K.length>3&&$.isArray(K[2])&&K[2][1]===0){return}M.type="jqplotDataMouseOver";$(this).trigger(M,K)}}});J.bind("jqplotDataClick",{ctx:this},function(M,K,L,O,N){if(y.grid.shadowforced===true&&!N){return}if(!r){M.data.ctx.ExecuteMethod("BarDrillDown",K,L,O)}else{M.data.ctx.ExecuteMethod("BarDrillDown",L,K,O)}});J.bind("jqplotDataMouseOver",function(R,N,S,O,L){if(y.grid.shadowforced===true&&!L){y.series[N].highlightMouseOver=false;return}var Q="";k(N,S,O);if(G!=null&&G!=""&&H!=null&&H.length>S){Q=Q+G+" : "+H[S]+"\n"}if(I!=null&&I!=""&&O!=null&&O.length>0){var P=O[1];if(C){var T=SiebelApp.S_App.LocaleObject.GetCurrency(SiebelApp.S_App.LocaleObject.m_sCurrencyCode);var M=T.m_sSymbol;var U=new SiebelApp.S_App.DatumIntegerObject();var K;U.SetAsString(O[1]);U.m_sDispCurrSymbol=M;K=SiebelApp.S_App.LocaleObject.GetProfile(SiebelApp.Constants.get("LOCAL_CURR_FORMAT"));P=U.GetAsFormattedString(K);T=null}Q=Q+I+" : "+P+"\n"}if(F!=null&&F!=""&&E!=null&&E.length>N){Q=Q+F+" : "+E[N].label
}if(Q!==""){$(this).attr("title",Q)}});J.bind("jqplotDataUnhighlight",function(K){$(this).attr("title","")})};function a(){var E=this.Get("Type");if(!this.GetEl().parent().hasClass("siebui-charts-container")){this.GetEl().parent().addClass("siebui-charts-container")}if(!this.GetEl().hasClass("siebui-charts")){this.GetEl().addClass("siebui-charts")}if(!E===false&&E.search("Bar")!=-1){this.GetEl().unbind();h.call(this)}if($("html").find(".siebui-funnel-chart").length===2){$($("html").find(".siebui-funnel-chart")[1]).hide()}else{if($("html").find(".siebui-funnel-chart:visible").length===1){$("html").find(".siebui-funnel-chart:visible").hide()}}}function h(){var P=this.GetEl();P.html("");var I=P.attr("id");r=!this.Get("InvertXZ?")||this.Get("InvertXZ?")==="0"?false:true;var aT=this.Get("Width");var U=this.Get("Height");var az="height:"+U+"px;width:"+aT+"px;";P.attr("style",az);var ac=r?e.call(this,$.parseJSON(this.Get("ZAxisData"))):$.parseJSON(this.Get("XAxisData"));var aY=r?b.call(this,$.parseJSON(this.Get("XAxisData"))):$.parseJSON(this.Get("ZAxisData"));var O=r?d.call(this,ac,aY,$.parseJSON(this.Get("YAxisData"))):$.parseJSON(this.Get("YAxisData"));var am=this.Get("DefaultChartFont");var aL=!this.Get("Font")||this.Get("Font")===""?am:this.Get("Font");var aC=!this.Get("FontSize")||this.Get("FontSize")===""?"15pt":this.Get("FontSize")+"pt";var ad=!this.Get("TitleColor")||this.Get("TitleColor")===""?z.call(this,"0 0 0"):z.call(this,this.Get("TitleColor"));var T=!this.Get("FontStyle")||this.Get("FontStyle")===""||this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Bold"?"bold":"initial";var aB=!this.Get("FontStyle")===false&&this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Italic"?"italic":"initial";var a3=!this.Get("FontEffect")||this.Get("FontEffect")===""?"":this.Get("FontEffect");var R=this.Get("Title");var ax=this.Get("Type");var Q=this.Get("XAxisShowLegend");var ar=this.Get("XAxisSort");var al=this.Get("XAxisSortField");var ah=r?this.Get("ZAxisTitle"):this.Get("XAxisTitle");var au=z.call(this,this.Get("XAxisTitleColor"));var a4=!this.Get("XAxisTitleFont")||this.Get("XAxisTitleFont")===""?aL:this.Get("XAxisTitleFont");var aF=!this.Get("XAxisTitleSize")||this.Get("XAxisTitleSize")===""?aC:this.Get("XAxisTitleSize")+"pt";var aP=!this.Get("XAxisTitleStyle")===false&&this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Italic"?"italic":"initial";var a0=!this.Get("XAxisTitleStyle")||this.Get("XAxisTitleStyle")===""||this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Bold"?"bold":"initial";var aJ=!this.Get("XAxisTitleEffect")||this.Get("XAxisTitleEffect")===""?"":this.Get("XAxisTitleEffect");var at=this.Get("XAxisVerticalText?")==="1"?90:0;var aa=!this.Get("XAxisLabelFont")||this.Get("XAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("XAxisLabelFont");var a1=!this.Get("XAxisLabelSize")||this.Get("XAxisLabelSize")===""?"10pt":this.Get("XAxisLabelSize")+"pt";var aq=!this.Get("XAxisLabelColor")||this.Get("XAxisLabelColor")===""?z.call(this,"102 102 102"):z.call(this,this.Get("XAxisLabelColor"));var aA=!this.Get("XAxisLabelStyle")===false&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Bold"?"bold":"initial";var aK=!this.Get("XAxisLabelStyle")===false&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Italic"?"italic":"initial";var ag=!this.Get("XAxisLabelEffect")||this.Get("XAxisLabelEffect")===""?"":this.Get("XAxisLabelEffect");var aE=z.call(this,this.Get("Y2AxisTitleColor"));var N=this.Get("YAxisGridColor");var aV=this.Get("YAxisTitle");var aQ=!this.Get("YAxisTitleFont")||this.Get("YAxisTitleFont")===""?aL:this.Get("YAxisTitleFont");var ap=!this.Get("YAxisTitleSize")||this.Get("YAxisTitleSize")===""?aC:this.Get("YAxisTitleSize")+"pt";var a2=z.call(this,this.Get("YAxisTitleColor"));var aN=!this.Get("YAxisTitleStyle")||this.Get("YAxisTitleStyle")===""||this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Bold"?"bold":"initial";var X=!this.Get("YAxisTitleStyle")===false&&this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Italic"?"italic":"initial";var aw=!this.Get("YAxisTitleEffect")||this.Get("YAxisTitleEffect")===""?"":this.Get("YAxisTitleEffect");var J=!this.Get("YAxisLabelFont")||this.Get("YAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("YAxisLabelFont");var aM=!this.Get("YAxisLabelSize")||this.Get("YAxisLabelSize")===""?"10pt":this.Get("YAxisLabelSize")+"pt";var aZ=!this.Get("YAxisLabelColor")||this.Get("YAxisLabelColor")===""?z.call(this,"102 102 102"):z.call(this,this.Get("YAxisLabelColor"));var ai=!this.Get("YAxisLabelStyle")===false&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Bold"?"bold":"initial";var S=!this.Get("YAxisLabelStyle")===false&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Italic"?"italic":"initial";var Z=!this.Get("YAxisLabelEffect")||this.Get("YAxisLabelEffect")===""?"":this.Get("YAxisLabelEffect");var H=!this.Get("YAxisMaximum")||this.Get("YAxisMaximum")===""?null:parseInt(this.Get("YAxisMaximum"));var aR=!this.Get("YAxisMinimum")||this.Get("YAxisMinimum")===""?null:parseInt(this.Get("YAxisMinimum"));var G=!this.Get("YAxisNumDivisions")||this.Get("YAxisNumDivisions")===""?this.Get("YAxisNumDivisions"):parseInt(this.Get("YAxisNumDivisions"));var aD=!this.Get("ZAxisBarColours")||this.Get("ZAxisBarColours")===""?this.Get("ZAxisBarColours"):l.call(this,this.Get("ZAxisBarColours"));var W=this.Get("ZAxisDisplayFormat");var M=this.Get("ZAxisShowLegend");var af=this.Get("ZAxisSort");var ak=r?this.Get("XAxisTitle"):this.Get("ZAxisTitle");var ao=z.call(this,this.Get("ZAxisTitleColor"));var av=this.Get("ZAxisVerticalText");var L=!aY===false&&aY.length>0&&aY[0].label!==""?true:false;var aO=!this.Get("LegendFont")||this.Get("LegendFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("LegendFont");var aW=!this.Get("LegendFontSize")||this.Get("LegendFontSize")===""?"10pt":this.Get("LegendFontSize")+"pt";var V=!this.Get("LegendFontStyle")===false&&this.Get("LegendFontStyle")==="Bold"||this.Get("LegendFontStyle")==="BoldItalic"?"bold":"initial";var aX=!this.Get("LegendFontStyle")===false&&this.Get("LegendFontStyle")==="Italic"||this.Get("LegendFontStyle")==="BoldItalic"?"italic":"initial";var E=!this.Get("LegendFontEffect")===false?this.Get("LegendFontEffect"):"";var aI=!this.Get("LegendTextColor")||this.Get("LegendTextColor")===""?z.call(this,"102 102 102"):z.call(this,this.Get("LegendTextColor"));var ax=this.Get("Type");var Y=false;var an=135;var aU=1;var aG;var ay;var F=20;var aH=40;var ae=120;var K=(aT-(ac.length*aH+aY.length*F)-150)/(ac.length*aY.length);if(K<=ae){ae=K;F=F/5;aH=aH/5;if(K<0){K=2;ae=2;F=1;aH=1}}if(ac.length>8&&at===0){SiebelApp.S_App.GetDirection()?at=90:at=45}var aj=(ae*3)/5;$.jqplot.config.enablePlugins=true;var aS=ac;C=false;if(this.Get("Function")==="Sum"||this.Get("Function")==="Average"){C=true
}if(ax.search("3d")!=-1){Y=true;$.jqplot.postDrawSeriesHooks.push(w);if($.isArray(ac)&&$.isArray(aY)&&ac.length>1&&aY.length>1){$.jqplot.postDrawSeriesHooks.push(o)}$.jqplot.postDrawSeriesHooks.push(c);$.jqplot.preDrawSeriesHooks.push(s);$.jqplot.postDrawHooks.push(x);$.jqplot.preDrawHooks.push(i);$.jqplot.postDrawHooks.push(t);aG=Math.cos(an*Math.PI/180)*aU*aj;ay=Math.sin(an*Math.PI/180)*aU*aj;aG=Math.abs(aG);ay=Math.abs(ay)}else{if(ax.search("2d")!=-1){if($.isArray(ac)&&$.isArray(aY)&&ac.length>1&&aY.length>1){$.jqplot.postDrawSeriesHooks.push(o)}}}$.jqplot.postDrawHooks.push(g);$.jqplot.postDrawHooks.push(f);$.jqplot.postDrawHooks.push(u);$.jqplot.addLegendRowHooks.push(v);if(SiebelApp.S_App.GetDirection()){$.jqplot.preInitHooks.push(q);$.jqplot.preDrawLegendHooks.push(j);$.jqplot.addLegendRowHooks.push(p);$.jqplot.postInitHooks.push(B);$.jqplot.postInitHooks.push(A)}if(P.width()!==parseInt(aT)&&P.height()!==parseInt(U)){var ab=parseInt(aT)/parseInt(P.width());aC=parseInt(aC.replace("pt",""))/parseInt(ab)+"pt";aF=parseInt(aF.replace("pt",""))/parseInt(ab)+"pt";ap=parseInt(ap.replace("pt",""))/parseInt(ab)+"pt";a1=parseInt(a1.replace("pt",""))/parseInt(ab)+"pt";aM=parseInt(aM.replace("pt",""))/parseInt(ab)+"pt";aW=parseInt(aW.replace("pt",""))/parseInt(ab)+"pt"}y=$.jqplot(I,O,{title:{text:R,show:true,fontSize:aC,fontFamily:aL,fontWeight:T,fontStyle:aB,fontEffect:a3,textColor:ad},seriesColors:aD,seriesDefaults:{renderer:$.jqplot.BarRenderer,fillAndStroke:true,fillToZero:true,useNegativeColors:false,fill:true,rendererOptions:{varyBarColor:!L,barWidth:ae,barPadding:F,barMargin:aH,shadow:Y,shadowDepth:aj,shadowOffset:aU,shadowWidth:1,shadowAngle:an,shadowAlpha:1,fillAndStroke:true,fill:true}},grid:{drawGridLines:false,shadow:Y,shadowAngle:an,shadowOffset:aU,shadowWidth:1,shadowDepth:aj,shadowAlpha:1},series:aY,legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",show:L,location:"sw",placement:"inside",showSwatches:true,fontFamily:aO,fontSize:aW,textColor:aI,fontStyle:aX,fontEffect:E,fontWeight:V},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,labelRenderer:$.jqplot.CanvasAxisBIULabelRenderer,renderer:$.jqplot.GridAxisRenderer3D,rendererOptions:{baselineColor:"#000000",drawBaseline:true}},highlighter:{show:false,tooltipAxes:"x"},cursor:{show:true,tooltipLocation:"sw"},axes:{xaxis:{renderer:$.jqplot.CategoryAxisRenderer3D,labelOptions:{fontFamily:a4,fontSize:aF,textColor:au,fontStyle:aP,fontEffect:aJ,fontWeight:a0},pad:1,label:ah,ticks:aS,tickOptions:{showGridline:false,angle:at,fontFamily:aa,fontSize:a1,textColor:aq,fontStyle:aK,fontEffect:ag,fontWeight:aA}},yaxis:{label:aV,labelOptions:{fontFamily:aQ,fontSize:ap,textColor:a2,fontStyle:X,fontEffect:aw,fontWeight:aN},tickOptions:{fontFamily:J,fontSize:aM,textColor:aZ,fontStyle:S,fontEffect:Z,fontWeight:ai},min:aR,max:H,numberTicks:G}}});$.jqplot.postSeriesInitHooks=[];$.jqplot.postDrawSeriesHooks=[];$.jqplot.preDrawSeriesHooks=[];$.jqplot.postDrawHooks=[];$.jqplot.preDrawHooks=[];$.jqplot.postInitHooks=[];$.jqplot.addLegendRowHooks=[];$.jqplot.preInitHooks=[];$.jqplot.preDrawLegendHooks=[];this.BindEvents()}function d(K,E,I){var J=[];for(var F=0;F<E.length;F++){var H=[];J.push(H)}for(var G=0;G<K.length;G++){for(var F=0;F<J.length;F++){J[F].push(I[G][F])}}return J}function e(G){var E=[];for(var F=0;F<G.length;F++){E.push(G[F].label)}return E}function b(E){var F=[];for(var H=0;H<E.length;H++){var G={};G.label=E[H];F.push(G)}return F}function v(F){var E={position:"absolute"};if(this.fontSize){E.fontSize=this.fontSize}if(this.fontFamily){E.fontFamily=this.fontFamily}if(this.fontWeight){E.fontWeight=this.fontWeight}if(this.textColor){E.color=this.textColor}if(this.fontStyle){E.fontStyle=this.fontStyle}if(!this.fontEffect===false&&this.fontEffect.indexOf("Underline")>=0){E["text-decoration"]="underline"}if(!this.fontEffect===false&&this.fontEffect.indexOf("StrikeThrough")>=0){E["text-decoration"]="line-through"}this._elem.css(E)}function u(){if(this.title&&this.title.show){this.title._elem.css("font-weight",this.title.fontWeight);this.title._elem.css("font-style",this.title.fontStyle);if(!this.title.fontEffect===false&&this.title.fontEffect.indexOf("Underline")>=0){this.title._elem.css("text-decoration","underline")}if(!this.title.fontEffect===false&&this.title.fontEffect.indexOf("StrikeThrough")>=0){this.title._elem.css("text-decoration","line-through")}}}function t(){if(!this.eventCanvas===false&&!this.eventCanvas.adjusted){var F=this.series[0].renderer.shadowRenderer;var E=Math.cos(F.angle*Math.PI/180)*F.offset*F.depth;var G=Math.sin(F.angle*Math.PI/180)*F.offset*F.depth;E=Math.abs(E);G=Math.abs(G);this.eventCanvas._ctx.canvas.width=this.eventCanvas._ctx.canvas.width+E;this.eventCanvas._ctx.canvas.height=this.eventCanvas._ctx.canvas.height+G;if(!SiebelApp.S_App.GetDirection()){$(this.eventCanvas._ctx.canvas).css("left",this.eventCanvas._ctx.canvas.offsetLeft-E)}this.eventCanvas.adjusted=true}}function k(F,S,H){if(!y===false&&y.grid.shadowforced===true){var O=y.series[F]._barPoints[S];var G=y.series[F].renderer.shadowRenderer;var T=y.plugins.barRenderer.highlightCanvas._ctx;var N=Math.cos(G.angle*Math.PI/180)*G.offset*G.depth;var E=Math.sin(G.angle*Math.PI/180)*G.offset*G.depth;N=Math.abs(N);E=Math.abs(E);y.series[F].highlightMouseOver=false;if(!y.plugins.barRenderer.highlightCanvas.adjusted){y.plugins.barRenderer.highlightCanvas.adjusted=true;T.canvas.width=T.canvas.width+N;T.canvas.height=T.canvas.height+E;if(y.axes.yaxis.show){$(T.canvas).css("left",T.canvas.offsetLeft-N)}}T.clearRect(0,0,T.canvas.width,T.canvas.height);T.fillStyle=y.series[F].highlightColors[S];N=y.axes.yaxis.show?N:0-N;T.beginPath();if(O.length===4){var R=y.axes.yaxis.show?O[0][0]+N:O[3][0];var Q=y.axes.yaxis.show?O[1][0]+N:O[2][0];var P=y.axes.yaxis.show?O[2][0]+N:O[1][0];var M=y.axes.yaxis.show?O[3][0]+N:O[0][0];var L=y.axes.yaxis.show?O[0][1]:O[3][1];var K=y.axes.yaxis.show?O[1][1]:O[2][1];var J=y.axes.yaxis.show?O[2][1]:O[1][1];var I=y.axes.yaxis.show?O[3][1]:O[0][1];T.moveTo(P,J);T.lineTo(M,I);T.lineTo(M-N,I+E);T.lineTo(P-N,J+E);T.lineTo(P,J);T.fill();if(y.series[F].barWidth>1){T.stroke()}T.moveTo(M-N,I+E);T.lineTo(P-N,J+E);T.lineTo(Q-N,K+E);T.lineTo(R-N,L+E);T.lineTo(M-N,I+E);T.fill();if(y.series[F].barWidth>1){T.stroke()}T.moveTo(P-N,J+E);T.lineTo(Q-N,K+E);T.lineTo(Q,K);T.lineTo(P,J);T.lineTo(P-N,J+E);T.fill();if(y.series[F].barWidth>1){T.stroke()}}T.closePath()}}function w(O,P,K){var I=this.renderer.shadowRenderer;var L=Math.cos(I.angle*Math.PI/180)*I.offset*I.depth;var E=Math.sin(I.angle*Math.PI/180)*I.offset*I.depth;var M=K.axes.yaxis.show?K.axes.yaxis:K.axes.y2axis;var F=true;var J;L=Math.abs(L);E=Math.abs(E);if(K.grid&&!K.gridcomplete){var N=[[K.grid._left,K.grid._top],[K.grid._left,K.grid._bottom],[K.grid._right,K.grid._bottom]];K.gridcomplete=true;var H=K.axes.yaxis.show?K.grid._left:K.grid._right;var G=K.axes.yaxis.show?K.grid._right:K.grid._left;L=K.axes.yaxis.show?L:0-L;K.grid._ctx.save();if(M.borderWidth!==null){K.grid._ctx.lineWidth=M.borderWidth
}if(M.borderColor!==null){K.grid._ctx.strokeStyle=M.borderColor}K.grid._ctx.moveTo(H,K.grid._top);K.grid._ctx.lineTo(H-L,K.grid._top+E);K.grid._ctx.lineTo(H-L,K.grid._bottom+E);K.grid._ctx.lineTo(G-L,K.grid._bottom+E);K.grid._ctx.lineTo(G,K.grid._bottom);K.grid._ctx.stroke();K.grid._ctx.moveTo(H,K.grid._bottom);K.grid._ctx.lineTo(H-L,K.grid._bottom+E);K.grid._ctx.stroke();K.grid._ctx.restore()}if(!K.gridcomplete){K.gridcomplete=true}}function c(U,G,R){var Y=this._barPoints;var H=this.renderer.shadowRenderer;var L=Math.cos(H.angle*Math.PI/180)*H.offset*H.depth;var I=Math.sin(H.angle*Math.PI/180)*H.offset*H.depth;var P=true;var V;var Q=R.axes.yaxis.show?R.axes.yaxis._min:R.axes.y2axis._min;var O=new $.jqplot.ColorGenerator(this.seriesColors);L=Math.abs(L);I=Math.abs(I);if(R.axes.yaxis.show){$(U.canvas).css("left",U.canvas.offsetLeft-L)}U.canvas.height=U.canvas.height+I;U.canvas.width=U.canvas.width+L;U.save();U.lineWidth="1";U.lineJoin=this.renderer.shapeRenderer.lineJoin;U.lineCap=this.renderer.shapeRenderer;U.strokeStyle="#000000";U.fillStyle=this.renderer.shapeRenderer.fillStyle;U.beginPath();L=R.axes.yaxis.show?L:0-L;for(var T=0;T<Y.length;T++){var S=Y[T];if(this.varyBarColor&&!this._stack){U.closePath();U.fillStyle=O.next();U.beginPath()}if(Y[T].length===4&&this._plotData[T][1]!==0){var N=R.axes.yaxis.show?Y[T][0][0]+L:Y[T][3][0];var M=R.axes.yaxis.show?Y[T][1][0]+L:Y[T][2][0];var K=R.axes.yaxis.show?Y[T][2][0]+L:Y[T][1][0];var J=R.axes.yaxis.show?Y[T][3][0]+L:Y[T][0][0];var F=R.axes.yaxis.show?Y[T][0][1]:Y[T][3][1];var E=R.axes.yaxis.show?Y[T][1][1]:Y[T][2][1];var X=R.axes.yaxis.show?Y[T][2][1]:Y[T][1][1];var W=R.axes.yaxis.show?Y[T][3][1]:Y[T][0][1];U.moveTo(J,W);U.lineTo(J-L,W+I);U.lineTo(N-L,F+I);U.lineTo(M-L,E+I);U.lineTo(M,E);U.lineTo(K,X);U.lineTo(J,W);U.fill();if(this.barWidth>1){U.stroke()}U.moveTo(M-L,E+I);U.lineTo(K-L,X+I);V=W+I;V=V<=U.canvas.height?V:U.canvas.height;U.lineTo(J-L,V);V=F+I;V=V<=U.canvas.height?V:U.canvas.height;U.lineTo(N-L,V);if(this.barWidth>1){U.stroke()}U.moveTo(K-L,X+I);U.lineTo(K,X);if(this.barWidth>1){U.stroke()}}}U.closePath();U.restore();O=null}function s(F,E){E.shadow=false}function i(){this.grid.shadow=false;this.grid.shadowforced=true}function f(){if(this._gridPadding!=null&&this._gridPadding.left!=null&&this.legend!=null&&this.legend._elem!=null){var E=$(this.legend._elem).detach();$(this.target).append(E);$(E).addClass("siebui-chart-legend");$(E).css("right","");$(E).css("top",this._gridPadding.top-5);$(E).css("left","")}}function g(){var E=this.axes.yaxis.show?this.axes.yaxis:this.axes.y2axis;if(this.series&&this.series.length>0&&E){var G=Math.cos(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth;var H=Math.sin(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth;var F=E._ticks;this.axes.xaxis._elem.css("bottom",0);if(E.name==="yaxis"){E._elem.css("left",0)}else{if(E.name==="y2axis"){E._elem.css("right",0)}}E._elem.css("top",2);this.axes.xaxis._elem.css("left","");if(this.grid!=null&&this.grid.shadowforced===true){G=Math.abs(G);H=Math.abs(H);E._elem.css("top",H-2);if(E.name==="yaxis"){this.axes.xaxis._elem.css("right",H)}else{if(E.name==="y2axis"){this.axes.xaxis._elem.css("left",H)}}}}}function o(Y,I,U){var J=this.renderer.shadowRenderer;var N=Math.cos(J.angle*Math.PI/180)*J.offset*J.depth;var K=Math.sin(J.angle*Math.PI/180)*J.offset*J.depth;var W=U.axes.yaxis.show?U.axes.yaxis:U.axes.y2axis;var Q=true;var Z;var R=0;var G=U.axes.xaxis;var S=G._ticks.length;var T=0;N=Math.abs(N);K=Math.abs(K);if(U.grid&&!U.shadecomplete){if(this._barPoints.length<2){return}U.grid._ctx.save();U.grid._ctx.fillStyle="#c0c0c0";U.grid._ctx.globalAlpha=0.3;for(var V=S;V>0;V--){var X=G._ticks[V-1];if(X.show===true&&X.showLabel===true){var H=Math.round(G.u2p(X.value))+0.5;if(R===0){R=(Math.abs((Math.round(G.u2p(X.value))+0.5)-(Math.round(G.u2p(G._ticks[V-2].value))+0.5)))*2}H=H-R/2;var P=U.axes.yaxis.show?H+R:H;var O=U.axes.yaxis.show?P-N:P+N;var M=U.axes.yaxis.show?O-R:O+R;var L=U.axes.yaxis.show?P-R:P+R;var F=Y.canvas.height+U._gridPadding.top;var E=F+K;var ab=E;var aa=F;if(T%2===0){U.grid._ctx.beginPath();U.grid._ctx.fillRect(H,U._gridPadding.top,R,Y.canvas.height);U.grid._ctx.closePath();if(U.grid!=null&&U.grid.shadowforced===true){U.grid._ctx.beginPath();U.grid._ctx.moveTo(P,F);U.grid._ctx.lineTo(O,E);U.grid._ctx.lineTo(M,ab);U.grid._ctx.lineTo(L,aa);U.grid._ctx.fill();U.grid._ctx.closePath()}}T++}}U.grid._ctx.restore()}if(!U.shadecomplete){U.shadecomplete=true}}function x(){var F=this.axes.yaxis.show?this.axes.yaxis:this.axes.y2axis;if(this.series&&this.series.length>0&&this.axes&&F&&this.grid&&this.grid._ctx){var I=Math.cos(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth;var K=Math.sin(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth;var H=F._ticks;var G=this.axes.yaxis.show?this.grid._left:this.grid._right;I=Math.abs(I);K=Math.abs(K);I=this.axes.yaxis.show?I:0-I;this.grid._ctx.save();this.grid._ctx.beginPath();if(this.grid.gridLineWidth!==null){this.grid._ctx.lineWidth=this.grid.gridLineWidth}if(this.grid.gridLineColor!==null){this.grid._ctx.strokeStyle=this.grid.gridLineColor}for(var E=H.length;E>0;E--){var J=Math.round(F.u2p(H[E-1].value))+0.5;if(E===H.length||E===1){continue}this.grid._ctx.lineCap="butt";this.grid._ctx.lineJoin="miter";this.grid._ctx.moveTo(G,J);this.grid._ctx.lineTo(G-I,J+K);this.grid._ctx.stroke()}this.grid._ctx.closePath();this.grid._ctx.restore()}}function D(af,G,R,J,W){var M=W.series;var I=W.series[0].renderer.shadowRenderer;var Q=Math.cos(I.angle*Math.PI/180)*I.offset*I.depth;var N=Math.sin(I.angle*Math.PI/180)*I.offset*I.depth;Q=Math.abs(Q);N=Math.abs(N);for(var Y=W.seriesStack.length-1;Y>=0;Y--){var ac=W.seriesStack[Y];var U=M[ac];var L=G.x;var K=G.y;var ae=M[ac].barWidth<2?1:0;var H=2;for(var Z=0;Z<U._barPoints.length;Z++){var ab=U._barPoints[Z];var T=ab[0][0]-ae;var S=ab[1][0]-ae;var P=ab[2][0]+Q+ae;var O=ab[3][0]+Q+ae;var F=ab[0][1]+N-H;var E=ab[1][1]+H;var ai=ab[2][1]+H;var ah=ab[3][1]+N-H;if(L>T&&L<P&&K>ai&&K<F){var ad=W.axes.yaxis.show?(L-T)*Math.abs(Math.tan(I.angle*Math.PI/180))+(F-E-N):(O-L)*Math.abs(Math.tan(I.angle*Math.PI/180))+(ah-ai-N);var ag=F-K;var X=W.axes.yaxis.show?(F-K)*Math.abs(Math.tan(I.angle*Math.PI/180))+(O-Q):L+1;var V=W.axes.yaxis.show?0:(T+Q)-((F-K)*Math.abs(Math.tan(I.angle*Math.PI/180)));var aa=L;if(ag<ad&&aa<X&&aa>V||(ae===1&&U.data[Z]!==0)){return[U.index,Z,U.data[Z],true]}}}}}function B(H,G,F){var E=this.axes.yaxis;this.axes.yaxis=this.axes.y2axis;this.axes.y2axis=E;this.axes.yaxis.name="yaxis";this.axes.y2axis.name="y2axis"}function A(I,H,F){if($.isArray(this.seriesStack)&&$.isArray(this.previousSeriesStack)&&this.seriesStack.length===this.previousSeriesStack.length){for(var G=0;G<(this.seriesStack.length-1)/2;G++){var E=this.seriesStack[G];this.seriesStack[G]=this.seriesStack[this.seriesStack.length-G-1];
this.seriesStack[this.seriesStack.length-G-1]=E;E=this.previousSeriesStack[G];this.previousSeriesStack[G]=this.previousSeriesStack[this.previousSeriesStack.length-G-1];this.previousSeriesStack[this.previousSeriesStack.length-G-1]=E}}}function j(F){if(this.show===true&&$.isArray(this._series)){for(var E=0;E<this._series.length;E++){this._series[E]._stack=true}}}function p(E){if(E._stack===true){E._stack=false}}function q(K,J,G){if(!G===false&&$.isArray(G.seriesColors)){var I=G.seriesColors.length>G.series.length?G.series.length:G.seriesColors.length;if(G.series.length===1&&G.series[0].label===""){I=G.seriesColors.length>J[0].length?J[0].length:G.seriesColors.length}var F=0;var E;for(var H=0;H<I/2;H++){F=I-1-H;E=G.seriesColors[H];G.seriesColors[H]=G.seriesColors[F];G.seriesColors[F]=E}}else{if(!G===false&&$.isArray(this.seriesColors)){var I=this.seriesColors.length>G.series.length?G.series.length:this.seriesColors.length;if(G.series.length===1&&G.series[0].label===""){I=this.seriesColors.length>J[0].length?J[0].length:this.seriesColors.length}var F=0;var E;G.seriesColors=[];for(var H=0;H<I;H++){F=I-1-H;G.seriesColors[H]=this.seriesColors[F]}}}}function z(E){var F=[];F=E.split(" ");return"#"+n(F[0])+n(F[1])+n(F[2])}function l(G){var F=[];var E=[];F=G.split(",");for(var H=0;H<F.length;H++){var I=[];I=F[H].split(" ");E.push("#"+n(I[0])+n(I[1])+n(I[2]))}return E}function n(F){var E=parseInt(F).toString(16);return E.length==1?"0"+E:E}$.jqplot.CanvasAxisBIULabelRenderer=function(E){$.extend(true,this,new $.jqplot.CanvasAxisLabelRenderer(E));if(this.fontStyle==="italic"){this._textRenderer.fontStyle="italic"}$.jqplot.CanvasAxisBIULabelRenderer.prototype.draw=this.draw;$.jqplot.CanvasAxisBIULabelRenderer.prototype.pack=this.pack;this.draw=function(F,G){if(this._textRenderer.fontWeight==="bold"){this._textRenderer.fontSize="bold "+this._textRenderer.fontSize}if(this._textRenderer.fontStyle==="italic"){this._textRenderer.fontSize="italic "+this._textRenderer.fontSize}return $.jqplot.CanvasAxisBIULabelRenderer.prototype.draw.call(this,F,G)};this.pack=function(){$.jqplot.CanvasAxisBIULabelRenderer.prototype.pack.call(this);if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline"||this.fontEffect==="StrikeThrough"){var H=this._elem.get(0).getContext("2d");var G=this._textRenderer.angle===0?0:this._elem.width()/2;var F=this._textRenderer.angle===0?this._elem.height()/2:0;var J=this._textRenderer.angle===0?this._elem.width():this._elem.width()/2;var I=this._textRenderer.angle===0?this._elem.height()/2:this._elem.height();H.save();if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline"){if(this.fontEffect==="StrikeThroughUnderline"){H.beginPath();H.strokeStyle=this._textRenderer.fillStyle;H.moveTo(G,F);H.lineTo(J,I);H.stroke();H.closePath()}G=this._textRenderer.angle===0?0:this._elem.width()-1;F=this._textRenderer.angle===0?this._elem.height()-1:0;J=this._textRenderer.angle===0?this._elem.width():this._elem.width()-1;I=this._textRenderer.angle===0?this._elem.height()-1:this._elem.height()}H.beginPath();H.strokeStyle=this._textRenderer.fillStyle;H.moveTo(G,F);H.lineTo(J,I);H.stroke();H.closePath();H.restore()}}};$.jqplot.CanvasAxisBIUTickRenderer=function(E){$.extend(true,this,new $.jqplot.CanvasAxisTickRenderer(E));if(this.fontStyle==="italic"){this._textRenderer.fontStyle="italic"}$.jqplot.CanvasAxisBIUTickRenderer.prototype.draw=this.draw;$.jqplot.CanvasAxisBIUTickRenderer.prototype.pack=this.pack;this.draw=function(F,G){if(this._textRenderer.fontWeight==="bold"){this._textRenderer.fontSize="bold "+this._textRenderer.fontSize}if(this._textRenderer.fontStyle==="italic"){this._textRenderer.fontSize="italic "+this._textRenderer.fontSize}return $.jqplot.CanvasAxisBIUTickRenderer.prototype.draw.call(this,F,G)};this.pack=function(){if(this.angle===45){var L=this.getWidth()/2;var G=-this._textRenderer.height*Math.sin(this._textRenderer.angle)/2;var F=this._elem.css("left").replace("px","");if(this.labelPosition==="auto"||this.labelPosition==="start"){F=parseInt(F)+this.getWidth()/2;if(this._elem.prev(".jqplot-xaxis-tick").length>0){var N=this._elem.prev(".jqplot-xaxis-tick").css("left").replace("px","");if(this._elem.prev(".jqplot-xaxis-tick").prev(".jqplot-xaxis-tick").length===0){var H=this._elem.prev(".jqplot-xaxis-tick").css("left").replace("px","");F=F-Math.abs((parseInt(F)-parseInt(N)))/2;H=parseInt(H)-(parseInt(F)-parseInt(N));H=H+"px";this._elem.prev(".jqplot-xaxis-tick").css("left",H)}else{F=F-Math.abs((parseInt(F)-parseInt(N)))/3}}}else{if(this.labelPosition==="middle"){F=parseInt(F)+this.getWidth()/2}}F=F+"px";this._elem.css("left",F)}$.jqplot.CanvasAxisBIUTickRenderer.prototype.pack.call(this);if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline"||this.fontEffect==="StrikeThrough"){var O=this._elem.get(0).getContext("2d");var M=this._textRenderer.angle===0?0:this._elem.width()/2;var J=this._textRenderer.angle===0?this._elem.height()/2:0;var K=this._textRenderer.angle===0?this._elem.width():this._elem.width()/2;var I=this._textRenderer.angle===0?this._elem.height()/2:this._elem.height();if(this.angle===45){M=this._textRenderer.height/2*Math.cos(this._textRenderer.angle);J=1.5*this._textRenderer.height/2*Math.sin(this._textRenderer.angle);K=this._elem.width()-(this._textRenderer.height/2*Math.cos(this._textRenderer.angle));I=this._elem.height()-(this._textRenderer.height/(2*1.5)*Math.sin(this._textRenderer.angle))}else{if(this.angle===135){M=this._elem.width()-(this._textRenderer.height/2*Math.abs(Math.cos(this._textRenderer.angle)));J=1.5*this._textRenderer.height/2*Math.abs(Math.sin(this._textRenderer.angle));K=this._textRenderer.height/2*Math.abs(Math.cos(this._textRenderer.angle));I=this._elem.height()-(this._textRenderer.height/(2*1.5)*Math.abs(Math.sin(this._textRenderer.angle)))}}O.save();if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline"){if(this.fontEffect==="StrikeThroughUnderline"){O.beginPath();O.strokeStyle=this._textRenderer.fillStyle;O.moveTo(M,J);O.lineTo(K,I);O.stroke();O.closePath()}M=0;J=this._textRenderer.angle===0?this._elem.height()-1:0;K=this._textRenderer.angle===0?this._elem.width():0;I=this._textRenderer.angle===0?this._elem.height()-1:this._elem.height();if(this.angle===45){M=0-this._textRenderer.height*Math.sin(this._textRenderer.angle);J=0;K=this._elem.width()-this._textRenderer.height*Math.sin(this._textRenderer.angle);I=this._elem.height()}else{if(this.angle===135){M=this._elem.width()-this._textRenderer.height*Math.sin(this._textRenderer.angle);J=0;K=0;I=this._elem.height()-this._textRenderer.height*Math.sin(this._textRenderer.angle)}}}O.beginPath();O.strokeStyle=this._textRenderer.fillStyle;O.moveTo(M,J);O.lineTo(K,I);O.stroke();O.closePath();O.restore()}}};$.jqplot.CategoryAxisRenderer3D=function(E){this.baserenderer=new $.jqplot.CategoryAxisRenderer()};$.jqplot.CategoryAxisRenderer3D.prototype.init=function(E){this.renderer.baserenderer.init.call(this,E)};$.jqplot.CategoryAxisRenderer3D.prototype.createTicks=function(){this.renderer.baserenderer.createTicks.call(this)
};$.jqplot.CategoryAxisRenderer3D.prototype.draw=function(N,J){if(J.axes.yaxis!==false&&J.axes.yaxis.show===true){J.target.append(J.axes.yaxis.draw(N,J));J.axes.yaxis.Initialized=true}else{if(J.axes.y2axis!==false&&J.axes.y2axis.show===true){J.target.append(J.axes.y2axis.draw(N,J));J.axes.y2axis.Initialized=true}}var L=this.renderer.baserenderer.draw.call(this,N,J);if(this.show&&J.series&&J.series.length>0&&J.series[0].renderer){var I=J.series[0].renderer.shadowRenderer;var K=Math.cos(I.angle*Math.PI/180)*I.offset*I.depth;var E=Math.sin(I.angle*Math.PI/180)*I.offset*I.depth;var M=0;var H=0;K=Math.abs(K);E=Math.abs(E);if(J.grid!=null&&J.grid.shadowforced!=true){K=0;E=0}for(var F=0;F<this._ticks.length;F++){var G=this._ticks[F];if(G.show&&G.showLabel){if(this.name=="xaxis"||this.name=="x2axis"){M=G._elem.context.height}if(M>H){H=M}}}if(this.name=="xaxis"||this.name=="x2axis"){J._gridPadding.bottom=E+H+10;if(this._label&&this._label._elem){J._gridPadding.bottom+=this._label._elem.context.height}this.yshadowoffset=E;if(J.title!=null&&J.title._elem!=null){J._gridPadding.top=J.title._elem.context.clientHeight+10}}}return L};$.jqplot.CategoryAxisRenderer3D.prototype.set=function(){this.renderer.baserenderer.set.call(this)};$.jqplot.CategoryAxisRenderer3D.prototype.pack=function(G,F){if(this.show&&this.name==="xaxis"&&SiebelApp.S_App.GetDirection()){for(var E=0;E<this._ticks.length;E++){if(!this._ticks[E]._elem===false){this._ticks[E]._elem.attr("dir","ltr")}}if(this._label.show&&SiebelApp.S_App.GetDirection()){this._label._elem.attr("dir","ltr")}}this.renderer.baserenderer.pack.call(this,G,F)};$.jqplot.GridAxisRenderer3D=function(){this.baserenderer=new $.jqplot.LinearAxisRenderer()};$.jqplot.GridAxisRenderer3D.prototype.init=function(E){var F=(this.show)?true:false;this.renderer.baserenderer.init.call(this,E);if(F&&this._dataBounds!=null&&this._dataBounds.min>=0){this.padMin=1;this.forceTickAt0=true}};$.jqplot.GridAxisRenderer3D.prototype.draw=function(S,N){if(this.show===true&&(this.name==="yaxis"||this.name==="y2axis")&&this.Initialized===true){return this._elem}var P=this.renderer.baserenderer.draw.call(this,S,N);if(this.show&&N.series&&N.series.length>0&&N.series[0].renderer){var M=N.series[0].renderer.shadowRenderer;var O=Math.cos(M.angle*Math.PI/180)*M.offset*M.depth;var E=Math.sin(M.angle*Math.PI/180)*M.offset*M.depth;var R=0;var L=0;var Q=N.options.axes.xaxis;var J=N.options.series;var H=2;var G=4;O=Math.abs(O);E=Math.abs(E);for(var I=0;I<this._ticks.length;I++){var K=this._ticks[I];if(!K._breakTick&&K.show&&K.showLabel&&(!K.isMinorTick||this.showMinorTicks)){if(this.name=="xaxis"||this.name=="x2axis"){R=K._elem.context.height}else{R=K._elem.context.width}if(R>L){L=R}}}if(N.grid!=null&&N.grid.shadowforced!=true){O=0;E=0}for(var I=0;I<N.series.length;I++){if(this.show===true&&(this.name=="yaxis"||this.name=="y2axis")){H=2;G=4;N.series[I].barWidth=(N._width-(Q.ticks.length*H+J.length*G)-(L+this._label._elem.context.width+10))/((Q.ticks.length*J.length)+(3/5));if(N.grid!=null&&N.grid.shadowforced===true){var F=Math.abs(Math.cos(M.angle*Math.PI/180)*M.offset*(N.series[I].barWidth*3/5));N.series[I].barWidth=N.series[I].barWidth-G-(F/J.length)}else{N.series[I].barWidth=N.series[I].barWidth-G}if(N.series[I].barWidth<2){if(N.series[I].barWidth<0){H=0;G=0;N.series[I].barWidth=1}else{H=0;G=1;N.series[I].barWidth=(N._width-(Q.ticks.length*H+J.length*G)-(L+this._label._elem.context.width+10))/((Q.ticks.length*J.length)+(3/5));N.series[I].barWidth=N.series[I].barWidth-G;if(N.series[I].barWidth<0){H=0;G=0;N.series[I].barWidth=1}}}if(N.grid!=null&&N.grid.shadowforced===true){N.series[I].renderer.shadowRenderer.depth=(N.series[I].barWidth*3)/5;N.series[I].shadowDepth=(N.series[I].barWidth*3)/5}if(N.series[I].barWidth>=120){N.series[I].barWidth=120;if(N.grid!=null&&N.grid.shadowforced===true){N.series[I].renderer.shadowRenderer.depth=(N.series[I].barWidth*3)/5;N.series[I].shadowDepth=(N.series[I].barWidth*3)/5}}else{N.series[I].barMargin=H;N.series[I].barPadding=G}}else{break}}if(N.grid!=null&&N.grid.shadowforced===true){O=Math.cos(M.angle*Math.PI/180)*M.offset*M.depth;E=Math.sin(M.angle*Math.PI/180)*M.offset*M.depth;O=Math.abs(O);E=Math.abs(E)}if(this.name=="yaxis"){N._gridPadding.left=O+L+10;if(this._label&&this._label._elem){N._gridPadding.left+=this._label._elem.context.width}this.xshadowoffset=O}else{if(this.name=="y2axis"){N._gridPadding.right=O+L+10;if(this._label&&this._label._elem){N._gridPadding.right+=this._label._elem.context.width}this.xshadowoffset=O}else{if(this.name=="xaxis"||this.name=="x2axis"){N._gridPadding.bottom=E+L+5;if(this._label&&this._label._elem){N._gridPadding.bottom+=this._label._elem.context.height}this.yshadowoffset=E}}}}return P};$.jqplot.GridAxisRenderer3D.prototype.reset=function(){return this.renderer.baserenderer.reset.call(this)};$.jqplot.GridAxisRenderer3D.prototype.set=function(){return this.renderer.baserenderer.set.call(this)};$.jqplot.GridAxisRenderer3D.prototype.createTicks=function(L){if(this.show){if(!this.max===false&&this._dataBounds.max>this.max){this.max=this._dataBounds.max}if(!this.min===false&&this._dataBounds.min>0){for(var J=0;J<L.series.length;J++){L.series[J].fillToZero=false}}if(!this.min===false&&this._dataBounds.min<this.min){this.min=this._dataBounds.min}}var H=this.renderer.baserenderer.createTicks.call(this,L);if(C&&(this.name=="yaxis"||this.name=="y2axis")){var G=SiebelApp.S_App.LocaleObject.GetCurrency(SiebelApp.S_App.LocaleObject.m_sCurrencyCode);var F=G.m_sSymbol;for(var J=0;J<this._ticks.length;J++){var K=new SiebelApp.S_App.DatumIntegerObject();var E=this.siebformat;var I;K.SetAsString(this._ticks[J].value);K.m_sDispCurrSymbol=F;K.m_bNull=false;E=SiebelApp.S_App.LocaleObject.GetProfile(SiebelApp.Constants.get("LOCAL_CURR_FORMAT"));I=K.GetAsFormattedString(E);this._ticks[J].actvalue=this._ticks[J].value;if(I!==""){this._ticks[J].value=I}this._ticks[J].formatString="%s";K=null}G=null}return H};$.jqplot.GridAxisRenderer3D.prototype.resetTickValues=function(E){return this.renderer.baserenderer.resetTickValues.call(this,E)};$.jqplot.GridAxisRenderer3D.prototype.pack=function(G,F){if(this.name==="yaxis"&&!this.xshadowoffset!==true){G.left-=this.xshadowoffset}else{if(this.name==="y2axis"&&!this.xshadowoffset!==true){G.right-=this.xshadowoffset}else{if(!this.yshadowoffset!==true&&this.name==="xaxis"||this.name==="x2axis"){G.bottom-=this.yshadowoffset}}}if(this.show===true&&(C||SiebelApp.S_App.GetDirection())&&(this.name==="yaxis"||this.name==="y2axis")){for(var E=0;E<this._ticks.length;E++){if(C&&(!this._ticks[E].actvalue!==true||this._ticks[E].actvalue==0)){this._ticks[E].value=this._ticks[E].actvalue}if(SiebelApp.S_App.GetDirection()){this._ticks[E]._elem.attr("dir","ltr")}}if(this._label.show&&SiebelApp.S_App.GetDirection()){this._label._elem.attr("dir","ltr")}}this.renderer.baserenderer.pack.call(this,G,F)};return m}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_CHARTCONTROL"),SiebelAppFacade.ChartBuilderPW,function(b){var a=b.GetApplet().GetPModel();
return(a.Get("EnableClientChart")==="TRUE")});return SiebelAppFacade.ChartBuilderPW})}if(typeof(SiebelAppFacade.ChartImagePW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ChartImagePW");define("siebel/ChartImagePW",[],function(){SiebelAppFacade.ChartImagePW=(function(){function a(){SiebelAppFacade.ChartImagePW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(a,SiebelAppFacade.FieldPW);a.prototype.SetValue=function(d,b){var c=this.GetEl();if(!c.parent().hasClass("siebui-charts-container")){c.parent().addClass("siebui-charts-container")}c.html(d||"");if($("html").find(".siebui-funnel-chart").length===2){$($("html").find(".siebui-funnel-chart")[1]).hide()}else{if($("html").find(".siebui-funnel-chart:visible").length===1){$("html").find(".siebui-funnel-chart:visible").hide()}}};return a}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_CHARTCONTROL"),SiebelAppFacade.ChartImagePW,function(b){var a=b.GetApplet().GetPModel();return(a.Get("EnableClientChart")!=="TRUE")});return SiebelAppFacade.ChartImagePW})}if(typeof(SiebelAppFacade.ComboButtonPW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ComboButtonPW");define("siebel/combobuttonpw",["siebel/basepw"],function(){var a;SiebelAppFacade.ComboButtonPW=(function(){var c=SiebelJS.Dependency("SiebelApp.Constants");var b=SiebelJS.Dependency("SiebelAppFacade.HTMLTemplateManager");var d="Button";function e(){SiebelAppFacade.ComboButtonPW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(e,SiebelAppFacade.DropDownPW);e.prototype.ShowUI=function(){var s=this.Get("ChartTypeLov");var n=$.parseJSON(s);var o=true;var f=SiebelApp.S_App.IsAutoOn();var h=((f==="true")?' rn="3D_Ctrl" un="3D" ot="Button"':" ");var j;var g;var k="";var t="";var r="";var l=true;var q=this.Get("Type");for(var m=0,p=n.length;m<p;m++){if(q===n[m][1]){l=true}else{l=false}g=b.GenerateMarkup({type:d,id:n[m][1],className:((l===true)?" ":"siebui-chart-icon-shadow ")+this.Get(n[m][1]),value:((this.Get(n[m][1])==="siebui-chart-icon-spline")?n[m][0]:""),attrs:'data-display="'+n[m][0]+'" tabindex="0" title="'+n[m][0]+'" aria-label="'+n[m][0]+'" '+h+((o===true)?" ":'disabled="disabled"')+((l===true)?" chartselected='true'":"")});if(n[m][1].charAt(0)==="2"){k=k+g}else{t=t+g}}r="<div style='display: inline-block;'><span class='mceGridLabel siebui-label mceLabel'>2D:</span>"+k+"</div><div style='display: inline-block;'><span class='mceGridLabel siebui-label mceLabel'>3D:</span>"+t+"</div>";$("#s_ChartPicktype").closest("div:not([id])").filter("div:not([class])").addClass("siebui-charts-scrollbar");$("#s_ChartPicktype").replaceWith(r);SiebelAppFacade.ComboButtonPW.superclass.ShowUI.call(this)};e.prototype.BindEvents=function(k){var l=this.Get("ChartTypeLov");var h=$.parseJSON(l);for(var j=0,g=h.length;j<g;j++){var m="#"+h[j][1];var f=h[j][0];$(m).bind("click",{ctx:this},function(n,i){return function(){i.ExecuteMethod("SetActiveControl",i.control);i.ExecuteMethod("LeaveField",i.control,n,true);if($("html").find("[chartselected='true']").length===1&&!$("html").find("[chartselected='true']").hasClass("siebui-chart-icon-shadow")){$("html").find("[chartselected='true']").addClass("siebui-chart-icon-shadow");$("html").find("[chartselected='true']").removeAttr("chartselected")}$(this).attr("chartselected","true");$(this).removeClass("siebui-chart-icon-shadow");i.OnControlEvent(c.get("PHYEVENT_CONTROL_BLUR"),i.control,n);var p=i.Get("GetControls").Go;var r=p.GetMethodPropSet();var o=r.Clone();var q={};i.OnControlEvent(c.get("PHYEVENT_INVOKE_CONTROL"),p.GetMethodName(),o,q)}}(f,this))}SiebelAppFacade.ComboButtonPW.superclass.BindEvents.call(this)};return e}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_COMBOBOX"),SiebelAppFacade.ComboButtonPW,function(b){a=b.GetApplet().GetPModel();return b&&b.GetMethodName()==="PickChartType"&&a.Get("ShowAsButton")==="TRUE"});return SiebelAppFacade.ComboButtonPW})}if(typeof(SiebelAppFacade.RoutePW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.RoutePW");define("siebel/RoutePW",["siebel/basepw"],function(){SiebelAppFacade.RoutePW=(function(){var c;var o=SiebelJS.Dependency("SiebelApp.Utils"),j=SiebelJS.Dependency("SiebelApp.Constants");var n=window.location.protocol;require([n+"//elocation.oracle.com/elocation/jslib/oracleelocation.js",n+"//elocation.oracle.com/mapviewer/fsmc/jslib/oraclemaps.js"]);function h(){SiebelAppFacade.RoutePW.superclass.constructor.apply(this,arguments);var s;var r;var t;this.SetMapView=function(u){s=u};this.GetMapView=function(){return s};this.SetContainerId=function(u){r=u};this.GetContainerId=function(){return r};this.SetDestAddressField=function(u){t=u};this.GetDestAddressField=function(){return t}}SiebelJS.Extend(h,SiebelAppFacade.FieldPW);function l(t){var s=n+"//elocation.oracle.com/mapviewer";var r=this;if(typeof(window.MVMapView)==="undefined"){SiebelJS.Log("Unable to load the Oracle Spatial Map APIs. Please revisit the view");return false}r.SetMapView(new MVMapView(document.getElementById(t),s));r.GetMapView().addBaseMapLayer(new MVBaseMap("elocation_mercator.world_map"),q(this));return true}function q(){var r=20;var t=0;var v=1;var s=arguments[0];if(!s){s=this}var u=MVSdoGeometry.createPoint(t,r,8307);s.GetMapView().setCenter(u);s.GetMapView().setZoomLevel(v);s.GetMapView().addNavigationPanel("EAST");s.GetMapView().setLoadingIconVisible()}function f(t){var r=/^\s*lon lat:\s*-?((\d\d*\.\d*)|(\d\d*)|(\.\d\d*))\s*-?((\d\d*\.\d*)|(\d\d*)|(\.\d\d*))\s*$/;if(t&&r.test(t)){var s=t.indexOf("lon lat:");t=t.substr(s+"lon/lat:".length).replace(/^\s+|\s+$/,"");s=t.indexOf(" ");return{lon:t.substr(0,s),lat:t.substr(s)}}else{return t}}function m(s,r){}function b(r){if(r){return r.replace("'","\\'")}else{return r}}function a(t,s){var u="<font class=OraHeaderSubSub>";u+=(t.streetLine&&t.streetLine!="null"&&t.streetLine.length>0)?(t.streetLine+"<BR>"+t.localityLine):t.localityLine;if(t.country!=undefined&&t.country!="undefined"){u+=", "+t.country}var r=b(((t.streetLine&&t.streetLine!="null"&&t.streetLine.length>0)?(t.streetLine+", "+t.localityLine):t.localityLine)+", "+t.country);u+="</font>";return u}function d(u){var t=this;var r=t.GetContainerId();var y=$("#"+r+"_dialog");var w=$("#"+r+"_status");y.dialog("open");w.html(" ");if(!l.call(t,r)){return}if(navigator.geolocation){navigator.geolocation.getCurrentPosition(x,v,{timeout:30000})}else{var s=t.GetContainerId()+"_status";w.html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_LOCATION_SERVICE_ERROR"));e.call(t,u)}function v(A){var z=t.GetContainerId()+"_status";w.html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_LOCATION_SERVICE_ERROR"));e.call(t,u)}function x(z){i.call(t,z,u)}}function p(s){var r=s.geom;if(s.accuracy<3){this.GetMapView().setCenterAndZoomLevel(r,10)}else{if(s.accuracy==3){this.GetMapView().setCenterAndZoomLevel(r,7)}else{if(s.accuracy==4){this.GetMapView().setCenterAndZoomLevel(r,6)}else{if(s.accuracy==5){this.GetMapView().setCenterAndZoomLevel(r,5)}else{this.GetMapView().setCenterAndZoomLevel(r,4)
}}}}}function e(s){var r=this;q.call(this);this.GetMapView().display();c.geocode(s,function(w,v){if(w.length==0){SiebelJS.Log("No address is found! "+v)}else{if(w.length==1){var y=w[0];if(y.accuracy<1){SiebelJS.Log("No address is found! "+v)}else{var u="<span class='"+j.get("DEFAULT_SELECTED_MAP_ROW_IMAGE")+"' />";var t=MVSdoGeometry.createPoint(y.x,y.y,8307);var x=MVFOI.createHTMLFOI("1",t,u);r.GetMapView().addFOI(x);p.call(r,x)}}else{SiebelJS.Log("Multiple addresses are found! "+v)}}})}function i(t,v){var s=this;q.call(s);this.GetMapView().display();var r=[];var u=[];t.lon=t.coords.longitude;t.lat=t.coords.latitude;r[0]=t;r[1]=f.call(s,v);k.call(s,r)}function k(u){var s=this;var r=new Array();r[0]=u;var t="#CC00CC";var w=s.GetContainerId()+"_status";c.getDirections(r,m,function v(z,C,B,A,y,x){switch(z){case OracleELocation.ERROR_GEOCODE_FAILED:$("#"+w).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_GEOCODE_FAILED"));break;case OracleELocation.ERROR_ROUTE_ADDR_INVALID:$("#"+w).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_ROUTE_ADDR_INVALID"));break;case OracleELocation.ERROR_ROUTE_FAILED:$("#"+w).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_ROUTE_FAILED"));break;case OracleELocation.ERROR_ROUTE_NOT_FOUND:$("#"+w).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_ROUTE_NOT_FOUND"));break;default:}},{ignoreGeocodeErrorsForBatchRequests:false},{mapview:s.GetMapView(),zoomToFit:true,removePreviousRoutes:true,drawMarkers:true,getMarkerInfoStr:a,routeStyles:[[{render_style:{color:t,opacity:127,width:5},typeName:"Customer",label:"{time}. {distance}."}]]})}h.prototype.Init=function(){var s=this;var v=this.Get("GetFullId");this.SetContainerId(("RouteMap_"+v));var w=s.control.GetPMPropSet();if(w&&w.GetProperty("MapDestAddress")){s.SetDestAddressField(w.GetProperty("MapDestAddress"))}var t,u=$("#"+v),r=this.GetContainerId();u.append("<div class='siebui-map' id='"+r+"_dialog'> <div style='width: 100%; height: 95%' id='"+r+"' >  </div><div id='"+r+"_status' ></div> </div> ");t=$("#"+r+"_dialog");t.dialog({modal:true,autoOpen:false,appendTo:"#s_"+s.Get("GetFullId")+"_div",title:s.control.GetDisplayName,height:500,width:800,close:function(){$(this).hide();s.EndLife()}})};h.prototype.ShowUI=function(){var v=j.get("SWE_CTRL_LINK");var z=this;var r=this.GetEl(),u=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName()),w=this.Get("GetAppletLabel"),x=u?this.control.GetEnabledBmp():this.control.GetDisabledBmp(),s=this.Get("GridFormContent")?this.control.GetSeq():"0",y=this.control.GetDisplayName();if(w!==""){w+=":"}if(r){var t=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:v,id:this.control.GetInputName(),className:" siebui-icon-"+(this.control.GetMethodName()||"").toLowerCase(),attrs:'name="'+this.control.GetInputName()+'" data-display="'+y+'" tabindex="'+s+'" title="'+w+y+'" aria-label="'+w+y+'" '+((u===true)?" ":'disabled="disabled"')});r.replaceWith(t);this.InjectQTPInfo(this.GetEl())}};h.prototype.BeginQuery=function(){var r=this.GetEl();if(r){r.hide()}};h.prototype.EndQuery=function(){var r=this.GetEl();if(r){r.show()}};h.prototype.SetState=function(x,r,s){var w=this.GetEl(s);if(w){if(this.Get("IsInQueryMode")){w.hide();return}var y=this.GetDestAddressField();if(!o.IsEmpty(y)){var t=this.Get("GetRawRecordSet");if(t.length==0){w.hide();return}var v=this.Get("GetSelection");if(v<0){w.hide();return}var u=t[v][y];if(!o.IsEmpty(u)){w.show()}else{w.hide()}}else{w.hide()}}};h.prototype.BindEvents=function(){var s=this.GetEl(),r=this.Helper("EventHelper");if(s){r.Manage(s,"click",{ctx:this},g)}};function g(r){var s=r.data.ctx,u=$(this);if(s.Get("IsInQueryMode")){return}if((u.prop("tagName")||"").toLowerCase()==="a"&&!u.is(":disabled")){var x=s.GetDestAddressField();if(!o.IsEmpty(x)){var t=s.Get("GetRawRecordSet");var w=s.Get("GetSelection");if(w<0){return}var v=t[w][x];if(!c){c=new OracleELocation(n+"//elocation.oracle.com/elocation")}d.call(s,v)}SiebelApp.S_App.uiStatus.Free();r.preventDefault()}u=null}h.prototype.EndLife=function(){delete this.GetMapView();delete c};return h}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_PST_BUTTON_CTRL"),SiebelAppFacade.RoutePW,function(a){return a&&a.GetMethodName()==="ShowRoute"});return SiebelAppFacade.RoutePW})}if(typeof(SiebelAppFacade.JSTreePW)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JSTreePW");define("siebel/jstreepw",["siebel/basepw","3rdParty/jstree/jquery.jstree.js"],function(){SiebelAppFacade.JSTreePW=(function(){var a=SiebelJS.Dependency("SiebelApp.Constants");function b(){SiebelAppFacade.JSTreePW.superclass.constructor.apply(this,arguments)}SiebelJS.Extend(b,SiebelAppFacade.PlainTextPW);b.prototype.SetValue=function(e,g){var d=this.GetEl(g),f=$.parseJSON(e),c=SiebelApp.S_App.GetDirection();$(d).jstree("destroy");$(d).jstree({core:{data:[f],rtl:(c?true:false),themes:{url:true,dir:SIEBEL_BUILD+"3rdParty/jstree/themes",name:"default",icons:false,dots:false},check_callback:true},plugins:["ui","themes","html_data","hotkeys","crrm"]})};return b}());SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_PLAINTEXT"),SiebelAppFacade.JSTreePW,function(a){return a&&a.GetUIType()==="PlainText"&&a.GetHTMLAttr()==="JSTree"});return SiebelAppFacade.JSTreePW})};