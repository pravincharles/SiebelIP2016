/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2014
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET13 */
if(typeof(SiebelAppFacade.ConfiguratorRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ConfiguratorRenderer");SiebelAppFacade.ConfiguratorRenderer=(function(){var utils=SiebelJS.Dependency("SiebelApp.Utils");var _pipe="[~^`";var _underscore="`^~[";var _cfgImageMapping={Conflict:{src:"images/icon_configure_conflict.gif"},Customize:{src:"images/icon_configure.gif"},Delete:{src:"images/icon_end_process.gif"},EditField:{src:"images/icon_pick.gif"},Explanation:{src:"images/icon_explain.gif"},BlackBullet:{src:"images/bullet_black.gif"},GreenBullet:{src:"images/bullet_green.gif"},InvisibleSpacer:{src:"images/eCfgInvisibleSpacer.gif"},NewHeader:{src:"images/hm_pg_subscribe.gif"},Required:{src:"images/icon_configure_requiredcat.gif"},ShowLess:{src:"images/btn_less.gif"},ShowMore:{src:"images/btn_more.gif"},Collapse:{src:"images/icon_sort_up.gif"},Expand:{src:"images/icon_sort_down.gif"},WhiteSpace:{}};function ConfiguratorRenderer(pm){SiebelAppFacade.ConfiguratorRenderer.superclass.constructor.call(this,pm)}SiebelJS.Extend(ConfiguratorRenderer,SiebelAppFacade.PhysicalRenderer);ConfiguratorRenderer.prototype.Init=function(){SiebelAppFacade.ConfiguratorRenderer.superclass.Init.call(this);var pmObj=this.GetPM();pmObj.AttachPMBinding("NewHeaderImage",_NewHeaderImage,{scope:this});pmObj.AttachPMBinding("RefreshSpanInnerHTML",_RefreshSpanInnerHTML,{scope:this});pmObj.AttachPMBinding("ShowConflict",_ShowConflict,{scope:this});pmObj.AttachPMBinding("ShowExplanation",_ShowExplanation,{scope:this});pmObj.AttachPMBinding("ShowMessage",_ShowMessage,{scope:this});pmObj.AttachPMBinding("UpdateCanInvoke",_UpdateCanInvoke,{scope:this});pmObj.AttachPMBinding("UpdateExcludedItems",_UpdateExcludedItems,{scope:this});pmObj.AttachPMBinding("UpdateGenerics",_UpdateGenerics,{scope:this});pmObj.AttachPMBinding("UpdateQuickEdit",_UpdateQuickEdit,{scope:this});pmObj.AttachPMBinding("UpdateResources",_UpdateResources,{scope:this});pmObj.AttachPMBinding("UpdateRootProdInfo",_UpdateRootProdInfo,{scope:this});pmObj.AttachPMBinding("UpdateSelectionInfo",_UpdateSelectionInfo,{scope:this});pmObj.AttachPMBinding("UpdateSelectionInfoForAttribute",_UpdateSelectionInfoForAttribute,{scope:this});pmObj.AttachPMBinding("UpdateSignal",_UpdateSignal,{scope:this});pmObj.AttachPMBinding("CfgUIInfo",_CfgShowUI,{scope:this})};ConfiguratorRenderer.prototype.BindEvents=function(){SiebelAppFacade.ConfiguratorRenderer.superclass.BindEvents.call(this);var evHelper=SiebelApp.S_App.PluginBuilder.GetHoByName("EventHelper");evHelper.Manage($("#CfgMainFrame"),"click",{},(function(){$("#cfgRightContent").slideToggle(500)}),"#siebui-ecfg-toggle-btn")};ConfiguratorRenderer.prototype.ShowUI=function(){SiebelAppFacade.ConfiguratorRenderer.superclass.ShowUI.call(this);var controlPS=this.GetPM().Get("ControlPS");if(controlPS===null){this.GetPM().ExecuteMethod("GetCfgUIInfo")}else{this.CfgShowUI()}};ConfiguratorRenderer.prototype.CfgPreShowUI=function(){_CfgPreShowUI.call(this)};ConfiguratorRenderer.prototype.CfgShowUI=function(){_CfgShowUI.call(this)};ConfiguratorRenderer.prototype.CfgShowControl=function(name,params){var strShowMethod=name+".call( this, "+params+" );";eval(strShowMethod)};ConfiguratorRenderer.prototype.InjectQTPInfo=function(element,id){var controlPS=this.GetPM().Get("ControlPS");var propSet=controlPS.GetChildByType(id);var ot="";var rn="";var un="";if(utils.IsTrue(SiebelApp.S_App.IsAutoOn())!==true){return}var appletElems=element.parents(".siebui-applet");if(typeof(appletElems.attr("rn"))==="undefined"&&appletElems.length>1){for(var i=0;i<appletElems.length;i++){if(typeof(appletElems.eq(i).attr("rn"))!=="undefined"){appletElems.eq(0).attr("rn",appletElems.eq(i).attr("rn"));break}}}if(propSet===null||typeof(propSet)==="undefined"){if(id==="MENUBUTTON"){var elem=element.closest("div");elem.attr("ot","Link");elem.attr("rn",elem.text());elem.attr("un",elem.text());return}if(element.prop("id")==="siebui-ecfg-toggleProdDetails"||element.prop("id")==="CfgMsgToggleBtn"){element.attr("ot","button");element.attr("rn",element.prop("id"));element.attr("un",element.prop("id"));return}if(element.prop("name")==="menuButtonShowMenu"||element.prop("name")==="menuButtonShowSummary"||element.prop("name")==="menuButtonHelp"){element.attr("ot","button");element.attr("rn",element.prop("name"));element.attr("un",element.prop("name"));return}SiebelJS.Log(">>> QTP Cannot Process element"+(element.attr("id")+element.attr("name")));return}if(propSet.GetChildCount()>0){var idInfo;var domainPS=propSet.GetChildByType("Domain");if(typeof(element.attr("id"))==="undefined"){idInfo=getIdInfo(element.parent().prop("id"))}else{idInfo=getIdInfo(element.prop("id"))}switch(propSet.GetProperty("Object Type")){case"Port":if(idInfo.PROD===""){ot=propSet.GetProperty("Type");rn=ot+"_"+domainPS.GetProperty("CxPortName");un=ot+"_"+domainPS.GetProperty("CxPortName")}else{var childPS;childPS=domainPS.GetChildByType(idInfo.PROD);if(childPS===null){return}ot=(element.prop("type")==="")?element.prop("tagName"):element.prop("type");if(ot==="A"){ot="Link"}rn=ot+"_"+childPS.GetProperty("CxPortName")+"_"+childPS.GetProperty("CxObjName")+"_"+idInfo.FIELD;un=ot+"_"+childPS.GetProperty("CxPortName")+"_"+childPS.GetProperty("CxObjName")+"_"+idInfo.FIELD}break;case"Attribute":if(idInfo.ATTVAL===""){ot=propSet.GetProperty("Type");rn=ot+"_Attribute_"+propSet.GetProperty("AttID");un=ot+"_Attribute_"+propSet.GetProperty("AttID")}else{var childPS;childPS=domainPS.GetChildByType(idInfo.ATTVAL);if(childPS===null){return}ot=(element.prop("type")==="")?element.prop("tagName"):element.prop("type");if(ot==="A"){ot="Link"}rn=ot+"_Attribute_"+propSet.GetProperty("AttID")+"_"+childPS.GetProperty("AttValueLIC")+"_"+idInfo.FIELD;un=ot+"_Attribute_"+propSet.GetProperty("AttID")+"_"+childPS.GetProperty("AttValueLIC")+"_"+idInfo.FIELD}break;default:ot=(element.prop("type")==="")?element.prop("tagName"):element.prop("type");if(ot==="A"){ot="Link"}if(ot==="button"){rn=ot+"_"+domainPS.GetProperty("CxPortName")+"_"+element.text();un=ot+"_"+domainPS.GetProperty("CxPortName")+"_"+element.text()}else{if(ot==="select-one"){rn=ot+"_"+domainPS.GetProperty("CxPortName")+"_DOMAINSELECT";un=ot+"_"+domainPS.GetProperty("CxPortName")+"_DOMAINSELECT"}else{if(ot==="text"){rn=ot+"_"+domainPS.GetProperty("CxPortName")+"_DOMAININPUT";un=ot+"_"+domainPS.GetProperty("CxPortName")+"_DOMAININPUT"}}}break}element.attr("ot",ot);element.attr("rn",rn);element.attr("un",un)}else{var type=propSet.GetProperty("Type");switch(type){case"MiniButton":ot=type;rn=type+"_"+propSet.GetProperty("Method");un=element.text();break;case"Link":ot=type;rn=type+"_"+element.text();un=element.text();break;case"TextBox":ot=type;if(propSet.GetProperty("Object Type")==="Attribute"){rn=type+"_"+propSet.GetProperty("AttID");un=type+"_"+propSet.GetProperty("AttID")}break;default:if(id.indexOf("PORTITEM")!=-1){var idInfo;if(typeof(element.attr("id"))==="undefined"){idInfo=getIdInfo(element.parent().prop("id"))}else{idInfo=getIdInfo(element.prop("id"))
}ot=(element.prop("type")==="")?element.prop("tagName"):element.prop("type");rn=ot+"_"+propSet.GetProperty("CxPortName")+"_"+propSet.GetProperty("Name")+"_"+idInfo.FIELD;un=ot+"_"+propSet.GetProperty("CxPortName")+"_"+propSet.GetProperty("Name")+"_"+idInfo.FIELD}break}element.attr("ot",ot);element.attr("rn",rn);element.attr("un",un)}};function CfgBindControlEvents(){}function CfgProcessInputRadioNoneAction(controlPS,type){var controlPS=this.GetPM().Get("ControlPS");var idInfo=null;var objType=null;var prodPropSet=null;var domainPropSet=null;var noneSelected=true;var bGetFirst=true;idInfo=getIdInfo(id);if(idInfo.ATTR!=="undefined"&&idInfo.ATTR!==""){objType="Attribute"}else{if(idInfo.PORT!=="undefined"&&idInfo.PORT!==""){objType="Port"}}if(objType==="Port"){domainPropSet=controlPS.GetChildByType(idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT).GetChildByType("Domain");if(domainPropSet!==null){for(bGetFirst=true;prodPropSet=domainPropSet.EnumChildren(bGetFirst);bGetFirst=false){var path=prodPropSet.GetProperty("Path");if(path!=="undefined"&&path!==null){noneSelected=false}}}}if(objType==="Attribute"){noneSelected=false}if(noneSelected===false){processInput.call(this,id,str,type)}}function addGenerics(resultPropSet,colElement,intId,hasGeneric){var image="";var fieldPropSet=CCFMiscUtil_CreatePropSet();var innerHTML;if(intId===""||typeof(intId)==="undefined"){return}fieldPropSet.DecodeFromString(resultPropSet.GetProperty("FieldList"));var fPS=fieldPropSet.GetChildByType("RequireMoreChild");if(fPS!==null){if(hasGeneric==="Y"){image=generateCfgImageMarkup.call(this,"Required")}else{image=generateCfgImageMarkup.call(this,"WhiteSpace")}colElement.children("span").remove();colElement.append($(generateCfgHTMLMarkup({type:"span",id:"GENERICS"+_pipe+intId,})).append(image))}}function addHtmlAttrib(fieldListPropSet,fieldName,colElement){var i=0;var length=0;var bGetFirst;var propName;var propValue;var fieldPS=fieldListPropSet.GetChildByType(fieldName);if(fieldPS!==null){var htmlAttribPS=fieldPS.GetChildByType("HtmlAttrib");if(htmlAttribPS!==null){length=htmlAttribPS.GetPropertyCount();for(bGetFirst=true;(propName=htmlAttribPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){propValue=htmlAttribPS.GetProperty(propName);switch(propName){case"width":case"height":propValue=propValue+"px";colElement.css(propName,propValue);break;case"text-align":colElement.css(propName,propValue);break;case"class":if(!(colElement.hasClass(propValue))){colElement.addClass(propValue)}break;default:colElement.attr(propName,propValue);break}}}}}function addPortItem(tableId,instancePropSet){var hasGeneric="";var intId="";var innerHTML="";var inputValue="";var prodId="";var quantity=0;var NoQtyCtrl="";var strDynDisable="N";var readOnlyVal="";var tableElement;var rowElement;var colElement;var element;var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=instancePropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);prodId=instancePropSet.GetProperty("Product Id");intId=instancePropSet.GetProperty("Path");quantity=instancePropSet.GetProperty("Quantity");hasGeneric=instancePropSet.GetProperty("RequireMoreChild");NoQtyCtrl=String(instancePropSet.GetProperty("NoQtyCtrl"));strDynDisable=instancePropSet.GetProperty("DynDisable");if(strDynDisable==="Y"){readOnlyVal="readonly"}else{readOnlyVal=""}tableElement=$("#"+jqSelector(tableId));if(tableElement.length===0){return}rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:tableId+_underscore+"INTID"+_pipe+intId,}));rowElement.appendTo(tableElement);if(NoQtyCtrl!=="Y"){inputValue=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),className:((strDynDisable==="Y")?"siebui-ecfg-editfield-dynDisabled":"siebui-ecfg-editfield"),attrs:" value='"+quantity+"' "+readOnlyVal});createNewField.call(this,rowElement,tableId,_underscore+"INTID"+_pipe,intId,"","Quantity",inputValue,fieldListPropSet)}var colId=tableId+_underscore+"INTID"+_pipe+intId+_underscore+"FIELD"+_pipe+"Quantity";colElement=$("#"+jqSelector(colId));if(colElement.length>0){var controlId=tableId+_underscore+"INTID"+_pipe+intId+_underscore+"FIELD"+_pipe+"Quantity";var controlStr="GRPITEM"+_pipe+tableId+_underscore+"INTID"+_pipe+intId;var controlElement=colElement.find(":input");controlElement.bind("change",{ctx:this,ctrlId:controlId,ctrlStr:controlStr,ctrlType:"portitem"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,tableId+_underscore+"INTID"+_pipe+intId)}colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",}));colElement.appendTo(rowElement);addHtmlAttrib.call(this,fieldListPropSet,"Name",colElement);if(instancePropSet.GetProperty("CanDrillDown")==="Y"){element=$(generateCfgHTMLMarkup({type:"a"})).append((instancePropSet.GetProperty("Display Name")==="")?instancePropSet.GetProperty("Name"):instancePropSet.GetProperty("Display Name"));element.appendTo(colElement);var processInputId="GRPITEM"+_pipe+tableId+_underscore+"PROD"+_pipe+prodId+_underscore+"INTID"+_pipe+intId;var processInputStr="SetTopObj";var processInputType="linkMethod";element.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(element,tableId+_underscore+"INTID"+_pipe+intId)}else{innerHTML=(instancePropSet.GetProperty("Display Name")==="")?instancePropSet.GetProperty("Name"):instancePropSet.GetProperty("Display Name");colElement.html(innerHTML)}addGenerics.call(this,instancePropSet,colElement,intId,hasGeneric);displayFieldList.call(this,rowElement,_underscore+"INTID"+_pipe,instancePropSet.GetType(),fieldListPropSet,instancePropSet,"N")}function arrangeMsg(){var curMsg=this.GetPM().Get("CurMsg");var maxMsg=this.GetPM().Get("MaxMsg");var tableElement1=$("#CfgMsgSig");var tableElement2=$("#CfgMsgEC");var tableElement3=$("#CfgMsgCPVE");var tableElement4=$("#CfgMsgProceedActions");var t2OffSet=0;var t3OffSet=0;var t4OffSet=0;if(tableElement1.length>0){t2OffSet=tableElement1.children(".div-table-row").length}t3OffSet=t2OffSet;t4OffSet=t3OffSet;if(tableElement2.length>0){t3OffSet+=tableElement2.children(".div-table-row").length}t4OffSet=t3OffSet;if(tableElement3.length>0){t4OffSet+=tableElement3.children(".div-table-row").length}var n1=(tableElement1.length>0)?tableElement1.children(".div-table-row").length:0;var n2=(tableElement2.length>0)?tableElement2.children(".div-table-row").length:0;var n3=(tableElement3.length>0)?tableElement3.children(".div-table-row").length:0;var n4=(tableElement4.length>0)?tableElement4.children(".div-table-row").length:0;if(curMsg>(n1+n2+n3+n4)){this.GetPM().SetProperty("CurMsg",0)}for(var i=curMsg;i<curMsg+maxMsg;i++){if(n1>i){tableElement1.children(".div-table-row").eq(i).show()}else{if((n2+t2OffSet)>i){tableElement2.children(".div-table-row").eq(i-t2OffSet).show()
}else{if((n3+t3OffSet)>i){tableElement3.children(".div-table-row").eq(i-t3OffSet).show()}else{if((n4+t4OffSet)>i){tableElement4.children(".div-table-row").eq(i-t4OffSet).show()}}}}}}function checkForceRefresh(portItemPropSet,onAdd,onDelete){var addPS=null;var bRefreshOnAdd=false;var bRefreshOnDel=false;var delPS=null;var nAddCnt=0;var nDelCnt=0;var strForceRefresh="";strForceRefresh=portItemPropSet.GetProperty("ForceRefresh");addPS=portItemPropSet.GetChildByType("Add");if(addPS!==null){nAddCnt=addPS.GetChildCount()}if(nAddCnt>0&&onAdd){bRefreshOnAdd=true}delPS=portItemPropSet.GetChildByType("Delete");if(delPS!==null){nDelCnt=delPS.GetChildCount()}if(nDelCnt>0&&onDelete){bRefreshOnDel=true}if((bRefreshOnAdd||bRefreshOnDel)&&strForceRefresh!=="undefined"&&strForceRefresh!==null&&strForceRefresh.toUpperCase()==="Y"){this.GetPM().ExecuteMethod("RefreshUI")}}function clearPortItems(tableId){var table=$("#"+jqSelector(tableId));if(table.length>0){table.empty()}}function createCustomizeIcon(rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet){var colElement;var colId;var spanElement;var controlElement;var element;if(rowType===(_underscore+"INTID"+_pipe)){colId=tableId+rowType+path+_underscore+"FIELD"+_pipe+"Customize"}else{if(prodId!==""){colId=tableId+rowType+prodId+_underscore+"FIELD"+_pipe+"Customize"}}colElement=$("#"+jqSelector(colId));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-customize",id:colId,}));colElement.appendTo(rowElement)}colElement.empty();addHtmlAttrib.call(this,fieldListPropSet,"Customize",colElement);spanElement=$(generateCfgHTMLMarkup({type:"a",className:"siebui-ecfg-icon-link"})).append(generateCfgIconMarkup.call(this,"siebui-icon-settings"));spanElement.appendTo(colElement);var processInputId="GRPITEM"+_pipe+grpItemId+_underscore+"INTID"+_pipe+path+_underscore+"PROD"+_pipe+prodId;spanElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:"SetTopObj",ctrlType:"linkMethod"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(spanElement,grpItemId)}function createEditFieldIcon(rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet,fieldName,value){var colElement;var colId;var spanElement;var controlElement;var element;if(rowType===(_underscore+"INTID"+_pipe)){colId=tableId+rowType+path+_underscore+"FIELD"+_pipe+fieldName}else{if(prodId!==""){colId=tableId+rowType+prodId+_underscore+"FIELD"+_pipe+fieldName}}colElement=$("#"+jqSelector(colId));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-editfield",id:colId}));colElement.appendTo(rowElement)}colElement.empty();addHtmlAttrib.call(this,fieldListPropSet,fieldName,colElement);controlElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),value:value,className:"siebui-ecfg-form-control siebui-ecfg-search-input"}));controlElement.appendTo(colElement);spanElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_PST_BUTTON_CTRL"),className:"siebui-ecfg-search-btn"}));spanElement.appendTo(colElement);controlElement.bind("change",{ctx:this,ctrlId:grpItemId,ctrlFieldName:fieldName,ctrlInputId:colId,ctrlPath:path},function(event){setTimeout(function(){setFieldValue.call(event.data.ctx,event.data.ctrlId,event.data.ctrlFieldName,event.data.ctrlInputId,event.data.ctrlPath)},0)});spanElement.bind("click",{ctx:this,ctrlId:grpItemId,ctrlFieldType:"CfgFieldList",ctrlFieldName:fieldName,ctrlPath:path},function(event){setTimeout(function(){editField.call(event.data.ctx,event.data.ctrlId,event.data.ctrlFieldType,event.data.ctrlFieldName,event.data.ctrlPath)},0)});this.InjectQTPInfo(controlElement,grpItemId);this.InjectQTPInfo(spanElement,grpItemId)}function createExplanationIcon(rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet){var colElement;var colId;var spanElement;if(rowType===(_underscore+"INTID"+_pipe)){colId=tableId+rowType+path+_underscore+"FIELD"+_pipe+"Explanation"}else{colId=tableId+rowType+prodId+_underscore+"FIELD"+_pipe+"Explanation"}colElement=$("#"+jqSelector(colId));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-explanation-col",id:colId,}));colElement.appendTo(rowElement)}colElement.empty();addHtmlAttrib.call(this,fieldListPropSet,"Explanation",colElement);spanElement=$(generateCfgHTMLMarkup({type:"a",className:"siebui-ecfg-icon-link"})).append(generateCfgIconMarkup.call(this,"siebui-icon-info-circle"));spanElement.appendTo(colElement);var processInputId=grpItemId;var processInputStr=_underscore+"PROD"+_pipe+prodId+_underscore+"INTID"+_pipe+path;spanElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:"explanation"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(spanElement,grpItemId)}function createRemoveIcon(rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet){var removeIcon=generateCfgImageMarkup.call(this,"Delete");var colElement;var colId;var spanElement;if(rowType===(_underscore+"INTID"+_pipe)){colId=tableId+rowType+path+_underscore+"FIELD"+_pipe+"Remove"}else{if(prodId!==""){colId=tableId+rowType+prodId+_underscore+"FIELD"+_pipe+"Remove"}}colElement=$("#"+jqSelector(colId));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-removeicon",id:colId,}));colElement.appendTo(rowElement)}addHtmlAttrib.call(this,fieldListPropSet,"Remove",colElement);spanElement=$(generateCfgHTMLMarkup({type:"span",className:"siebui-link-icon-e"})).append($(generateCfgHTMLMarkup({type:"a"})).append(generateCfgImageMarkup.call(this,"Delete")));spanElement.appendTo(colElement);var processInputId=tableId+_underscore+"INTID"+_pipe+path+_underscore+"FIELD"+_pipe+"Remove";var processInputStr="GRPITEM"+_pipe+tableId+_underscore+"INTID"+_pipe+path;spanElement.children("a").bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:"Remove"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(spanElement,grpItemId)}function createNewField(parent,tableId,rowType,intId,prodId,fieldId,value,fieldListPropSet){var colElement=null;var colId="";if(rowType===(_underscore+"INTID"+_pipe)){colId=tableId+rowType+intId+_underscore+"FIELD"+_pipe+fieldId}else{if(prodId!==""){colId=tableId+rowType+prodId+_underscore+"FIELD"+_pipe+fieldId}}colElement=$("#"+jqSelector(colId));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:((!!value&&value.toLowerCase().match(/input/))?"div-table-col siebui-ecfg-editfield":"div-table-col"),id:colId,}));colElement.appendTo(parent)}colElement.html(value);if(fieldListPropSet!==""&&typeof(fieldListPropSet)!=="undefined"&&fieldListPropSet!==null){addHtmlAttrib.call(this,fieldListPropSet,fieldId,colElement)
}}function deleteFieldList(rowElement,fieldListPropSet){var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var colArray=rowElement.children(".div-table-col");for(var i=colArray.length-1;i>=0;i--){var idInfo=getIdInfo(colArray[i].id);var fPS=fieldListPropSet.GetChildByType(idInfo.FIELD);if(fPS!==null){var needRefresh=fPS.GetProperty("NeedRefresh");var defaultField=fPS.GetProperty("Default");if(needRefresh==="N"||needRefresh==="n"||defaultField==="Y"||defaultField==="y"){continue}else{colArray.eq(i).html(whiteImage)}}}}function deletePortItem(tableId,rowId){var tableElement=$("#"+jqSelector(tableId));var rowElement=$("#"+jqSelector(rowId));if(tableElement.length>0){rowElement.remove()}}function displayFieldHeader(rowElement,fieldListPropSet){var fieldPS;var fieldHeader;var fieldName;var n;for(var j=0;j<fieldListPropSet.GetChildCount();j++){fieldPS=fieldListPropSet.GetChild(j);fieldHeader=fieldPS.GetProperty("CfgUIControl");fieldName=fieldPS.GetProperty("CfgFieldName");if(typeof(fieldHeader)!=="undefined"&&fieldHeader!==""){createNewField.call(this,rowElement,"","","","",fieldName,generateCfgOuterHTML($(generateCfgHTMLMarkup({type:"span",className:"siebui-ecfg-header siebui-ecfg-domain-header"})).append(fieldHeader)),fieldListPropSet)}}}function displayFieldList(rowElement,rowType,grpItemId,fieldListPropSet,portDomainPropSet,refresh){var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var fPS=null;var fieldName="";var needRefresh="";var defaultField="";var path="";var pickApplet="";var prodId="";var portItemId="";var selected="";var strParentPath="";var tableId="";var value="";var bGetFirst;deleteFieldList.call(this,rowElement,fieldListPropSet);for(bGetFirst=true;fPS=fieldListPropSet.EnumChildren(bGetFirst);bGetFirst=false){value=fieldName=needRefresh=defaultField=prodId=path=portItemId=selected=strParentPath="";pickApplet="";fieldName=fPS.GetProperty("CfgFieldName");needRefresh=fPS.GetProperty("NeedRefresh");defaultField=fPS.GetProperty("Default");pickApplet=fPS.GetProperty("PickApplet");if(typeof(defaultField)!=="undefined"&&defaultField.toUpperCase()==="Y"){continue}if(typeof(needRefresh)!=="undefined"&&needRefresh.toUpperCase()==="N"&&refresh===true){continue}if(portDomainPropSet===null){createNewField.call(this,rowElement,"","","","",fieldName,whiteImage,fieldListPropSet);continue}value=portDomainPropSet.GetProperty(fPS.GetType());if(typeof(value)==="undefined"||value===""){value=whiteImage}portItemId=portDomainPropSet.GetProperty("Port Item Id");selected=portDomainPropSet.GetProperty("Selected");strParentPath=portDomainPropSet.GetProperty("Parent Path");path=portDomainPropSet.GetProperty("Path");prodId=portDomainPropSet.GetProperty("Product Id");if(rowType===(_underscore+"INTID"+_pipe)){tableId=strParentPath+_underscore+"PORTITEM"+_pipe+portItemId}else{tableId=strParentPath+_underscore+"PORT"+_pipe+portItemId}if(selected==="Y"||needRefresh==="N"){if(fieldName==="Customize"&&portDomainPropSet.GetProperty("CanDrillDown")==="Y"){createCustomizeIcon.call(this,rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet)}else{if(fieldName==="Explanation"){createExplanationIcon.call(this,rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet)}else{if(fieldName==="Remove"){createRemoveIcon.call(this,rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet)}else{if(pickApplet!==""&&typeof(pickApplet)!=="undefined"&&pickApplet!==null){createEditFieldIcon.call(this,rowElement,tableId,rowType,grpItemId,path,prodId,fieldListPropSet,fieldName,value)}else{createNewField.call(this,rowElement,tableId,rowType,path,prodId,fieldName,value,fieldListPropSet)}}}}}else{createNewField.call(this,rowElement,tableId,rowType,path,prodId,fieldName,(fieldName==="Explanation")?"":whiteImage,fieldListPropSet)}}}function displayQtyInCombo(rowElement,grpItemId,fieldPropSet,portDomainPropSet,dynReadOnly){var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var quantity="";var path="";var portItemId="";var prodId="";var strRowId="";var strParentPath="";var colElement;var colId;var controlElement;var controlId;if(fieldPropSet.GetChildByType("Quantity")!==null){if(portDomainPropSet===null){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(whiteImage);colElement.appendTo(rowElement);addHtmlAttrib.call(this,fieldPropSet,"Quantity",colElement)}else{quantity=portDomainPropSet.GetProperty("Quantity");path=portDomainPropSet.GetProperty("Path");prodId=portDomainPropSet.GetProperty("Product Id");portId=portDomainPropSet.GetProperty("Port Item Id");strParentPath=portDomainPropSet.GetProperty("Parent Path");strRowId=strParentPath+_underscore+"PORT"+_pipe+portId+_underscore+"COMBOBOX"+_pipe+prodId;colId=strRowId+_underscore+"FIELD"+_pipe+"Quantity";colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",id:colId}));colElement.appendTo(rowElement);addHtmlAttrib.call(this,fieldPropSet,"Quantity",colElement);controlElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),className:((dynReadOnly==="Y")?"siebui-ecfg-editfield-dynDisabled":"siebui-ecfg-editfield"),attrs:" value='"+quantity+"'"+((dynReadOnly==="Y")?" readonly":""),}));controlElement.appendTo(colElement);var processInputId=colId;var processInputStr="GRPITEM"+_pipe+grpItemId+_underscore+"INTID"+_pipe+path;controlElement.bind("change",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:"comboportitem"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId)}}}function editField(id,fieldType,fieldName,path){this.GetPM().ExecuteMethod("EditField",id,fieldType,fieldName,path)}function processInput(id,str,type){var pm=this.GetPM();var controlPS=pm.Get("ControlPS");SiebelApp.S_App.uiStatus.Busy({});var idInfo=null;var path="";var portPropSet=null;var prodId="";var prodPropSet=null;var obj=null;var objType="";var quantity="";var resultPropSet=null;var spanId="";var tableId="";var tempValue="";var element=null;switch(type){case"checkbox":idInfo=getIdInfo(id);prodId=idInfo.PROD;tableId=idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT;spanId=tableId+_underscore+"PROD"+_pipe+prodId+_underscore+"FIELD"+_pipe+"Quantity";element=$("#"+jqSelector(spanId));if(element.find(":input").prop("checked")===true){this.GetPM().ExecuteMethod("AddItemMin","Y",tableId,prodId,1)}else{this.GetPM().ExecuteMethod("RemoveItem",tableId,prodId)}break;case"ComboAdd":element=$("#"+jqSelector(id));quantity=element.val();if(quantity===""||typeof(quantity)==="undefined"||quantity===null){quantity=0}quantity=parseInt(quantity);element.val("");element=$("#"+jqSelector(str));idInfo=getIdInfo(element.val());tableId=idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT;element=$("#"+jqSelector(tableId+_underscore+"PORTDOMAIN"+_pipe+"none"));if(element.length>0){element.attr("selected","selected")}if(quantity>0){this.GetPM().ExecuteMethod("AddItemMin","Y",tableId,idInfo.PROD,quantity);
if(this.GetPM().Get("DeferUpdate")){this.GetPM().ExecuteMethod("ProcessInteractPropSet")}}break;case"ComboAddOne":element=$("#"+jqSelector(str));idInfo=getIdInfo(element.val());tableId=idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT;element=$("#"+jqSelector(tableId+_underscore+"PORTDOMAIN"+_pipe+"none"));if(element.length>0){element.attr("selected","selected")}this.GetPM().ExecuteMethod("AddItem","Y",tableId,idInfo.PROD,1);break;case"comboportitem":element=$("#"+jqSelector(id));idInfo=getIdInfo(str);quantity=element.find(":input").val();if(quantity===""||typeof(quantity)==="undefined"||quantity===null){quantity=0}this.GetPM().ExecuteMethod("SetItemQuantity",idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT,idInfo.INTID,quantity);break;case"explanation":idInfo=getIdInfo(str);this.GetPM().ExecuteMethod("GetExplanation",id,idInfo.PROD,idInfo.INTID);break;case"linkMethod":if(str.toLowerCase().match(/doneconfig/)){var sWarning=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CXP_UI_INCOMPLETE_CONFIG");var i=0;var topRequireMoreChild=pm.Get("TopRequireMoreChild");var missingReqAttrArray=pm.Get("MissingReqAttrArray");if(topRequireMoreChild==="Y"||missingReqAttrArray.length>0){if(confirm(sWarning)){pm.SetProperty("topRequireMoreChild","")}else{pm.SetProperty("RequestLock",false);SiebelApp.S_App.uiStatus.Free();return false}}}if(str.toLowerCase().match(/prevview/)){var frameObj=document.getElementById("_sweclient");frameObj.className=""}this.GetPM().ExecuteMethod("CfgInvokeMethod",str,id);break;case"portitem":element=$("#"+jqSelector(id));idInfo=getIdInfo(str);quantity=element.find(":input").val();if(quantity===""||typeof(quantity)==="undefined"||quantity===null){quantity=0}this.GetPM().ExecuteMethod("SetItemQuantity",idInfo.GRPITEM+_underscore+"PORTITEM"+_pipe+idInfo.PORTITEM+_underscore+"INTID"+_pipe+idInfo.INTID,idInfo.INTID,quantity);break;case"radio":idInfo=getIdInfo(id);if(idInfo.ATTR!=="undefined"&&idInfo.ATTR!==""){objType="Attribute"}else{if(idInfo.PORT!=="undefined"&&idInfo.PORT!==""){objType="Port"}}if(objType==="Port"){this.GetPM().ExecuteMethod("AddItem","N",idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT,idInfo.PROD,1)}else{if(objType==="Attribute"){this.GetPM().ExecuteMethod("SetAttribute",idInfo.GRPITEM+_underscore+"ATTR"+_pipe+idInfo.ATTR,idInfo.ATTVAL,idInfo.ATTTYPE)}}break;case"Remove":idInfo=getIdInfo(str);this.GetPM().ExecuteMethod("SetItemQuantity",idInfo.GRPITEM+_underscore+"PORTITEM"+_pipe+idInfo.PORTITEM+_underscore+"INTID"+_pipe+idInfo.INTID,idInfo.INTID,0);break;case"select":element=$("#"+jqSelector(id));idInfo=getIdInfo(element.val());if(idInfo.ATTTYPE!==null&&idInfo.ATTTYPE!==""){tempValue=idInfo.ATTVAL;if(tempValue.length>0){tempValue=tempValue.replace(/\"/g,'\\"')}this.GetPM().ExecuteMethod("SetAttribute",idInfo.GRPITEM+_underscore+"ATTR"+_pipe+idInfo.ATTR,tempValue,idInfo.ATTTYPE)}else{this.GetPM().ExecuteMethod("AddItem","N",idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT,idInfo.PROD,1)}break;case"text":element=$("#"+jqSelector(id));idInfo=getIdInfo(id);if(idInfo.ATTR!=="undefined"&&idInfo.ATTR!==""){objType="Attribute"}else{if(idInfo.PORT!=="undefined"&&idInfo.PORT!==""){objType="Port"}}if(objType==="Attribute"){tempValue=element.val();if(tempValue.length>0){var tempValue1=tempValue.replace(/\"/g,'\\"');tempValue=tempValue1}this.GetPM().ExecuteMethod("SetAttribute",idInfo.GRPITEM+_underscore+"ATTR"+_pipe+idInfo.ATTR,tempValue,idInfo.ATTTYPE)}else{if(objType==="Port"){prodId=idInfo.PROD;tableId=idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT;resultPropSet=controlPS.GetChildByType(tableId);portPropSet=resultPropSet.GetChildByType("Domain");prodPropSet=portPropSet.GetChildByType(prodId);path=prodPropSet.GetProperty("Path");spanId=tableId+_underscore+"PROD"+_pipe+prodId+_underscore+"FIELD"+_pipe+"Quantity";element=$("#"+jqSelector(spanId));quantity=element.find(":input").val();if(quantity===""||typeof(quantity)==="undefined"||quantity===null){quantity=0}if(path!==""&&typeof(path)!=="undefined"&&path!==null){this.GetPM().ExecuteMethod("SetItemQuantity",tableId,path,quantity)}else{this.GetPM().ExecuteMethod("AddItem","Y",tableId,prodId,quantity)}}}break}if(this.GetPM().Get("CalculateDynamicShowHide")===true){this.GetPM().SetProperty("CalculateDynamicShowHide",false);this.GetPM().ExecuteMethod("RefreshUI")}SiebelApp.S_App.uiStatus.Free()}function processInputRadioNoneAction(id,str,type){var controlPS=this.GetPM().Get("ControlPS");var idInfo=null;var objType=null;var prodPropSet=null;var domainPropSet=null;var noneSelected=true;idInfo=getIdInfo(id);if(idInfo.ATTR!=="undefined"&&idInfo.ATTR!==""){objType="Attribute"}else{if(idInfo.PORT!=="undefined"&&idInfo.PORT!==""){objType="Port"}}if(objType==="Port"){domainPropSet=controlPS.GetChildByType(idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT).GetChildByType("Domain");if(domainPropSet!==null){for(var i=0;i<domainPropSet.GetChildCount();i++){prodPropSet=domainPropSet.GetChild(i);var path=prodPropSet.GetProperty("Path");if(path!=="undefined"&&path!==null){noneSelected=false}}}}if(objType==="Attribute"){noneSelected=false}if(noneSelected===false){processInput.call(this,id,str,type)}}function setExcluded(resultPropSet,strProdId,strElementId){var element=null;var optionId="";var portDomainPropSet=null;var domainProd=null;var bGetFirst=true;portDomainPropSet=resultPropSet.GetChildByType("Domain");if(portDomainPropSet!==null){nDomainLen=portDomainPropSet.GetChildCount();for(bGetFirst=true;domainProd=portDomainPropSet.EnumChildren(bGetFirst);bGetFirst=false){if(domainProd.GetProperty("Product Id")===strProdId){optionId=strElementId+_underscore+"PORTDOMAIN"+_pipe+strProdId;element=$("#"+jqSelector(optionId));if(element.length>0&&domainProd.GetProperty("CxEnabled")==="N"){element.attr("class","eCfgOptionExcluded")}}}}}function showCheckBox(grpItemId){showDomainAndChildrenControl.call(this,grpItemId,"checkbox")}function showCheckBoxGrid(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(grpItemId);controlPropSet.SetProperty("GridLayout","Y");showDomainAndChildrenControl.call(this,grpItemId,"checkbox")}function showCombo(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(grpItemId);var dispStyle="";var displayValue="";var enabled="";var nDomainLen=0;var selectId="select_"+grpItemId;var selectedIndex=-1;var selectedTag="";var selectOptionHTML="";var spanId="";var tr=null;var td=null;var rowElement;var rowId;var colElement;var controlElement;var optionElement;var optionId;var id=grpItemId+_underscore+"DOMAINSELECT";var objType=controlPropSet.GetProperty("Object Type");var fieldListPropSet=CCFMiscUtil_CreatePropSet();fieldListPropSet.DecodeFromString(controlPropSet.GetProperty("FieldList"));var element=$("#SPAN_"+jqSelector(grpItemId));if(element.length===0){return false}var tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table siebui-ecfg-table-collapse"}));tableElement.appendTo(element);
if(objType==="Port"){var noneId=grpItemId+_underscore+"PORTDomain"+_pipe+"none";var portPropSet=controlPropSet.GetChildByType("Domain");var portId=portPropSet.GetProperty("Port Item Id");var dynReadOnly=portPropSet.GetProperty("DynDisable");var readOnlyVal="";nDomainLen=portPropSet.GetChildCount();var dynChangeImage=portPropSet.GetProperty("ChangeImage");if(typeof(dynChangeImage)==="undefined"){dynChangeImage="N"}else{dynChangeImage=(dynChangeImage.toString()==="")?"N":dynChangeImage}if(dynChangeImage==="Y"){var dynParentpath=portPropSet.GetProperty("Parent Path");var dynPortItemId=portPropSet.GetProperty("Port Item Id");var imgId="img_"+dynParentpath+"_"+dynPortItemId;var newImage=portPropSet.GetProperty("DynNewImage");var imgElement=$("#"+jqSelector(imgId));if(imgElement.length>0){imgElement.attr("src",newImage)}}if(dynReadOnly==="Y"){readOnlyVal="disabled"}else{readOnlyVal=""}rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th siebui-ecfg-domain-header"}));rowElement.appendTo(tableElement);displayFieldHeader.call(this,rowElement,fieldListPropSet);rowId=grpItemId+_underscore+"COMBOBOX";rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-domain-row",id:rowId}));rowElement.appendTo(tableElement);colId=grpItemId+_underscore+"COMBOBOX_TD";colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-editfield",id:colId}));colElement.appendTo(rowElement);addHtmlAttrib.call(this,fieldListPropSet,"Name",colElement);var selectConfig={id:id,attrs:readOnlyVal,options:[]};selectConfig.options.push({id:noneId,value:"GRPITEM"+_pipe+grpItemId+_underscore+"PROD"+_pipe+"none",className:"eCfgOptionAvailable",});for(var i=0;i<nDomainLen;i++){var excluded="";var portDomainPropSet=portPropSet.GetChild(i);var portId="";var prodId="";var selected="";excluded=portDomainPropSet.GetProperty("Excluded");displayValue=portDomainPropSet.GetProperty("CxObjName");selected=portDomainPropSet.GetProperty("Selected");enabled=portDomainPropSet.GetProperty("CxEnabled");prodId=portDomainPropSet.GetProperty("Product Id");portId=portDomainPropSet.GetProperty("Port Item Id");if(selected==="Y"){selectedTag=" selected";selectedIndex=i;dispStyle="eCfgOptionAvailable"}else{selectedTag="";if(enabled==="Y"){dispStyle="eCfgOptionAvailable"}else{dispStyle="eCfgOptionExcluded"}}if(excluded!=="Y"||enabled==="Y"){spanId=grpItemId+_underscore+"PORTDOMAIN"+_pipe+prodId;optionId=spanId;selectConfig.options.push({id:optionId,displayValue:displayValue,value:"GRPITEM"+_pipe+grpItemId+_underscore+"PROD"+_pipe+prodId,className:dispStyle,attrs:selectedTag})}}controlElement=$(generateCfgSelectHTMLMarkup(selectConfig));controlElement.appendTo(colElement);if(selectedIndex!==-1){portDomainPropSet=portPropSet.GetChild(selectedIndex);var hasGeneric=portDomainPropSet.GetProperty("RequireMoreChild");var path=portDomainPropSet.GetProperty("Path");addGenerics.call(this,controlPropSet,colElement,path,hasGeneric);displayQtyInCombo.call(this,rowElement,controlPropSet.GetType(),fieldListPropSet,portDomainPropSet,dynReadOnly);displayFieldList.call(this,rowElement,_underscore+"PROD"+_pipe,controlPropSet.GetType(),fieldListPropSet,portDomainPropSet,"N")}else{addGenerics.call(this,controlPropSet,colElement,path,"N");displayQtyInCombo.call(this,rowElement,controlPropSet.GetType(),fieldListPropSet,null,dynReadOnly);displayFieldList.call(this,rowElement,_underscore+"PROD"+_pipe,controlPropSet.GetType(),fieldListPropSet,null,"N")}controlElement.bind("change",{ctx:this,ctrlId:id,ctrlType:"select"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,"",event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId)}else{if(objType==="Attribute"){var readOnlyVal="";var spanId="";var attType=controlPropSet.GetProperty("AttType");var attId=controlPropSet.GetProperty("XA Id");var selectedAtt=controlPropSet.GetProperty("AttValue");var readOnly=controlPropSet.GetProperty("CxReadOnly");var attPropSet=controlPropSet.GetChildByType("Domain");var dynReadOnly=controlPropSet.GetProperty("DynDisable");nDomainLen=attPropSet.GetChildCount();var dynChangeImage=attPropSet.GetProperty("ChangeImage");if(dynChangeImage==="Y"){var dynParentpath=attPropSet.GetProperty("Parent Path");var dynAttId=attPropSet.GetProperty("AttID");var imgId="img_"+dynParentpath+"_"+dynAttId;var newImage=attPropSet.GetProperty("DynNewImage");var imgElement=$("#"+jqSelector(imgId));if(imgElement.length>0){imgElement.attr("src",newImage)}}rowId=grpItemId+_underscore+"COMBOBOX";rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:rowId}));rowElement.appendTo(tableElement);colId=grpItemId+_underscore+"COMBOBOX_TD";colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:colId}));colElement.appendTo(rowElement);if(readOnly==="Y"||dynReadOnly==="Y"){readOnlyVal="disabled"}else{readOnlyVal=""}var selectConfig={id:id,attrs:readOnlyVal,options:[]};for(var i=0;i<nDomainLen;i++){var excluded="";var attDomainPropSet=attPropSet.GetChild(i);var compareValue=attDomainPropSet.GetProperty("AttValueLIC");displayValue=attDomainPropSet.GetProperty("AttValue");excluded=attDomainPropSet.GetProperty("Excluded");if(attType!=="Number"&&attType!=="Integer"){compareValue=displayValue}if(displayValue===selectedAtt){selectedTag=" selected"}else{selectedTag=""}enabled=attDomainPropSet.GetProperty("CxEnabled");if(enabled==="Y"){dispStyle="eCfgOptionAvailable"}else{dispStyle="eCfgOptionExcluded"}if(excluded!=="Y"||enabled==="Y"){var attrIdDisplay=displayValue;if(attrIdDisplay.length>0){attrIdDisplay=attrIdDisplay.replace(/\"/g,"&quot;")}spanId=grpItemId+_underscore+"ATTRDOMAIN"+_pipe+attrIdDisplay;optionId=spanId;selectConfig.options.push({id:optionId,displayValue:HtmlEncode(displayValue),value:"GRPITEM"+_pipe+grpItemId+_underscore+"ATTTYPE"+_pipe+attType+_underscore+"ATTVAL"+_pipe+attrIdDisplay,className:dispStyle,attrs:selectedTag})}}controlElement=$(generateCfgSelectHTMLMarkup(selectConfig));controlElement.appendTo(colElement);controlElement.bind("change",{ctx:this,ctrlId:id,ctrlType:"select"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,"",event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId)}}}function showConflict(){var pm=this.GetPM();var buttonElement;var clearConflict="";var conflictPropSet;var conflictType="";var errorElement;var iMsgCount=0;var innerHTML="";var propSet=null;var msgPropSet=null;var spanElement;var tableElement;var rowElement;var colElement;var element;propSet=pm.Get("ShowConflict");clearConflict=propSet.GetProperty("ClearConflict");conflictPropSet=propSet.GetChildByType("TagErrorStatus");if(conflictPropSet!==null){pm.SetProperty("RequestQueue",new Array());pm.SetProperty("RequestQueueIndex",0);conflictType=conflictPropSet.GetProperty("Conflict Type");iMsgCount=conflictPropSet.GetChildCount();element=$("#ConflictPage");if(element.length>0){element.show()}spanElement=$("#SPAN_CfgErrorMessageSpan");
spanElement.empty();tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:"CfgErrorMessageSpan"}));tableElement.appendTo(spanElement);for(var i=0;i<iMsgCount;i++){msgPropSet=conflictPropSet.GetChild(i);rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row listRowOff"}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col row"})).append(generateCfgImageMarkup.call(this,"Conflict"));colElement.appendTo(rowElement);var attrs=(utils.IsTrue(SiebelApp.S_App.IsAutoOn()))?"un='CfgConflictMessage"+i+"' rn='CfgConflictMessage"+i+"' ot='Text'":"";colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col row",attr:attrs})).append(msgPropSet.GetProperty("Message"));colElement.appendTo(rowElement)}element=$("#MainPage");if(element.length>0){element.hide()}element=$("#TopLevelButtons1");if(element.length>0){element.hide()}element=$("#TopLevelButtons2");if(element.length>0){element.hide()}}else{if(clearConflict==="Y"){element=$("#ConflictPage");if(element.length>0){element.hide()}element=$("#MainPage");if(element.length>0){element.show()}element=$("#TopLevelButtons1");if(element.length>0){element.show()}element=$("#TopLevelButtons2");if(element.length>0){element.show()}}}switch(conflictType){case"Conflict":buttonElement=$("#RemoveFailedRequests,#UndoLast");buttonElement.show();buttonElement=$("#ClearTheStatusUndo,#ClearTheStatus");buttonElement.hide();break;case"Undo":buttonElement=$("#ClearTheStatusUndo");buttonElement.show();buttonElement=$("#RemoveFailedRequests,#UndoLast,#ClearTheStatus");buttonElement.hide();break;case"Info":buttonElement=$("#ClearTheStatus");buttonElement.show();buttonElement=$("#RemoveFailedRequests,#UndoLast,#ClearTheStatusUndo");buttonElement.hide();break}}function showDomainAndChildrenControl(grpItemId,controlType){var controlPS=this.GetPM().Get("ControlPS");var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var element;var rowElement;var colElement;var noneSelected="Y";var portItemId="";var rowType=_underscore+"PROD"+_pipe;var tableElement;var tr;var td;var j;var nDomainLen;var resultPropSet=controlPS.GetChildByType(grpItemId);var portPropSet=resultPropSet.GetChildByType("Domain");var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=resultPropSet.GetProperty("FieldList");element=$("#SPAN_"+jqSelector(grpItemId));if(element.length===0){return false}tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table siebui-ecfg-table-collapse",id:grpItemId}));tableElement.appendTo(element);var cellTableElement;var cellTableObj=null;var domainCount=0;var gridLayout=String(resultPropSet.GetProperty("GridLayout"));var gridColElement;var gridRowElement;var gridTR=null;var gridTD=null;var iCtrlNumofCol=1;var dynReadOnly=portPropSet.GetProperty("DynDisable");var dynChangeImage=portPropSet.GetProperty("ChangeImage");var dynParentpath=portPropSet.GetProperty("Parent Path");var dynPortItemId=portPropSet.GetProperty("Port Item Id");fieldListPropSet.DecodeFromString(strFieldList);nDomainLen=portPropSet.GetChildCount();if(String(dynChangeImage)==="Y"){var imgId="img_"+dynParentpath+"_"+dynPortItemId;var newImage=portPropSet.GetProperty("DynNewImage");var imgElement=$("#"+jqSelector(imgId));if(imgElement.length>0){imgElement.attr("src",newImage)}}if(gridLayout==="Y"){var sCtrlNumofCol=portPropSet.GetProperty(".CtrlNumofCol");iCtrlNumofCol=parseInt(sCtrlNumofCol);if(isNaN(iCtrlNumofCol)||iCtrlNumofCol<1){iCtrlNumofCol=1}}else{rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th siebui-ecfg-domain-header"}));rowElement.appendTo(tableElement);if(controlType!=="quantity"){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(whiteImage);colElement.appendTo(rowElement)}displayFieldHeader.call(this,rowElement,fieldListPropSet)}if(String(controlType)==="radio"){portItemId=portPropSet.GetProperty("Port Item Id");var portItemRowId=grpItemId+rowType+"none";if(gridLayout==="Y"){gridRowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));gridRowElement.appendTo(tableElement);gridColElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));gridColElement.appendTo(gridRowElement);cellTableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table"}));cellTableElement.appendTo(gridColElement);domainCount++;rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:portItemRowId}));rowElement.appendTo(cellTableElement)}else{rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-domain-row",id:portItemRowId}));rowElement.appendTo(tableElement)}}for(var i=0;i<nDomainLen;i++){var className="";var colId="";var displayName="";var DispStyle="";var enable="";var hasGeneric="";var excluded="";var innerHTML="";var isChecked="";var quantity="";var path="";var prodId="";var selected="";var strRowId="";var strSpanId="";var dynReadOnlyAlone="";var dynDisabled;var controlId;var controlName;var controlElement;var spanElement;var element;if(controlType==="checkbox"||controlType==="quantity"){DispStyle="eCfgSpanAvailable"}else{if(controlType==="radio"){DispStyle="eCfgRadioAvailable"}}portDomainPropSet=portPropSet.GetChild(i);excluded=portDomainPropSet.GetProperty("Excluded");prodId=portDomainPropSet.GetProperty("Product Id");portItemId=portDomainPropSet.GetProperty("Port Item Id");displayName=portDomainPropSet.GetProperty("CxObjName");enable=portDomainPropSet.GetProperty("CxEnabled");selected=portDomainPropSet.GetProperty("Selected");quantity=portDomainPropSet.GetProperty("Quantity");hasGeneric=portDomainPropSet.GetProperty("RequireMoreChild");dynReadOnlyAlone=portDomainPropSet.GetProperty("DynDisable");if(dynReadOnly==="Y"||dynReadOnlyAlone==="Y"){dynDisabled="disabled"}else{dynDisabled=""}quantity=(isNaN(quantity)===true)?"":quantity;path=portDomainPropSet.GetProperty("Path");strRowId=grpItemId+_underscore+"PROD"+_pipe+prodId;if(gridLayout==="Y"){if(domainCount%iCtrlNumofCol===0){gridRowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));gridRowElement.appendTo(tableElement)}gridColElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));gridColElement.appendTo(gridRowElement);cellTableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table"}));cellTableElement.appendTo(gridColElement);domainCount++;rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:strRowId}));rowElement.appendTo(cellTableElement)}else{rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-domain-row",id:strRowId}));rowElement.appendTo(tableElement)}if(excluded==="Y"&&enable==="N"&&selected!=="Y"){rowElement.hide()}if(selected==="Y"){if(controlType==="checkbox"||controlType==="quantity"){DispStyle="eCfgSpanSelected"}else{if(controlType==="radio"){DispStyle="eCfgRadioSelected";noneSelected="N"}}}else{if(enable==="N"){if(controlType==="checkbox"||controlType==="quantity"){DispStyle="eCfgSpanExcluded"
}else{if(controlType==="radio"){DispStyle="eCfgRadioExcluded"}}}}colId=strRowId+_underscore+"FIELD"+_pipe+"Quantity";colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-editfield siebui-ecfg-item-name-col siebui-ecfg-cell-1",id:colId}));colElement.appendTo(rowElement);if(controlType==="quantity"){addHtmlAttrib.call(this,fieldListPropSet,"Quantity",colElement);colElement.html(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),id:colId,className:((dynReadOnly==="Y"||dynReadOnlyAlone==="Y")?"siebui-ecfg-editfield-dynDisabled":"siebui-ecfg-editfield"),attrs:" value='"+quantity+"'"+((dynReadOnly==="Y"||dynReadOnlyAlone==="Y")?" readonly":" "),}));var processInputId="GRPITEM"+_pipe+grpItemId+_underscore+"PROD"+_pipe+prodId;controlElement=colElement.find(":input");controlElement.bind("change",{ctx:this,ctrlId:processInputId,ctrlStr:"",ctrlType:"text"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId)}else{if(controlType==="checkbox"||controlType==="radio"){controlName="GRPITEM"+_pipe+grpItemId+_underscore+"Domain";innerHTML=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:((controlType==="checkbox")?consts.get("SWE_CTRL_CHECKBOX"):consts.get("SWE_CTRL_RADIO")),value:displayName,attrs:" name='"+controlName+"' "+dynDisabled+((selected==="Y")?" checked":"")});controlElement=$(innerHTML);controlElement.appendTo(colElement);if(controlType==="checkbox"){if(selected){controlElement.attr("aria-checked",true)}else{controlElement.attr("aria-checked",false)}}controlElement.bind("click",{ctx:this,ctrlId:"GRPITEM"+_pipe+grpItemId+_underscore+"PROD"+_pipe+prodId,ctrlStr:"",ctrlType:controlType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId)}}colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-cell-2"}));colElement.appendTo(rowElement);addHtmlAttrib.call(this,fieldListPropSet,"Name",colElement);strSpanId=grpItemId+_underscore+"PORTDOMAIN"+_pipe+prodId;spanElement=$(generateCfgHTMLMarkup({type:"div",className:DispStyle,id:strSpanId}));if(selected==="Y"&&portDomainPropSet.GetProperty("CanDrillDown")==="Y"){element=$(generateCfgHTMLMarkup({type:"a",id:strSpanId+_underscore+"CXLINK"})).append(displayName);element.appendTo(spanElement);var processInputId="GRPITEM"+_pipe+grpItemId+_underscore+"PROD"+_pipe+prodId;var processInputStr="SetTopObj";var processInputType="linkMethod";element.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(element,grpItemId)}else{spanElement.html(displayName)}spanElement.appendTo(colElement);addGenerics.call(this,resultPropSet,spanElement,path,hasGeneric);displayFieldList.call(this,rowElement,rowType,resultPropSet.GetType(),fieldListPropSet,portDomainPropSet,false)}if(controlType==="radio"){var dynDisabled;portItemId=portPropSet.GetProperty("Port Item Id");strRowId=grpItemId+rowType+"none";rowElement=$("#"+jqSelector(strRowId));if(rowElement.length>0){colId=strRowId+_underscore+"FIELD"+_pipe+"Quantity";colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-item-name-col siebui-ecfg-cell-1",id:colId}));colElement.appendTo(rowElement);controlName="GRPITEM"+_pipe+grpItemId+_underscore+"Domain";var noneRadioId=controlName+_underscore+"None"+_underscore+"Radio";innerHTML=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_RADIO"),attrs:" name='"+controlName+"' "+dynDisabled+((noneSelected==="Y")?" checked":"")+" id='"+noneRadioId+"'"});var labelHTML="<label for='"+noneRadioId+"' role='button' class='cfgRadioLabel' />";controlElement=$(innerHTML);controlElement.appendTo(colElement);var labelElement=$(labelHTML);labelElement.appendTo(colElement);var processInputId="GRPITEM"+_pipe+grpItemId+_underscore+"PROD"+_pipe+"none";controlElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlType:controlType},function(event){setTimeout(function(){processInputRadioNoneAction.call(event.data.ctx,event.data.ctrlId,"",event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-cell-2"})).append("None");colElement.appendTo(rowElement);addHtmlAttrib.call(this,fieldListPropSet,"Name",colElement);for(var col=0;col<5;col++){$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).appendTo(rowElement)}}}}function showDomainPrice(dispArrayStr){var dispArray=new Array();CCFMiscUtil_StringToArray(dispArrayStr,dispArray);var strPrice=(dispArray[1]).toString();var i=strPrice.length;while(i<15){strPrice+=".";i+=1}var dispValue=strPrice+dispArray[0];return dispValue}function showLink(id){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(id);var linkHTML="";var elementId="GRPITEM"+_pipe+id;var controlId=elementId+_underscore+"LINK";var element=$("#"+jqSelector(elementId));var controlElement;if(controlPropSet!==null&&element.length>0){var type=controlPropSet.GetProperty("Type");var dispValue=controlPropSet.GetProperty("Value");var methodName=controlPropSet.GetProperty("Method");var enabled=controlPropSet.GetProperty("Enabled");if(type==="MiniButton"){controlElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_PST_BUTTON_CTRL"),id:controlId,className:((enabled==="Y")?"appletButton":"appletButtonDis"),value:dispValue,attrs:((enabled==="Y")?" ":" disabled")}))}else{if(enabled==="Y"){controlElement=$(generateCfgHTMLMarkup({type:"a",id:controlId})).append(dispValue)}else{controlElement=$("<div>"+dispValue+"</div>")}}controlElement.appendTo(element);if(enabled==="Y"||type==="MiniButton"){controlElement.bind("click",{ctx:this,ctrlId:elementId,ctrlStr:methodName,ctrlType:"linkMethod"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0);event.preventDefault()});this.InjectQTPInfo(controlElement,id)}}}function showMessage(ps){var controlPS=this.GetPM().Get("ControlPS");var bDeferUpdate=this.GetPM().Get("DeferUpdate");var bNotDeferUpdate=false;var deferMsgArr=new Array();var element;var elementId;var expl;var msgArr=new Array();var msgPS;var strHTML;msgArr[0]="CfgMsgEC";msgArr[1]="EligComp";msgArr[2]="Eligibility Reason";msgArr[3]="CfgMsgCPVE";msgArr[4]="VORD CPVE Validation Service";msgArr[5]="Message";msgArr[6]="CfgMsgProceedActions";msgArr[7]="Proceed Actions";msgArr[8]="Action";deferMsgArr[0]="Proceed Actions";deferMsgArr[1]="Cardinality Violations";deferMsgArr[2]="Promotion Violations";deferMsgArr[3]="Other";for(var x=0;x<msgArr.length;x+=3){elementId=msgArr[x];
element=$("#"+jqSelector(elementId));if(element.length>0){element.empty()}bNotDeferUpdate=false;for(var t=0;t<deferMsgArr.length&&!bNotDeferUpdate;t++){if(msgArr[x]==="CfgMsgProceedActions"&&bDeferUpdate){msgPS=ps.GetChildByType(deferMsgArr[t])}else{msgPS=ps.GetChildByType(msgArr[x+1]);bNotDeferUpdate=true}if(msgPS!==null&&msgPS.GetChildCount()>0&&element.length>0){var iCount=msgPS.GetChildCount();for(var i=0;i<iCount;i++){expl="";if(bDeferUpdate&&!bNotDeferUpdate){expl=msgPS.GetChild(i).GetProperty("Message Text");if(typeof(expl)==="undefined"){expl=msgPS.GetChild(i).GetProperty(msgArr[x+2]);bNotDeferUpdate=true}}else{expl=msgPS.GetChild(i).GetProperty(msgArr[x+2])}var attrs=(utils.IsTrue(SiebelApp.S_App.IsAutoOn()))?"un='CfgMessage"+i+"' rn='CfgMessage"+i+"' ot='Text'":"";element.append($(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:expl})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-bullet",attr:attrs})).append(expl)).hide())}}}}}function showPortItems(rowId){var controlPS=this.GetPM().Get("ControlPS");var tableId="";var comboAddId="";var comboAddPS=null;var portItemCount;var tableElement;var element;var rowElement;var instancePropSet=controlPS.GetChildByType(rowId);var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=instancePropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);tableId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORTITEM"+_pipe+instancePropSet.GetProperty("Port Item Id");comboAddId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORT"+_pipe+instancePropSet.GetProperty("Port Item Id");tableElement=$("#"+jqSelector(tableId));comboAddPS=controlPS.GetChildByType(comboAddId);portItemCount=(comboAddPS.GetProperty("PortItemCount")==="NaN")?"0":comboAddPS.GetProperty("PortItemCount").toString();if(portItemCount==="0"){rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th",id:tableId+_underscore+"FIELDHEADER",}));rowElement.appendTo(tableElement);displayFieldHeader.call(this,rowElement,fieldListPropSet)}portItemCount++;comboAddPS.SetProperty("PortItemCount",portItemCount);var domainPropSet=comboAddPS.GetChildByType("Domain");var strDynDisable=domainPropSet.GetProperty("DynDisable");if(strDynDisable==="Y"){instancePropSet.SetProperty("DynDisable","Y")}addPortItem.call(this,tableId,instancePropSet)}function showPortItemsNoHeader(rowId){var controlPS=this.GetPM().Get("ControlPS");var tableId="";var comboAddId="";var comboAddPS=null;var portItemCount;var tableElement;var element;var rowElement;var instancePropSet=controlPS.GetChildByType(rowId);var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=instancePropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);tableId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORTITEM"+_pipe+instancePropSet.GetProperty("Port Item Id");comboAddId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORT"+_pipe+instancePropSet.GetProperty("Port Item Id");tableElement=$("#"+jqSelector(tableId));comboAddPS=controlPS.GetChildByType(comboAddId);portItemCount=(comboAddPS.GetProperty("PortItemCount")==="NaN")?"0":comboAddPS.GetProperty("PortItemCount");if(portItemCount==="0"){}portItemCount++;comboAddPS.SetProperty("PortItemCount",portItemCount);var domainPropSet=comboAddPS.GetChildByType("Domain");var strDynDisable=domainPropSet.GetProperty("DynDisable");if(strDynDisable==="Y"){instancePropSet.SetProperty("DynDisable","Y")}addPortItem.call(this,tableId,instancePropSet)}function showPortItemsWithoutQtyCtrl(rowId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(rowId);controlPropSet.SetProperty("NoQtyCtrl","Y");showPortItems.call(this,rowId)}function showQuantityList(grpItemId){showDomainAndChildrenControl.call(this,grpItemId,"quantity")}function showRadio(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var resultPropSet=controlPS.GetChildByType(grpItemId);var objType=resultPropSet.GetProperty("Object Type");var gridLayout=resultPropSet.GetProperty("GridLayout");if(objType==="Port"){showDomainAndChildrenControl.call(this,grpItemId,"radio")}else{if(objType==="Attribute"){var attType=resultPropSet.GetProperty("AttType");var attId=resultPropSet.GetProperty("XA Id");var attName=resultPropSet.GetProperty("AttName");var selectedAtt=resultPropSet.GetProperty("AttValue");var attPropSet=resultPropSet.GetChildByType("Domain");var nDomainLen=attPropSet.GetChildCount();var dynChangeImage=attPropSet.GetProperty("ChangeImage");var dynReadOnly=attPropSet.GetProperty("DynDisable");var dynParentpath=attPropSet.GetProperty("Parent Path");var dynPortItemId=attPropSet.GetProperty("Port Item Id");var element=$("#SPAN_"+jqSelector(grpItemId));var tableElement=$(generateCfgHTMLMarkup({type:"div",id:grpItemId,className:"div-table"}));tableElement.appendTo(element);if(dynChangeImage==="Y"){var dynParentpath=attPropSet.GetProperty("Parent Path");var dynAttId=attPropSet.GetProperty("AttID");var imgId="img_"+dynParentpath+"_"+dynAttId;var newImage=attPropSet.GetProperty("DynNewImage");var imgElement=$("#"+jqSelector(imgId));if(imgElement.length>0){imgElement.attr("src",newImage)}}var cellTableElement=null;var gridRowElement=null;var gridColElement=null;var iCtrlNumofCol=1;if(gridLayout==="Y"){var sCtrlNumofCol=resultPropSet.GetProperty(".CtrlNumofCol");iCtrlNumofCol=parseInt(sCtrlNumofCol);if(isNaN(iCtrlNumofCol)||iCtrlNumofCol<1){iCtrlNumofCol=1}}for(var i=0;i<nDomainLen;i++){var innerHTML="";var isChecked="";var DispStyle="eCfgRadioAvailable";var strSpanId="";var attDomainPropSet=attPropSet.GetChild(i);var rowElement=null;var attValue=attDomainPropSet.GetProperty("AttValue");var enable=attDomainPropSet.GetProperty("CxEnabled");var selected=attDomainPropSet.GetProperty("Selected");var excluded=attDomainPropSet.GetProperty("Excluded");var dynReadOnlyAlone=attDomainPropSet.GetProperty("DynDisable");var dynDisabled;if(dynReadOnly==="Y"||dynReadOnlyAlone==="Y"){dynDisabled="disabled"}else{dynDisabled=""}strSpanId=grpItemId+_underscore+"ATTVAL"+_pipe+attValue;if(gridLayout==="Y"){if(i%iCtrlNumofCol===0){gridRowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));gridRowElement.appendTo(tableElement)}gridColElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));gridColElement.appendTo(gridRowElement);cellTableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table"}));cellTableElement.appendTo(gridColElement);rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:strSpanId}));rowElement.appendTo(cellTableElement)}else{rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:strSpanId}));rowElement.appendTo(tableElement)}if(excluded==="Y"&&enable==="N"){rowElement.hide()}if(selected==="Y"){DispStyle="eCfgRadioSelected"}else{if(enable==="N"){DispStyle="eCfgRadioExcluded"}}var colId=strSpanId+_underscore+"FIELD"+_pipe+"Input";var colElement=$(generateCfgHTMLMarkup({type:"div",id:colId,className:"div-table-col"}));
colElement.appendTo(rowElement);strSpanId=grpItemId+_underscore+"ATTRDOMAIN"+_pipe+attValue;innerHTML=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_RADIO"),attrs:" "+dynDisabled+((selected==="Y")?" checked":"")})).add($(generateCfgHTMLMarkup({id:strSpanId,type:"span",className:DispStyle})).append(HtmlEncode(attValue)));var controlElement=$(innerHTML);controlElement.appendTo(colElement);var processInputId="GRPITEM"+_pipe+grpItemId+_underscore+"ATTID"+_pipe+ +attId+_underscore+"ATTVAL"+_pipe+attValue+_underscore+"ATTTYPE"+_pipe+attType;var processInputStr="";var processInputType="radio";controlElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId)}}}}function showRadioGrid(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(grpItemId);controlPropSet.SetProperty("GridLayout","Y");showRadio.call(this,grpItemId)}function showReadOnlyText(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(grpItemId);var elementId="GRPITEM"+_pipe+grpItemId;var element=$("#"+jqSelector(elementId));var value=controlPropSet.GetProperty("Value");if(element.length>0){if(utils.IsTrue(SiebelApp.S_App.IsAutoOn())===true){element.attr("ot","Label");element.attr("un",element.attr("id"));element.attr("rn",element.attr("id"))}element.html(value)}}function showReadOnlyTextBox(grpItemId){showTextBox.call(this,grpItemId);var element=$("#"+jqSelector(grpItemId));element.find(":input").prop("readonly",true);element.find(":input").css("background-color","#f0f0f0")}function showSelectAndOptions(tableId){showSelectAndOptionsHelper.call(this,tableId,null,null)}function showSelectAndOptionsHelper(tableId,dispArray,dispFunction){var pm=this.GetPM();var controlPS=pm.Get("ControlPS");var controlPropSet=controlPS.GetChildByType(tableId);var nDomainLen;var noQtyCtrl="";var optionId;var optionValue;var portItemId;var portItemSpanId;var portPropSet;var selectId;var inputElement;var buttonElement;var colElement;var optionElement;var rowElement;var spanElement=$("#SPAN_"+jqSelector(tableId));var selectElement;var tableElement=$(generateCfgHTMLMarkup({type:"div",id:tableId,className:"div-table siebui-ecfg-config2"}));tableElement.appendTo(spanElement);controlPropSet.SetProperty("PortItemCount","0");noQtyCtrl=controlPropSet.GetProperty("NoQtyCtrl");rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th2"}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-editfield"})).append(pm.ExecuteMethod("GetTemplateVarValue","sComboAddNameLabel"));colElement.css("width","250px");colElement.attr("align","left");colElement.appendTo(rowElement);if(noQtyCtrl!=="Y"){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(pm.ExecuteMethod("GetTemplateVarValue","sComboAddQtyLabel"));colElement.css("width","50px");colElement.attr("align","left");colElement.appendTo(rowElement)}portPropSet=controlPropSet.GetChildByType("Domain");nDomainLen=portPropSet.GetChildCount();var dynReadOnly=portPropSet.GetProperty("DynDisable");if(dynReadOnly==="Y"){readOnlyVal="disabled"}else{readOnlyVal=""}var dynChangeImage=portPropSet.GetProperty("ChangeImage");var dynParentpath=portPropSet.GetProperty("Parent Path");var dynPortItemId=portPropSet.GetProperty("Port Item Id");if(dynChangeImage==="Y"){var imgId="img_"+dynParentpath+"_"+dynPortItemId;var newImage=portPropSet.GetProperty("DynNewImage");var imgElement=$("#"+jqSelector(imgId));var imgObj=document.getElementById(imgId);if(imgElement.length>0){imgElement.attr("src",newImage)}}rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-editfield"}));colElement.appendTo(rowElement);portItemId=portPropSet.GetProperty("Port Item Id");optionId=tableId+_underscore+"PORTDOMAIN"+_pipe+"none";selectId=tableId+_underscore+"DOMAINSELECT";var selectConfig={id:selectId,options:[]};selectConfig.options.push({id:optionId,value:"GRPITEM"+_pipe+tableId+_underscore+"PROD"+_pipe+"none",className:"eCfgOptionAvailable",attrs:" selected"});for(var i=0;i<nDomainLen;i++){var prodId="";var className="";var displayName="";var dispValArray=new Array();var excluded="";var enable="";var portDomainPropSet;portItemId="";optionId="";portDomainPropSet=portPropSet.GetChild(i);excluded=portDomainPropSet.GetProperty("Excluded");prodId=portDomainPropSet.GetProperty("Product Id");portItemId=portDomainPropSet.GetProperty("Port Item Id");if(dispArray!==null&&dispFunction!==null){for(var iLen=0;iLen<dispArray.length;iLen++){var temp="";temp=portDomainPropSet.GetProperty(dispArray[iLen]);if(temp===null||typeof(temp)==="undefined"){dispValArray[iLen]=""}else{dispValArray[iLen]=temp}}var str=CCFMiscUtil_ArrayToString(dispValArray);str=str.replace(/\"/g,'\\"');str=dispFunction+'("'+str+'");';displayName=eval(str)}else{displayName=portDomainPropSet.GetProperty("CxObjName")}enable=portDomainPropSet.GetProperty("CxEnabled");if(excluded!=="Y"||enable==="Y"){selectConfig.options.push({id:tableId+_underscore+"PORTDOMAIN"+_pipe+prodId,value:"GRPITEM"+_pipe+tableId+_underscore+"PROD"+_pipe+prodId,className:((enable==="Y")?"eCfgOptionAvailable":"eCfgOptionExcluded"),displayValue:displayName})}}$(generateCfgSelectHTMLMarkup(selectConfig)).appendTo(colElement);this.InjectQTPInfo(colElement.find("select"),tableId);if(noQtyCtrl!=="Y"){var inputId=tableId+_underscore+"DOMAININPUT";inputElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),id:inputId,className:((dynReadOnly==="Y")?"siebui-readonly":""),attrs:" "+readOnlyVal}));this.InjectQTPInfo(inputElement,tableId);if(dynReadOnly==="Y"){buttonElement=$(generateCfgHTMLMarkup({type:"span",className:"minibuttonOff"})).append(pm.ExecuteMethod("GetTemplateVarValue","sAddItemLabel"))}else{buttonElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_PST_BUTTON_CTRL"),value:pm.ExecuteMethod("GetTemplateVarValue","sAddItemLabel"),attrs:"title='"+pm.ExecuteMethod("GetTemplateVarValue","sAddItemLabel")+"' "}))}}else{if(dynReadOnly==="Y"){buttonElement=$(generateCfgHTMLMarkup({type:"span",className:"minibuttonOff"})).append(pm.ExecuteMethod("GetTemplateVarValue","sAddItemLabel"))}else{buttonElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_PST_BUTTON_CTRL"),value:pm.ExecuteMethod("GetTemplateVarValue","sAddItemLabel"),attrs:"title='"+pm.ExecuteMethod("GetTemplateVarValue","sAddItemLabel")+"' "}))}}if(noQtyCtrl!=="Y"){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-editfield"}));colElement.appendTo(rowElement);
inputElement.appendTo(colElement)}colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement.appendTo(rowElement);buttonElement.appendTo(colElement);if(dynReadOnly!=="Y"){var processInputId;var processInputStr;var processInputType;if(noQtyCtrl!=="Y"){processInputId=tableId+_underscore+"DOMAININPUT";processInputStr=tableId+_underscore+"DOMAINSELECT";processInputType="ComboAdd"}else{processInputId="";processInputStr=tableId+_underscore+"DOMAINSELECT";processInputType="ComboAddOne"}buttonElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(buttonElement,tableId)}portItemSpanId=tableId.replace(/PORT/,"PORTITEM");spanElement=$("#SPAN_"+jqSelector(portItemSpanId));tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",attrs:" border='0' cellpadding='0' cellspacing='3' width='100%'"}));tableElement.appendTo(spanElement);rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-input2"}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement.attr("align","center1");colElement.appendTo(rowElement);tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:portItemSpanId}));tableElement.appendTo(colElement)}function showSelectAndOptionsPrice(tableId){var dispArray=new Array();dispArray[0]="CxObjName";dispArray[1]="Original List Price";showSelectAndOptionsHelper.call(this,tableId,dispArray,"showDomainPrice")}function showSelectAndOptionsSpanOnly(tableId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(tableId);controlPropSet.SetProperty("PortItemCount","0");var portItemSpanId;var element=$("#SPAN_"+jqSelector(tableId));portItemSpanId=tableId.replace(/PORT/,"PORTITEM");element=$("#SPAN_"+jqSelector(portItemSpanId));var tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",attrs:" border='0' cellpadding='0' cellspacing='3' width='100%'"}));tableElement.appendTo(element);var rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));rowElement.appendTo(tableElement);var colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement.attr("align","center2");colElement.appendTo(rowElement);$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:portItemSpanId})).appendTo(colElement)}function showSelectAndOptionsWithoutQtyCtrl(tableId){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(tableId);controlPropSet.SetProperty("NoQtyCtrl","Y");showSelectAndOptionsHelper.call(this,tableId,null,null)}function showSignal(id){var controlPS=this.GetPM().Get("ControlPS");var controlPropSet=controlPS.GetChildByType(id);var bGetFirst;var elementId="SPAN_CfgSignal";var element=$("#"+jqSelector(elementId));var innerHTML;var msgSigElement;var propName;var propValue;var signalElement;var signalPropSet;if(element.length>0){signalElement=element.find("#CfgSignal");if(signalElement.length===0){var divRowTmpl=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(generateCfgHTMLMarkup({type:"div",className:"div-table",id:"CfgMsgSig"})));signalElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:"CfgSignal"}));signalElement.append(divRowTmpl);signalElement.append(divRowTmpl.clone().find("#CfgMsgSig").attr("id","CfgMsgEC"));signalElement.append(divRowTmpl.clone().find("#CfgMsgSig").attr("id","CfgMsgCPVE"));signalElement.append(divRowTmpl.clone().find("#CfgMsgSig").attr("id","CfgMsgProceedActions"));element.html(generateCfgOuterHTML(signalElement));signalElement=element.find("#CfgSignal")}else{signalElement.find("#CfgMsgSig").empty();signalElement.find("#CfgMsgEC").empty();signalElement.find("#CfgMsgCPVE").empty();signalElement.find("#CfgMsgProceedActions").empty()}signalPropSet=controlPropSet.GetChildByType("Signal");msgSigElement=signalElement.find("#CfgMsgSig");if(signalPropSet!==null&&signalPropSet.GetPropertyCount()>0&&msgSigElement.length>0){var i=0;for(bGetFirst=true;(propName=signalPropSet.EnumProperties(bGetFirst))!==null;bGetFirst=false,i++){var attrs=(utils.IsTrue(SiebelApp.S_App.IsAutoOn()))?"un='CfgSignal"+i+"' rn='CfgSignal"+i+"' ot='Text'":"";propValue=signalPropSet.GetProperty(propName)===""?propName:signalPropSet.GetProperty(propName);msgSigElement.append($(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:propValue})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-bullet",attr:attrs})).append(propValue)));$("#siebui-ecfg-messages").addClass("siebui-ecfg-messages-highlight")}}showMessage.call(this,signalPropSet)}arrangeMsg.call(this)}function showTextBox(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var editFieldIcon=this.GetPM().Get("EditFieldIcon");var controlPropSet=controlPS.GetChildByType(grpItemId);var objType=controlPropSet.GetProperty("Object Type");var element=$("#"+jqSelector(grpItemId));if(objType==="Attribute"&&element.length>0){var innerHTML;var displayValue=controlPropSet.GetProperty("Value");var readOnly=controlPropSet.GetProperty("CxReadOnly");var dynReadOnly=controlPropSet.GetProperty("DynDisable");var dynChangeImage=controlPropSet.GetProperty("ChangeImage");if(displayValue.length>0){displayValue=displayValue.replace(/\"/g,"&quot;")}if(dynChangeImage==="Y"){var dynParentPath=controlPropSet.GetProperty("Parent Path");var dynAttId=controlPropSet.GetProperty("AttID");var imgId="img_"+dynParentPath+"_"+dynAttId;var newImage=controlPropSet.GetProperty("DynNewImage");var imgElement=$("#"+jqSelector(imgId));if(imgElement.length>0){imgElement.attr("src",newImage)}}if(readOnly==="Y"){innerHTML=displayValue}else{innerHTML=generateCfgOuterHTML($(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),className:((dynReadOnly==="Y")?"siebui-ecfg-editfield-dynDisabled":""),id:"GRPITEM"+_pipe+grpItemId+_underscore+"ATTTYPE"+_pipe+"TEXT",value:displayValue})))}if(controlPropSet.GetProperty("EditField")==="Y"){var attId=controlPropSet.GetProperty("AttID");innerHTML+=generateCfgOuterHTML($(generateCfgHTMLMarkup({type:"a"})).append(generateCfgImageMarkup.call(this,"EditField")))}element.html(innerHTML);var processInputId="GRPITEM"+_pipe+grpItemId+_underscore+"ATTTYPE"+_pipe+"TEXT";var controlElement=element.find(":input");controlElement.bind("change",{ctx:this,ctrlId:processInputId,ctrlStr:"",ctrlType:"text"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,grpItemId);if(controlPropSet.GetProperty("EditField")==="Y"){controlElement=element.find("a");if(controlElement.length>0){controlElement.bind("click",{ctx:this,grpItemId:grpItemId,fieldType:"Attribute"},function(event){setTimeout(function(){editField.call(event.data.ctx,event.data.grpItemId,event.data.fieldType,"","")
},0)});this.InjectQTPInfo(controlElement,grpItemId)}}}}function toggleExplanationPage(bShow){if(bShow===true){element=$("#ExplanationPage");if(element.length>0){element.show()}element=$("#MainPage,#TopLevelButtons1,#TopLevelButtons2");if(element.length>0){element.hide()}}else{element=$("#ExplanationPage");if(element.length>0){element.hide()}element=$("#MainPage,#TopLevelButtons1,#TopLevelButtons2");if(element.length>0){element.show()}}}function toggleProdDetails(){var aElement=$(".siebui-ecfg-product-details #siebui-ecfg-toggleProdDetails").children("img"),dElement=$(".siebui-ecfg-product-details #CfgObjDetails");if(dElement.is(":hidden")){dElement.show();aElement.attr("src",_cfgImageMapping.ShowLess["src"])}else{dElement.hide();aElement.attr("src",_cfgImageMapping.ShowMore["src"])}}function toggleCfgMessages(){var dElement=$("#siebui-ecfg-messages .siebui-applet-content"),aElement=$("#siebui-ecfg-messages #CfgMsgToggleBtn").children("img");if(dElement.is(":hidden")){dElement.show();aElement.attr("src",_cfgImageMapping.ShowLess["src"])}else{dElement.hide();aElement.attr("src",_cfgImageMapping.ShowMore["src"])}}function updateCanInvoke(){var propSet=this.GetPM().Get("UpdateCanInvoke");var propName;for(var bGetFirst=true;(propName=propSet.EnumProperties(bGetFirst))!==null;bGetFirst=false){var propVal=propSet.GetProperty(propName);var element=$("#"+jqSelector(propName));if(element.attr("type")==="button"){if(propVal==="enabled"){element.removeAttr("disabled");element.attr("class","appletButton")}else{element.attr("disabled","disabled");element.attr("class","appletButtonDis")}}else{SiebelJS.Log("ERROR: NO SUCH CASE")}}}function updateExcludedItems(propSet){var bGetFirst=true;var itemPS;for(bGetFirst=true;itemPS=propSet.EnumChildren(bGetFirst);bGetFirst=false){var element=$("#"+jqSelector(itemPS.GetType()));if(element.length>0){var bGetFirst2=true;var propName;var propVal;for(bGetFirst2=true;(propName=itemPS.EnumProperties(bGetFirst2))!==null;bGetFirst2=false){propVal=itemPS.GetProperty(propName);switch(propName){case"hide":case"remove":if(!/msie|trident/.test(navigator.userAgent.toLowerCase())){$("#"+jqSelector(propVal)).hide()}else{if($("#"+jqSelector(propVal)).parent().prop("tagName")!=="SPAN"){$("#"+jqSelector(propVal)).wrap("<span>")}$("#"+jqSelector(propVal)).parent().hide()}break;case"show":if(!/msie|trident/.test(navigator.userAgent.toLowerCase())){$("#"+jqSelector(propVal)).show()}else{if($("#"+jqSelector(propVal)).parent().prop("tagName")==="SPAN"){$("#"+jqSelector(propVal)).unwrap()}else{$("#"+jqSelector(propVal)).show()}}break;default:element.attr(propName,propVal)}}}}}function updateExcludedItemForAttribute(exclItemPS){updateExcludedItemForPortOrAttribute.call(this,exclItemPS,null,null)}function updateExcludedItemForPort(exclItemPS){updateExcludedItemForPortOrAttribute.call(this,exclItemPS,null,null)}function updateExcludedItemForPortOrAttribute(exclItemPS,dispArray,dispFunction){var controlPS=this.GetPM().Get("ControlPS");var childPS=null;var bGetFirst=true;var bGetFirst2=true;var updateType="";var propName;var propVal;var id=exclItemPS.GetType();var objectType=exclItemPS.GetProperty("Type");var usage=exclItemPS.GetProperty("Usage");var strParentPath=exclItemPS.GetProperty("Parent Path");var excluded;var excludedElig;var excludedModel;var grpItemId;var itemDomainPropSet;var resultPropSet;var itemPropSet;var propValInt=0;var optionId;var selectId;var strRowId;var element;var rowElement;var optionElement;var selectElement;var propSet=CCFMiscUtil_CreatePropSet();propSet.SetType("UpdateExcludedItem");for(bGetFirst=true;childPS=exclItemPS.EnumChildren(bGetFirst);bGetFirst=false){updateType=childPS.GetType();for(bGetFirst2=true;(propName=childPS.EnumProperties(bGetFirst2))!==null;bGetFirst2=false){excluded=excludedElig=excludedModel="";grpItemId=optionId=strRowId="";itemDomainPropSet=null;resultPropSet=null;itemPropSet=null;propValInt=0;propVal=childPS.GetProperty(propName);if(propVal!==null&&propVal!==""){propValInt=parseInt(propVal)}if(objectType==="Attribute"){optionId=strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"ATTRDOMAIN"+_pipe+propName;strRowId=strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"ATTVAL"+_pipe+propName}else{if(objectType==="Port"){optionId=strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"PORTDOMAIN"+_pipe+propName;strRowId=strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"PROD"+_pipe+propName}}if(objectType==="Port"){grpItemId=strParentPath+_underscore+"PORT"+_pipe+id}else{if(objectType==="Attribute"){grpItemId=strParentPath+_underscore+"ATTR"+_pipe+id}}resultPropSet=controlPS.GetChildByType(grpItemId);if(resultPropSet!==null){itemPropSet=resultPropSet.GetChildByType("Domain");itemDomainPropSet=itemPropSet.GetChildByType(propName)}else{itemDomainPropSet=null}var ps=CCFMiscUtil_CreatePropSet();if(itemDomainPropSet!==null){excludedElig=itemDomainPropSet.GetProperty("ExcludedElig");excludedModel=itemDomainPropSet.GetProperty("ExcludedModel");if((excludedModel==="Y"&&(((propValInt&1)>0)||((propValInt&2)>0)))||(excludedElig==="Y"&&((propValInt&4)>0))){excluded="Y"}element=$("#"+jqSelector(optionId));rowElement=$("#"+jqSelector(strRowId));ps.SetType(optionId);if(element.length>0){if(updateType==="Disable"){ps.SetProperty("class","eCfgOptionExcluded");if(excluded==="Y"){if(usage==="CheckBox"||usage==="QuantityList"||usage==="Radio"){ps.SetProperty("hide",strRowId)}else{if(usage==="ComboBox"||usage==="ComboBoxAdd"){ps.SetProperty("remove",optionId)}}}}else{if(updateType==="Enable"){ps.SetProperty("class","eCfgOptionAvailable");if(excludedModel==="Y"){if(usage==="CheckBox"||usage==="QuantityList"||usage==="Radio"){ps.SetProperty("show",strRowId)}else{if(usage==="ComboBox"||usage==="ComboBoxAdd"){ps.SetProperty("show",optionId)}}}}}propSet.AddChild(ps)}else{if(updateType==="Enable"&&excludedModel==="Y"&&(usage==="ComboBox"||usage==="ComboBoxAdd")){if(objectType==="Port"){selectId=strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"DOMAINSELECT";selectElement=$("#"+jqSelector(selectId));childPS.SetProperty("SelectId",selectId);if(selectElement.length>0){optionElement=$("<option id='"+optionId+"' value='GRPITEM"+_pipe+strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"PROD"+_pipe+propName+"' class='eCfgOptionAvailable'></option>");optionElement.appendTo(selectElement);var dispValArray=new Array();if(dispArray!==null&&dispFunction!==null){for(var iLen=0;iLen<dispArray.length;iLen++){var temp="";temp=itemDomainPropSet.GetProperty(dispArray[iLen]);if(temp===null||typeof(temp)==="undefined"){dispValArray[iLen]=""}else{dispValArray[iLen]=temp}}var str=CCFMiscUtil_ArrayToString(dispValArray);str=dispFunction+'.call ( this, "'+str+'");';optionElement.text(eval(str))}else{optionElement.text(itemDomainPropSet.GetProperty("CxObjName"))}}}else{if(objectType==="Attribute"){var attType="";selectId=strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"DOMAINSELECT";selectElement=$("#"+jqSelector(selectId));if(selectElement.length>0){attType=resultPropSet.GetProperty("AttType");
optionElement=$("<option id='"+optionId+"' value='GRPITEM"+_pipe+strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"ATTTYPE"+_pipe+attType+_underscore+"ATTVAL"+_pipe+propName+"' class='eCfgOptionAvailable'></option>");optionElement.appendTo(selectElement);optionElement.text(propName)}}}}}}}}updateExcludedItems.call(this,propSet)}function updateExcludedItemForPortWithPrice(exclItemPS){var dispArray=new Array();dispArray[0]="CxObjName";dispArray[1]="List Price";updateExcludedItemForPortOrAttribute.call(this,exclItemPS,dispArray,"showDomainPrice")}function updateInstanceInfo(id,strProdId,instancePropSet){var controlPS=this.GetPM().Get("ControlPS");var count=instancePropSet.GetPropertyCount();var resultPropSet=controlPS.GetChildByType(id);var domainPropSet=resultPropSet.GetChildByType("Domain");var prodPropSet=domainPropSet.GetChildByType(strProdId);var bGetFirst=true;var propName;var propVal;for(bGetFirst=true;(propName=instancePropSet.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=instancePropSet.GetProperty(propName);prodPropSet.SetProperty(propName,propVal)}}function updatePortItemsForCheckBox(portItemPropSet){updatePortItemsForDomainChildCtrl.call(this,portItemPropSet,"CheckBox");checkForceRefresh.call(this,portItemPropSet,true,true)}function updatePortItemsForComboAdd(portItemPropSet){updatePortItemsForComboAddHelper.call(this,portItemPropSet);checkForceRefresh.call(this,portItemPropSet,true,true)}function updatePortItemsForComboAddAttr(portItemPropSet){updatePortItemsForComboAddHelper.call(this,portItemPropSet);checkForceRefresh.call(this,portItemPropSet,true,false)}function updatePortItemsForComboAddHelper(portItemPropSet){var controlPS=this.GetPM().Get("ControlPS");var addPS=null;var delPS=null;var modPS=null;var fieldName="";var rowId="";var path="";var prodId="";var portId="";var fieldValue="";var instancePropSet=null;var nInstanceCount=0;var portItemCount="0";var strIntId="";var tempPropSet=null;var noQtyCtrl=String(portItemPropSet.GetProperty("NoQtyCtrl"));var colElement=null;var rowElement=null;var tableElement=null;var element=null;var elementId="";var tableId=portItemPropSet.GetType();var comboAddPS=controlPS.GetChildByType(tableId);tableId=tableId.replace(/PORT/,"PORTITEM");portItemCount=(comboAddPS.GetProperty("PortItemCount")==="NaN")?"0":comboAddPS.GetProperty("PortItemCount");addPS=portItemPropSet.GetChildByType("Add");if(addPS!==null){nInstanceCount=addPS.GetChildCount();for(var i=0;i<nInstanceCount;i++){strIntId="";instancePropSet=CCFMiscUtil_CreatePropSet();instancePropSet.Copy(addPS.GetChild(i));strIntId=instancePropSet.GetProperty("Path");instancePropSet.SetType(tableId+_underscore+"INTID"+_pipe+strIntId);controlPS.AddChild(instancePropSet);if(noQtyCtrl==="Y"){instancePropSet.SetProperty("NoQtyCtrl",noQtyCtrl)}addPortItem.call(this,tableId,instancePropSet);if(i===0){tempPropSet=instancePropSet}portItemCount++}}modPS=portItemPropSet.GetChildByType("Modify");if(modPS!==null){nInstanceCount=modPS.GetChildCount();for(var i=0;i<nInstanceCount;i++){var inputObj=null;instancePropSet=CCFMiscUtil_CreatePropSet();instancePropSet.Copy(modPS.GetChild(i));fieldName=path=prodId=portId=fieldValue="";colElement=null;fieldName=instancePropSet.GetProperty("Name");path=instancePropSet.GetProperty("Path");portId=instancePropSet.GetProperty("Port Item Id");fieldValue=instancePropSet.GetProperty("Value");elementId=tableId+_underscore+"INTID"+_pipe+path+_underscore+"FIELD"+_pipe+fieldName;element=$("#"+jqSelector(elementId));if(element.length>0){var inputElement=element.find(":input");if(inputElement.length>0){inputElement.val(fieldValue)}else{element.html(fieldValue)}}}}delPS=portItemPropSet.GetChildByType("Delete");if(delPS!==null){nInstanceCount=delPS.GetChildCount();for(var i=0;i<nInstanceCount;i++){rowId=path=portId="";var index="";instancePropSet=CCFMiscUtil_CreatePropSet();instancePropSet.Copy(delPS.GetChild(i));path=instancePropSet.GetProperty("Path");portId=instancePropSet.GetProperty("Port Item Id");rowId=tableId+_underscore+"INTID"+_pipe+path;deletePortItem.call(this,tableId,rowId);var index=-1;var child_length=controlPS.childArray.length;for(var child_i=0;child_i<child_length;child_i++){var child_ps=controlPS.childArray[child_i];if(child_ps.type===rowId){index=child_i;break}}controlPS.RemoveChild(index);portItemCount--}}comboAddPS.SetProperty("PortItemCount",portItemCount);if(portItemCount>0){var headerElement=$("#"+jqSelector(tableId+_underscore+"FIELDHEADER"));if(headerElement.length===0){element=$("#"+jqSelector(tableId));if(element.length>0){headerElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th"}));if(element.children(".div-table-row").length<=0){headerElement.appendTo(element)}else{headerElement.prependTo(element)}headerElement.attr("id",tableId+_underscore+"FIELDHEADER");var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=tempPropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);displayFieldHeader.call(this,headerElement,fieldListPropSet)}}headerElement.show()}else{headerElement=$("#"+jqSelector(tableId+_underscore+"FIELDHEADER"));if(headerElement.length>0){headerElement.hide()}}}function updatePortItemsForComboAddWithoutQtyCtrl(portItemPropSet){portItemPropSet.SetProperty("NoQtyCtrl","Y");updatePortItemsForComboAdd.call(this,portItemPropSet)}function updatePortItemsForComboBox(portItemPropSet){updatePortItemsForComboBoxHelper.call(this,portItemPropSet);checkForceRefresh.call(this,portItemPropSet,true,true)}function updatePortItemsForComboBoxHelper(portItemPropSet){var controlPS=this.GetPM().Get("ControlPS");var addPS=null;var delPS=null;var modPS=null;var comboPropSet=null;var instancePropSet=null;var bGetFirst=true;var fieldName;var fieldValue;var hasGeneric;var optionId;var strRowId;var strPath;var strPortId;var strProdId;var strGenericsId;var strSpanId;var elementId;var element;var colElement;var rowElement;delPS=portItemPropSet.GetChildByType("Delete");elementId=strSpanId=portItemPropSet.GetType();if(delPS!==null){for(bGetFirst=true;instancePropSet=delPS.EnumChildren(bGetFirst);bGetFirst=false){rowId=strPortId=strProdId=strGenericsId=path=optionId="";optionObj=null;strRowId="";comboPropSet=null;strPortId=instancePropSet.GetProperty("Port Item Id");strProdId=instancePropSet.GetProperty("Product Id");strPath=instancePropSet.GetProperty("Path");hasGeneric=instancePropSet.GetProperty("RequireMoreChild");comboPropSet=controlPS.GetChildByType(elementId);var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=comboPropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);setExcluded.call(this,comboPropSet,strProdId,elementId);optionId=elementId+_underscore+"PORTDOMAIN"+_pipe+"none";element=$("#"+jqSelector(optionId));if(element.length>0){element.attr("selected","selected");element.attr("class","eCfgOptionAvailable")}strGenericsId="GENERICS"+_pipe+path;element=$("#"+jqSelector(strGenericsId));if(element.length>0){element.remove()}strRowId=elementId+_underscore+"COMBOBOX";
rowElement=$("#"+jqSelector(strRowId));if(rowElement.length>0){rowElement.children().slice(1).remove();colElement=$("#"+jqSelector(elementId+_underscore+"COMBOBOX_TD"));addGenerics.call(this,comboPropSet,colElement,strPath,hasGeneric);displayQtyInCombo.call(this,rowElement,comboPropSet.GetType(),fieldListPropSet,null);displayFieldList.call(this,rowElement,_underscore+"COMBOBOX"+_pipe,comboPropSet.GetType(),fieldListPropSet,null)}}}addPS=portItemPropSet.GetChildByType("Add");if(addPS!==null){for(bGetFirst=true;instancePropSet=addPS.EnumChildren(bGetFirst);bGetFirst=false){strPortId=strProdId=optionId="";comboPropSet=null;strPortId=addPS.GetProperty("Port Item Id");strPath=instancePropSet.GetProperty("Path");strProdId=instancePropSet.GetProperty("Product Id");hasGeneric=instancePropSet.GetProperty("RequireMoreChild");updateInstanceInfo.call(this,elementId,strProdId,instancePropSet);comboPropSet=controlPS.GetChildByType(elementId);var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=comboPropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);optionId=elementId+_underscore+"PORTDOMAIN"+_pipe+strProdId;element=$("#"+jqSelector(optionId));if(element.length>0){element.attr("selected","selected")}strRowId=elementId+_underscore+"COMBOBOX";rowElement=$("#"+jqSelector(strRowId));if(rowElement.length>0){rowElement.children().slice(1).remove();colElement=$("#"+jqSelector(elementId+_underscore+"COMBOBOX_TD"));if(colElement.length>0){addGenerics.call(this,comboPropSet,colElement,strPath,hasGeneric)}displayQtyInCombo.call(this,rowElement,comboPropSet.GetType(),fieldListPropSet,instancePropSet);displayFieldList.call(this,rowElement,_underscore+"COMBOBOX"+_pipe,comboPropSet.GetType(),fieldListPropSet,instancePropSet)}}}modPS=portItemPropSet.GetChildByType("Modify");if(modPS!==null){for(bGetFirst=true;instancePropSet=modPS.EnumChildren(bGetFirst);bGetFirst=false){fieldName=strProdId=strPortId=fieldValue="";fieldName=instancePropSet.GetProperty("Name");strProdId=instancePropSet.GetProperty("Product Id");strPortId=instancePropSet.GetProperty("Port Item Id");fieldValue=instancePropSet.GetProperty("Value");colElement=$("#"+jqSelector(elementId+_underscore+"COMBOBOX"+_pipe+strProdId+_underscore+"FIELD"+_pipe+fieldName));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){if(fieldValue==="0"){fieldValue=""}element.val(fieldValue)}else{colElement.html(fieldValue)}}}}}function updatePortItemsForDomainChildCtrl(portItemPropSet,usage){var controlPS=this.GetPM().Get("ControlPS");var addPS=null;var delPS=null;var modPS=null;var resultPropSet=null;var domainPropSet=null;var prodPropSet=null;var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList="";var nInstanceCount;var rowId;var rowType;var strGenericsId;var strIntId;var strPortId;var strProdId;var strSpanId;var strDrilldownId;var elementId;var strRowId;var usage;var selected;var hasGeneric;var fieldName;var fieldValue;var element;var rowElement;var colElement;var controlElement;rowType=_underscore+"PROD"+_pipe;elementId=strSpanId=portItemPropSet.GetType();delPS=portItemPropSet.GetChildByType("Delete");if(delPS!==null){nInstanceCount=delPS.GetChildCount();for(var i=0;i<nInstanceCount;i++){rowId=strPortId=strProdId=strIntId="";instancePropSet=delPS.GetChild(i);strPortId=instancePropSet.GetProperty("Port Item Id");strProdId=instancePropSet.GetProperty("Product Id");strIntId=instancePropSet.GetProperty("Path");rowId=strSpanId+_underscore+"PROD"+_pipe+strProdId;rowElement=$("#"+jqSelector(rowId));colElemnent=null;element=null;if(rowElement.length>0){resultPropSet=controlPS.GetChildByType(elementId);domainPropSet=resultPropSet.GetChildByType("Domain");prodPropSet=domainPropSet.GetChildByType(strProdId);strFieldList=resultPropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);setExcluded.call(this,resultPropSet,strProdId,strSpanId);prodPropSet.RemoveProperty("Path");if(usage==="QuantityList"){colElement=$("#"+jqSelector(rowId+_underscore+"FIELD"+_pipe+"Quantity"));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){element.val("")}}}else{if(usage==="CheckBox"){colElement=$("#"+jqSelector(rowId+_underscore+"FIELD"+_pipe+"Quantity"));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){element.prop("checked",false);element.attr("aria-checked",false)}}}else{if(usage==="Radio"){colElement=$("#"+jqSelector(elementId+_underscore+"PROD"+_pipe+"none"+_underscore+"FIELD"+_pipe+"Quantity"));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){element.prop("checked",true)}}}}}strDrilldownId=strSpanId+_underscore+"PORTDOMAIN"+_pipe+strProdId+_underscore+"CXLINK";element=$("#"+jqSelector(strDrilldownId));if(element.length>0){element.closest("a").replaceWith(element.html())}$("#"+jqSelector(strSpanId+_underscore+"PORTDOMAIN"+_pipe+strProdId)).removeClass("eCfgSpanSelected");if(usage==="Radio"){$("#"+jqSelector(strSpanId+_underscore+"PORTDOMAIN"+_pipe+strProdId)).removeClass("eCfgRadioSelected");$("#"+jqSelector(strSpanId+_underscore+"PORTDOMAIN"+_pipe+strProdId)).addClass("eCfgRadioAvailable")}if(usage==="QuantityList"){$("#"+jqSelector(strSpanId+_underscore+"PORTDOMAIN"+_pipe+strProdId)).addClass("eCfgSpanAvailable")}strGenericsId="GENERICS"+_pipe+strIntId;element=$("#"+jqSelector(strGenericsId));if(element.length>0){element.empty()}deleteFieldList.call(this,rowElement,fieldListPropSet)}}}addPS=portItemPropSet.GetChildByType("Add");if(addPS!==null){strPortId=addPS.GetProperty("Port Item Id");nInstanceCount=addPS.GetChildCount();for(var i=0;i<nInstanceCount;i++){var k=0;var y=0;instancePropSet=null;instancePropSet=addPS.GetChild(i);strProdId=instancePropSet.GetProperty("Product Id");strIntId=instancePropSet.GetProperty("Path");selected=instancePropSet.GetProperty("Selected");hasGeneric=instancePropSet.GetProperty("RequireMoreChild");updateInstanceInfo.call(this,elementId,strProdId,instancePropSet);strRowId=strSpanId+_underscore+"PROD"+_pipe+strProdId;rowElement=$("#"+jqSelector(strRowId));if(rowElement.length>0){resultPropSet=controlPS.GetChildByType(strSpanId);strFieldList=resultPropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);if(usage==="QuantityList"){colElement=$("#"+jqSelector(strRowId+_underscore+"FIELD"+_pipe+"Quantity"));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){element.val(instancePropSet.GetProperty("Quantity"))}}}else{colElement=$("#"+jqSelector(strRowId+_underscore+"FIELD"+_pipe+"Quantity"));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){element.prop("checked",true);element.attr("aria-checked",true)}}}if(instancePropSet.GetProperty("CanDrillDown")==="Y"){strDrilldownId=strSpanId+_underscore+"PORTDOMAIN"+_pipe+strProdId;element=$("#"+jqSelector(strDrilldownId));if(element.length>0){var innerText=element.text();controlElement=$(generateCfgHTMLMarkup({type:"a",id:strDrilldownId+_underscore+"CXLINK"})).append(innerText);
element.html("");controlElement.appendTo(element);var processInputId="GRPITEM"+_pipe+strSpanId+_underscore+"PROD"+_pipe+strProdId;var processInputStr="SetTopObj";var processInputType="linkMethod";controlElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,portItemPropSet.GetType())}}element=$("#"+jqSelector(elementId+_underscore+"PORTDOMAIN"+_pipe+strProdId));if(element.length>0){addGenerics.call(this,resultPropSet,element,strIntId,hasGeneric);element.addClass("eCfgSpanSelected")}displayFieldList.call(this,rowElement,rowType,resultPropSet.GetType(),fieldListPropSet,instancePropSet,true)}}}modPS=portItemPropSet.GetChildByType("Modify");if(modPS!==null){nInstanceCount=modPS.GetChildCount();for(var i=0;i<nInstanceCount;i++){instancePropSet=modPS.GetChild(i);fieldName=strProdId=strPortId=fieldValue="";fieldName=instancePropSet.GetProperty("Name");strProdId=instancePropSet.GetProperty("Product Id");strPortId=instancePropSet.GetProperty("Port Item Id");fieldValue=instancePropSet.GetProperty("Value");colElement=$("#"+jqSelector(elementId+_underscore+"PROD"+_pipe+strProdId+_underscore+"FIELD"+_pipe+fieldName));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){if(usage==="CheckBox"){if(fieldValue==="0"){element.prop("checked",false)}else{element.prop("checked",true)}}else{if(usage==="QuantityList"){if(fieldValue==="0"){fieldValue=""}element.val(fieldValue)}else{if(usage==="Radio"){if(fieldValue==="0"){colElement=$("#"+jqSelector(elementId+rowType+"none"+_underscore+"FIELD"+_pipe+"Quantity"));if(colElement.length>0){element=colElement.find(":input");if(element.length>0){element.prop("checked",true)}}}else{element.prop("checked",true)}}}}}else{colElement.html(fieldValue)}}}}}function updatePortItemsForQuantityList(portItemPropSet){updatePortItemsForDomainChildCtrl.call(this,portItemPropSet,"QuantityList");checkForceRefresh.call(this,portItemPropSet,true,true)}function updatePortItemsForRadio(portItemPropSet){updatePortItemsForDomainChildCtrl.call(this,portItemPropSet,"Radio");checkForceRefresh.call(this,portItemPropSet,true,true)}function updateSelectionInfoForAttribute(selectInfoPropSet){var redStar=generateCfgImageMarkup.call(this,"Required");var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var attName=selectInfoPropSet.GetProperty("AttName");var attValue=selectInfoPropSet.GetProperty("AttValue");var attId=selectInfoPropSet.GetProperty("XA Id");var usage=selectInfoPropSet.GetProperty("Usage");var attValueOld=selectInfoPropSet.GetProperty("AttValueOld");var strParentPath=selectInfoPropSet.GetProperty("Parent Path");var hasGeneric=selectInfoPropSet.GetProperty("RequireMoreChild");var inlineAttElement=$("#"+jqSelector("GENERICS"+_pipe+strParentPath+_underscore+"ATTR"+_pipe+attId));var td=null;var attElement;if(inlineAttElement.length>0){if(hasGeneric==="Y"){inlineAttElement.html(redStar)}else{inlineAttElement.html(whiteImage)}}if(usage==="TextBox"){attElement=$("#"+jqSelector("GRPITEM"+_pipe+strParentPath+_underscore+"ATTR"+_pipe+attId+_underscore+"ATTTYPE"+_pipe+"TEXT"));if(attElement.length>0){attElement.val(attValue)}}else{if(usage.indexOf("Combo")===0){if(attValue!==""&&typeof(attValue)!=="undefined"){attElement=$("#"+jqSelector(strParentPath+_underscore+"ATTR"+_pipe+attId+_underscore+"ATTRDOMAIN"+_pipe+attValue));if(attElement.length>0){attElement.attr("selected","selected")}}}else{if(usage==="Radio"){if(attValue!==""&&typeof(attValue)!=="undefined"){colElement=$("#"+jqSelector(strParentPath+_underscore+"ATTR"+_pipe+attId+_underscore+"ATTVAL"+_pipe+attValue+_underscore+"FIELD"+_pipe+"Input"));if(colElement.length>0){attElement=colElement.find(":input");if(attElement.length>0){attElement.prop("checked",true)}}}if(attValueOld!==""&&typeof(attValueOld)!=="undefined"){colElement=$("#"+jqSelector(strParentPath+_underscore+"ATTR"+_pipe+attId+_underscore+"ATTVAL"+_pipe+attValueOld+_underscore+"FIELD"+_pipe+"Input"));if(colElement.length>0){attElement=colElement.find(":input");if(attElement.length>0){attElement.prop("checked",false)}}}}}}}function updateSignal(sigPropSet){var addPS=null;var delPS=null;var msgPS=null;var bGetFirst=true;var type=sigPropSet.GetType();var propName;var propVal;var elementId;var tableElement;var rowElement;var colElement;addPS=sigPropSet.GetChildByType("Add");if(addPS!==null){tableElement=$("#CfgMsgSig");if(tableElement.length>0){var i=0;for(bGetFirst=true;(propName=addPS.EnumProperties(bGetFirst))!==null;bGetFirst=false,i++){var attrs=(utils.IsTrue(SiebelApp.S_App.IsAutoOn()))?"un='CfgSignal"+i+"' rn='CfgSignal"+i+"' ot='Text'":"";propVal=addPS.GetProperty(propName)===""?propName:addPS.GetProperty(propName);tableElement.append($(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:propVal})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col siebui-ecfg-bullet",attr:attrs})).append(propVal)))}}}delPS=sigPropSet.GetChildByType("Delete");if(delPS!==null){for(bGetFirst=true;(propName=delPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){elementId=propVal=delPS.GetProperty(propName)===""?propName:delPS.GetProperty(propName);if(elementId!==null){rowElement=$("#"+jqSelector(elementId));if(rowElement.length>0){rowElement.remove()}}}}if(tableElement.children().length>0){$("#siebui-ecfg-messages").addClass("siebui-ecfg-messages-highlight")}else{$("#siebui-ecfg-messages").removeClass("siebui-ecfg-messages-highlight")}msgPS=sigPropSet.GetChildByType("Message");if(msgPS!==null&&typeof(msgPS)!=="undefined"){showMessage.call(this,msgPS)}arrangeMsg.call(this)}function setFieldValue(id,fieldName,inputId,path){var controlPS=this.GetPM().Get("ControlPS");var element=$("#"+jqSelector(inputId));var resultPropSet=controlPS.GetChildByType(id);var domainPropSet=resultPropSet.GetChildByType("Domain");if(domainPropSet!==null&&typeof(domainPropSet)!=="undefined"){resultPropSet=domainPropSet}var strParentPath=resultPropSet.GetProperty("Parent Path");var strParentProdId=resultPropSet.GetProperty("Parent Product Id");var fieldValue=element.find(":input").val();var portId=resultPropSet.GetProperty("Port Item Id");var inputPropSet=CCFMiscUtil_CreatePropSet();inputPropSet.SetProperty("Port Item Id",portId);inputPropSet.SetProperty("Path",path);inputPropSet.SetProperty("CfgFieldName",fieldName);inputPropSet.SetProperty("FieldValue",fieldValue);inputPropSet.SetProperty("RequestType","SetFieldValue");inputPropSet.SetProperty("Parent Path",strParentPath);inputPropSet.SetProperty("Parent Product Id",strParentProdId);inputPropSet.SetProperty("Type","CfgFieldList");var strInputArgs=inputPropSet.EncodeAsString();var strInvokeMethod="SubmitRequest_"+strInputArgs;this.GetPM().SetProperty("QEDirtyFlag",true);this.GetPM().ExecuteMethod("SubmitWithFrame",strInvokeMethod,"HiddenFrame")}function _NewHeaderImage(){var newImage=this.GetPM().Get("NewHeaderImage");
var imgId="img_product_header";var imgElement=$("#"+jqSelector(imgId));imgElement.attr("src",newImage)}function _RefreshSpanInnerHTML(){var strHTML=this.GetPM().Get("RefreshSpanInnerHTML");var element=$("div[id$="+jqSelector(this.GetPM().Get("GetName"))+"]");element.empty().append(strHTML)}function _ShowConflict(){var propSet=this.GetPM().Get("ShowConflict");var func=propSet.GetProperty("CfgJSUpdateConflict");func=func+'.call( this, "" );';eval(func)}function _CfgPreShowUI(){var type="Simple";var threads=$("[name=cxThreadObject]");for(var i=0;i<threads.length;i++){var threadElement=threads.eq(i);if(i!==0){threadElement.replaceWith("&gt;&gt;")}}$("[name=cxThreadObject]").remove();if($("[id^=cxGrid]").length>0){type="GridLayout"}else{if($("#cxMenu").length>0){type="Menu"}}switch(type){case"GridLayout":_ShowCfgGTGridLayout.call(this);break;case"Menu":_ShowCfgMenuLayout.call(this);break;case"Summary":default:break}}function _CfgShowUI(){var controlPS=this.GetPM().Get("ControlPS");var templateVariableArray=this.GetPM().Get("TemplateVariables");var childPS=null;var params=$("[name=cxRuntimeParam]");for(var i=params.length;i>0;i--){params.eq(i-1).replaceWith($.trim(params.eq(i-1).text()))}if($("#imageHolder").find("img").attr("src")===""){var newHeaderImage=this.GetPM().Get("NewHeaderImage");if(typeof(newHeaderImage)==="undefined"||newHeaderImage===null||newHeaderImage===""){newHeaderImage="images/hm_pg_subscribe.gif"}$("#imageHolder").find("img").attr("src",newHeaderImage)}var multiLevelChildLists=$("[name=cxMultiLevelChildList]");for(var i=0;i<multiLevelChildLists.length;i++){var list=multiLevelChildLists.eq(i);if(list.find("[name=childlist]").eq(0).children().length>0){list.show()}else{list.remove()}}var multiLevelCollapseCtrls=$(".siebui-ecfg-multilevel-expand-ctrl");for(var i=0;i<multiLevelCollapseCtrls.length;i++){var collapseCtrlElem=multiLevelCollapseCtrls.eq(i);collapseCtrlElem.attr("src",_cfgImageMapping.Collapse["src"]);collapseCtrlElem.bind("click",{ctx:this},function(event){var element=$(event.target).closest(".div-table-row").next();if(element.is(":visible")){element.hide();$(event.target).attr("src",_cfgImageMapping.Expand["src"])}else{element.show();$(event.target).attr("src",_cfgImageMapping.Collapse["src"])}})}var templateVariables=$("[name=cxTemplateVariable]");for(var i=0;i<templateVariables.length;i++){var strName=templateVariables.eq(i).attr("varName");var strValue=templateVariables.eq(i).text();templateVariableArray[strName]=strValue}if(utils.IsTrue(SiebelApp.S_App.IsAutoOn())===true){var linkedItemNames=$("[id=CxLnkItmName]");var linkedItemValues=$("[id=CxLnkItmValue]");for(var i=0;i<linkedItemNames.length;i++){linkedItemNames.eq(i).attr("ot","Label");linkedItemNames.eq(i).attr("rn","CxLnkItmName"+i);linkedItemNames.eq(i).attr("un","CxLnkItmName"+i)}for(var i=0;i<linkedItemValues.length;i++){linkedItemValues.eq(i).attr("ot","Label");linkedItemValues.eq(i).attr("rn","CxLnkItmValue"+i);linkedItemValues.eq(i).attr("un","CxLnkItmValue"+i)}var pricingLabels=$(".siebui-ecfg-bill").find(".siebui-table-td1");for(var i=0;i<pricingLabels.length;i++){pricingLabels.eq(i).attr("ot","Label");pricingLabels.eq(i).attr("rn",pricingLabels.eq(i).html());pricingLabels.eq(i).attr("un",pricingLabels.eq(i).html())}}this.CfgPreShowUI();for(var bGetFirst=true;childPS=controlPS.EnumChildren(bGetFirst);bGetFirst=false){var strShow=childPS.GetProperty("Show");if(typeof(strShow)!=="undefined"){var showMethodName=$.trim(strShow.slice(0,strShow.indexOf("(")));var showMethodParams=$.trim(strShow.slice(strShow.indexOf("(")+1,strShow.lastIndexOf(")")));this.CfgShowControl(showMethodName,showMethodParams)}}var propName="";var propVal="";for(var bGetFirst=true;(propName=controlPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=controlPS.GetProperty(propName);switch(propName){case"SetDeferUpdate":if(propVal==="Y"){this.GetPM().SetProperty("DeferUpdate",true)}break;case"SetQuickEdit":if(propVal==="Y"){this.GetPM().SetProperty("IsQuickEdit",true)}break;case"SetQuickEditButtonID":if(propVal!==""&&this.GetPM().Get("IsQuickEdit")===true){this.GetPM().SetProperty("QEButtonId",propVal)}break;default:break}}if(this.GetPM().Get("IsQuickEdit")===true){var qeButtonId=this.GetPM().Get("QEButtonId");var qeButtonOffText=this.GetPM().Get("QEButtonOffText");var qeButtonOnText=this.GetPM().Get("QEButtonOnText");var buttonElement=$("#"+jqSelector(qeButtonId));if(buttonElement.length>0){if(this.GetPM().Get("EngineState")===false){buttonElement.find(":input").text(qeButtonOnText)}else{buttonElement.find(":input").text(qeButtonOffText)}}}$(".siebui-ecfg-product-details #CfgObjDetails").hide();$("#siebui-ecfg-toggleProdDetails").bind("click",{ctx:this},function(event){setTimeout(function(){toggleProdDetails.call(event.data.ctx)},0)});this.InjectQTPInfo($("#siebui-ecfg-toggleProdDetails"));$("#CfgMsgToggleBtn").bind("click",{ctx:this},function(event){setTimeout(function(){toggleCfgMessages.call(event.data.ctx)},0)});this.InjectQTPInfo($("#CfgMsgToggleBtn"));$("body").css("cursor","default");if(this.GetPM().Get("CfgScrollTop")!==""){$("body").scrollTop(this.GetPM().Get("CfgScrollTop"))}if(this.GetPM().Get("CfgAnchorId")!=""){if(this.GetPM().Get("CfgActiveElement")!==""){var elements=$("[name="+jqSelector(this.GetPM().Get("CfgActiveElement"))+"]");if(elements.length>0){for(var i=0;i<elements.length;i++){var input=elements.eq(i);if(((input.attr("type")==="radio"||input.attr("type")==="checkbox")&&input.attr("checked")==="checked")||(input.attr("type")==="text")){input.focus()}}}else{elements=$("[id="+jqSelector(this.GetPM().Get("CfgActiveElement"))+"]");elements.eq(0).focus()}}}this.GetPM().SetProperty("CfgAnchorId","");this.GetPM().SetProperty("CfgActiveElement","");var showHideProdInfo=$("#siebui-ecfg-toggle-prod-info");if((showHideProdInfo.length!==0)&&($("#siebui-ecfg-toggle-btn").length===0)){showHideProdInfo.append(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({id:"siebui-ecfg-toggle-btn",type:consts.get("SWE_PST_BUTTON_CTRL"),className:"siebui-icon-toggle"}))}}function _ShowExplanation(){var propSet=this.GetPM().Get("ShowExplanation");var clearExpl="";var explPropSet;var explSpanElement;var iMsgCount;var innerHTML;var element;clearExpl=propSet.GetProperty("ClearExplanation");explPropSet=propSet.GetChildByType("Explanations");if(explPropSet!==null){iMsgCount=explPropSet.GetPropertyCount();innerHTML="";explSpanElement=$("#CfgExplanationSpan");if(explSpanElement.length>0){explSpanElement.find("tbody").empty();for(var i=0;i<iMsgCount;i++){var attrs=(utils.IsTrue(SiebelApp.S_App.IsAutoOn()))?"un='CfgExplanation"+i+"' rn='CfgExplanation"+i+"' ot='Text'":"";innerHTML=$(generateCfgHTMLMarkup({type:"tr",className:"listRowOff"})).append($(generateCfgHTMLMarkup({type:"td",className:"Row",attr:attrs})).append(explPropSet.GetProperty("Expl"+i)));explSpanElement.append(innerHTML)}}toggleExplanationPage.call(this,true)}else{if(clearExpl==="Y"){toggleExplanationPage.call(this,false)}}}function _ShowMessage(){var strPS=this.GetPM().Get("ShowMessage");
var ps=CCFMiscUtil_CreatePropSet();ps.DecodeFromString(strPS);showMessage.call(this,ps);arrangeMsg.call(this)}function _UpdateCanInvoke(){var propSet=this.GetPM().Get("UpdateCanInvoke");var addPS=null;var bGetFirst=true;var dispValue="";var j=0;var method="";var nPropertyCount=0;var spanId="";var spanObj=null;var propName="";var propVal="";var elemId="";var element=null;for(bGetFirst=true;(propName=propSet.EnumProperties(bGetFirst))!==null;bGetFirst=false){dispValue="";method="";element=null;elemId=propName;if(elemId!==""){var linkId=elemId+_underscore+"LINK";var linkElement=$("#"+jqSelector(linkId));method=propSet.GetProperty(propName);if(linkElement.attr("type")==="button"){if(method!==""){linkElement.removeAttr("disabled");linkElement.attr("class","appletButton")}else{linkElement.attr("disabled","disabled");linkElement.attr("class","appletButtonDis")}}else{if(method!==""){var linkId="";var linkHTML="";element=$("#"+jqSelector(elemId));if(element.length>0){dispValue=element.html();linkId=elemId+_underscore+"LINK";var controlElement=$(generateCfgHTMLMarkup({type:"a",id:linkId})).append(dispValue);controlElement.appendTo(element);var processInputId=spanId;var processInputStr=method;var processInputType="linkMethod";controlElement.bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(element,elemId);if(element.attr("class")==="minibuttonOff"){element.attr("class","minibuttonOn")}}}else{element=$("#"+jqSelector(elemId+_underscore+"LINK"));if(element.length>0){element.remove()}element=$("#"+jqSelector(elemId));if(element.attr("class")==="minibuttonOn"){element.attr("class","minibuttonOff")}}}}}}function _UpdateExcludedItems(){var propSet=this.GetPM().Get("UpdateExcludedItems");var bGetFirst=true;var exclItemPS=null;var updateExclusion="";var updateFunction="";for(bGetFirst=true;exclItemPS=propSet.EnumChildren(bGetFirst);bGetFirst=false){updateFunction=updateExclusion="";updateExclusion=exclItemPS.GetProperty("CfgJSUpdateExclusion");if(updateExclusion!==""){updateFunction=updateExclusion+".call( this, exclItemPS );";eval(updateFunction)}}}function _UpdateGenerics(){var propSet=this.GetPM().Get("UpdateGenerics");var redStar=generateCfgImageMarkup.call(this,"Required");var whiteImatge=generateCfgImageMarkup.call(this,"WhiteSpace");var blackBullet=this.GetPM().Get("TemplateVariables")["_blackBullet"];var addPS=null;var addPSChildren=null;var delPS=null;var delPSChildren=null;var bGetFirst=true;var propName;var propVal;var element;addPS=propSet.GetChildByType("Add");if(addPS!==null){for(bGetFirst=true;(propName=addPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=addPS.GetProperty(propName);if(propVal!==null){element=$("#"+jqSelector(propName));if(element.length>0){element.html(redStar)}}}}delPS=propSet.GetChildByType("Delete");if(delPS!==null){for(bGetFirst=true;(propName=delPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=delPS.GetProperty(propName);if(propVal!==null){element=$("#"+jqSelector(propName));if(element.length>0){element.html(whiteImatge)}}}}addPSChildren=propSet.GetChildByType("AddChildren");if(addPSChildren!==null){for(bGetFirst=true;(propName=addPSChildren.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=addPSChildren.GetProperty(propName);if(propVal!==null){element=$("#MENUBUTTON_"+jqSelector(propName));if(element.length>0){if(typeof(blackBullet)!=="undefined"&&blackBullet!==""){element.find("img").replaceWith(blackBullet)}else{element.find("img").replaceWith(redStar)}}}}}delPSChildren=propSet.GetChildByType("DeleteChildren");if(delPSChildren!==null){for(bGetFirst=true;(propName=delPSChildren.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=delPSChildren.GetProperty(propName);if(propVal!==null){element=$("#MENUBUTTON_"+jqSelector(propName));if(element.length>0){element.html(redStar)}}}}}function _UpdateQuickEdit(){var pm=this.GetPM();var qeButtonId=pm.Get("QEButtonId");var qeButtonOffText=pm.Get("QEButtonOffText");var qeButtonOnText=pm.Get("QEButtonOnText");var isQuickEdit=pm.Get("IsQuickEdit");var engineState=pm.Get("EngineState");var buttonText="";var buttonElement=$("#"+jqSelector(qeButtonId));if(buttonElement.length==0){return}buttonText=buttonElement.text();if(engineState===false){buttonElement.find(":input").text(qeButtonOffText);pm.SetProperty("QEDirtyFlag",false);pm.SetProperty("EngineState",true)}else{buttonElement.find(":input").text(qeButtonOnText);pm.SetProperty("EngineState",false)}}function _UpdateResources(){var propSet=this.GetPM().Get("UpdateResources");var bGetFirst=true;var propName;var propVal;var element;for(bGetFirst=true;(propName=propSet.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=propSet.GetProperty(propName);if(propVal!==null){element=$("#GRPITEM"+jqSelector(_pipe+propName));if(element.length>0){element.html(propVal)}}}}function _UpdateRootProdInfo(){var propSet=this.GetPM().Get("UpdateRootProdInfo");var bGetFirst=true;var propName;var propVal;var element;for(bGetFirst=true;(propName=propSet.EnumProperties(bGetFirst))!==null;bGetFirst=false){propVal=propSet.GetProperty(propName);if(propVal!==null){element=$("#"+jqSelector("GRPITEM"+_pipe+propName));if(element.length>0){element.html(propVal)}if(propName==="Top RequireMoreChild"){this.GetPM().SetProperty("TopRequireMoreChild",propVal)}}}}function _UpdateSelectionInfo(){var propSet=this.GetPM().Get("UpdateSelectionInfo");var selectionInfoPS;for(var bGetFirst=true;selectionInfoPS=propSet.EnumChildren(bGetFirst);bGetFirst=false){var updateFunction=selectionInfoPS.GetProperty("CfgJSUpdateSelection");if(updateFunction!==""){updateFunction=updateFunction+".call ( this, selectionInfoPS );";eval(updateFunction)}}}function _UpdateSelectionInfoForAttribute(selectInfoPropSet){var selectInfoPropSet=this.GetPM().Get("UpdateSelectionInfoForAttribute");updateSelectionInfoForAttribute.call(this,selectInfoPropSet)}function _UpdateSignal(){var propSet=this.GetPM().Get("UpdateSignal");var nChildCount=propSet.GetChildCount();var sigPropSet=null;var updateFunction="";var updateSig="";for(var i=0;i<nChildCount;i++){sigPropSet=null;sigPropSet=propSet.GetChild(i);if(sigPropSet!==null){updateFunction=updateSig="";updateSig=sigPropSet.GetProperty("CfgJSUpdateSignal");if(updateSig!==""){updateFunction=updateSig+".call( this, sigPropSet );";eval(updateFunction)}}}}function showPortItemsWithAttr(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var instancePropSet=controlPS.GetChildByType(grpItemId);if(instancePropSet){var pmObj=this.GetPM(),controlPS=pmObj.Get("ControlPS"),grandChildAttrArray=pmObj.Get("GrandChildAttrArray"),grandChildAttrRowIdArray=pmObj.Get("GrandChildAttrRowIdArray"),intId=instancePropSet.GetProperty("Path"),tableId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORTITEM"+_pipe+instancePropSet.GetProperty("Port Item Id"),attDispName=null,rowId="",trObj=null,tdObj=null,element,colElement,rowElement;
showPortItems.call(this,grpItemId);rowElement=$("#"+jqSelector(tableId+_underscore+"FIELDHEADER"));attDispName=grandChildAttrArray[instancePropSet.GetProperty("Port Item Id")];if(attDispName!==null&&typeof(attDispName)!=="undefined"){for(var i=0;i<attDispName.length;i++){colElement=$("#"+jqSelector(tableId+_underscore+attDispName[i]));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",id:tableId+_underscore+attDispName[i]})).append($(generateCfgHTMLMarkup({type:"span",className:"siebui-ecfg-header"})).append(attDispName[i]));colElement.appendTo(rowElement)}}}rowId=tableId+_underscore+"INTID"+_pipe+intId;grandChildAttrArray[intId]=grandChildAttrRowIdArray[intId]=rowId;rowElement=$("#"+jqSelector(rowId));if(rowElement.length>0){if(attDispName!==null&&typeof(attDispName)!=="undefined"){for(var i=0;i<attDispName.length;i++){var attDispNameId=attDispName[i].replace(/\"/g,"&quot;");colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(generateCfgHTMLMarkup({type:"span",id:rowId+_underscore+attDispNameId}));colElement.appendTo(rowElement)}}}}}function showTextBoxAttr(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var grandChildAttrRowIdArray=this.GetPM().Get("GrandChildAttrRowIdArray");var redStar=generateCfgImageMarkup.call(this,"Required");var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var textBoxPropSet=controlPS.GetChildByType(grpItemId);var attDispName=textBoxPropSet.GetProperty("Attribute Display Name");var parentPath=textBoxPropSet.GetProperty("Parent Path");var hasGeneric=textBoxPropSet.GetProperty("RequireMoreChild");var image="";var origSpanElement=$("#"+jqSelector(grpItemId));if(origSpanElement.length>0){origSpanElement.remove()}var newSpanElement=$("#"+jqSelector(grandChildAttrRowIdArray[parentPath]+_underscore+attDispName));newSpanElement.attr("id",grpItemId);showTextBox.call(this,grpItemId);if(hasGeneric==="Y"){image=redStar}else{image=whiteImage}var element=$(generateCfgHTMLMarkup({type:"span",id:"GENERICS"+_pipe+grpItemId})).append(image);element.appendTo(newSpanElement)}function showComboAttr(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var grandChildAttrRowIdArray=this.GetPM().Get("GrandChildAttrRowIdArray");var redStar=generateCfgImageMarkup.call(this,"Required");var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var comboPropSet=controlPS.GetChildByType(grpItemId);var parentPath=comboPropSet.GetProperty("Parent Path");var attDispName=comboPropSet.GetProperty("Attribute Display Name");var hasGeneric=comboPropSet.GetProperty("RequireMoreChild");var image="";var html="";var origSpanElement=$("#"+jqSelector("SPAN_"+grpItemId));if(origSpanElement.length>0){origSpanElement.remove()}var newSpanElement=$("#"+jqSelector(grandChildAttrRowIdArray[parentPath]+_underscore+attDispName));newSpanElement.attr("id","SPAN_"+grpItemId);showCombo.call(this,grpItemId);if(hasGeneric==="Y"){image=redStar}else{image=whiteImage}var spanGeneric=$(generateCfgHTMLMarkup({type:"span",id:"GENERICS"+_pipe+grpItemId})).append(image);newSpanElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table"})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-row"})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(newSpanElement.html())).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(spanGeneric)))}function showRadioAttr(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var grandChildAttrRowIdArray=this.GetPM().Get("GrandChildAttrRowIdArray");var redStar=generateCfgImageMarkup.call(this,"Required");var whiteImage=generateCfgImageMarkup.call(this,"WhiteSpace");var radioPropSet=controlPS.GetChildByType(grpItemId);var parentPath=radioPropSet.GetProperty("Parent Path");var attDispName=radioPropSet.GetProperty("Attribute Display Name");var hasGeneric=radioPropSet.GetProperty("RequireMoreChild");var image="";var html="";var origSpanElement=$("#"+jqSelector("SPAN_"+grpItemId));if(origSpanElement.length>0){origSpanElement.remove()}var newSpanElement=$("#"+jqSelector(grandChildAttrRowIdArray[parentPath]+_underscore+attDispName));newSpanElement.attr("id","SPAN_"+grpItemId);showRadio.call(this,grpItemId);if(hasGeneric==="Y"){image=redStar}else{image=whiteImage}var spanGeneric=$(generateCfgHTMLMarkup({type:"span",id:"GENERICS"+_pipe+grpItemId})).append(image);newSpanElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table"})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-row"})).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(newSpanElement.html())).append($(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(spanGeneric)))}function applicantShowSelectAndOptions(tableId){applicantShowSelectAndOptionsHelper.call(this,tableId,null,null)}function applicantShowSelectAndOptionsHelper(tableId,dispArray,dispFunction){var controlPS=this.GetPM().Get("ControlPS");var element;var tableElement;var rowElement;var colElement1;var colElement2;var colElement3;var bGetFirst=true;var portPropSet=null;var resultPropSet=null;var inputId="";var optionId="";var portItemId="";var selectId="";var simpleSelectId="";var inputHTML="";var portDomainPropSet=null;var portItemSpanId="";var i=0;var simpleSelectHTML="";var buttonElement=null;element=$("#"+jqSelector("SPAN_"+tableId));tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:tableId}));tableElement.appendTo(element);resultPropSet=controlPS.GetChildByType(tableId);resultPropSet.SetProperty("PortItemCount","0");rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));rowElement.appendTo(tableElement);rowElement.hide();colElement1=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement1.appendTo(rowElement);colElement1=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement1.appendTo(rowElement);portPropSet=resultPropSet.GetChildByType("Domain");portItemId=portPropSet.GetProperty("Port Item Id");optionId=tableId+_underscore+"PORTDOMAIN"+_pipe+"none";selectId=tableId+_underscore+"DOMAINSELECT";simpleSelectId="SIMPLE"+selectId;var selectConfig={id:selectId,options:[]};for(bGetFirst=true;portDomainPropSet=portPropSet.EnumChildren(bGetFirst);bGetFirst=false){var className="";var displayName="";var dispValArray=new Array();var enable="";var excluded="";var prodId="";portItemId="";optionId="";enable=portDomainPropSet.GetProperty("CxEnabled");excluded=portDomainPropSet.GetProperty("Excluded");prodId=portDomainPropSet.GetProperty("Product Id");portItemId=portDomainPropSet.GetProperty("Port Item Id");optionId=tableId+_underscore+"PORTDOMAIN"+_pipe+prodId;if(enable==="Y"){className="eCfgOptionAvailable"}else{className="eCfgOptionExcluded"}if(dispArray!==null&&dispFunction!==null){for(var iLen=0;iLen<dispArray.length;iLen++){var temp="";temp=portDomainPropSet.GetProperty(dispArray[iLen]);if(temp===null||typeof(temp)==="undefined"){dispValArray[iLen]=""
}else{dispValArray[iLen]=temp}}var str=CCFMiscUtil_ArrayToString(dispValArray);str=str.replace(/\"/g,'\\"');str=dispFunction+'.call( this, "'+str+'");';displayName=eval(str)}else{displayName=portDomainPropSet.GetProperty("CxObjName")}if(excluded!=="Y"||enable==="Y"){selectConfig.options.push({id:tableId+_underscore+"PORTDOMAIN"+_pipe+prodId,value:"GRPITEM"+_pipe+tableId+_underscore+"PROD"+_pipe+prodId,className:((enable==="Y")?"eCfgOptionAvailable":"eCfgOptionExcluded"),displayValue:displayName})}if((displayName==="Applicant")||(displayName==="Applicant 1")){simpleSelectHTML=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),className:"hidden",id:simpleSelectId,value:"GRPITEM"+_pipe+tableId+_underscore+"PROD"+_pipe+prodId})}}$(generateCfgSelectHTMLMarkup(selectConfig)).appendTo(colElement1);this.InjectQTPInfo(colElement1.find("select"),tableId);inputId=tableId+_underscore+"DOMAININPUT";inputHTML=generateCfgOuterHTML($(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),className:"hidden",id:inputId})).append(simpleSelectHTML));buttonElement=$(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_PST_BUTTON_CTRL"),value:this.GetPM().ExecuteMethod("GetTemplateVarValue","sAddItemLabel"),attrs:"title='"+this.GetPM().ExecuteMethod("GetTemplateVarValue","sAddItemLabel")+"' "}));rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));rowElement.appendTo(tableElement);colElement3=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement3.appendTo(rowElement);colElement1=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement1.appendTo(rowElement);colElement2=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement2.appendTo(rowElement);element=$(inputHTML);element.appendTo(colElement2);buttonElement.appendTo(colElement3);buttonElement.bind("click",{ctx:this,ctrlId:inputId,ctrlStr:selectId,ctrlType:"SimpleAdd"},function(event){setTimeout(function(){applicantProcessInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(element,tableId);portItemSpanId=tableId.replace(/PORT/,"PORTITEM");element=$("#"+jqSelector("SPAN_"+portItemSpanId));if(element.length>0){tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table"}));tableElement.appendTo(element);rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row"}));rowElement.appendTo(tableElement);colElement1=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"}));colElement1.appendTo(rowElement);colElement1.html(generateCfgHTMLMarkup({type:"div",className:"div-table",id:portItemSpanId}))}}function applicantProcessInput(id,str,type){var deferUpdate=this.GetPM().Get("DeferUpdate");var element;var idInfo=null;switch(type){case"SimpleAdd":quantity=1;element=$("#"+jqSelector(str));idInfo=getIdInfo(element.val());tableId=idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT;element=$("#"+jqSelector(tableId+_underscore+"PORTDOMAIN"+_pipe+"none"));if(element.length>0){element.attr("selected","selected")}if(idInfo.PROD!=="none"){this.GetPM().ExecuteMethod("AddItemMin","Y",tableId,idInfo.PROD,quantity);if(deferUpdate){this.GetPM().ExecuteMethod("ProcessInteractPropSet")}}break;case"RemoveApplicant":idInfo=getIdInfo(str);var grpItemId=idInfo.GRPITEM+_underscore+"PORTITEM"+_pipe+idInfo.PORTITEM+_underscore+"INTID"+_pipe+idInfo.INTID;this.GetPM().ExecuteMethod("SetItemQuantity",grpItemId,idInfo.INTID,0);break;default:processInput.call(this,id,str,type)}}function applicantShowPortItems(rowId){var controlPS=this.GetPM().Get("ControlPS");var comboAddId="";var tableId="";var portItemCount=0;var instancePropSet=controlPS.GetChildByType(rowId);var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=instancePropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);var tableElement;var rowElement;var i=0;var j=0;tableId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORTITEM"+_pipe+instancePropSet.GetProperty("Port Item Id");comboAddId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORT"+_pipe+instancePropSet.GetProperty("Port Item Id");tableElement=$("#"+jqSelector(tableId));comboAddPS=controlPS.GetChildByType(comboAddId);portItemCount=(comboAddPS.GetProperty("PortItemCount")==="NaN")?"0":comboAddPS.GetProperty("PortItemCount").toString();if(portItemCount==="0"){rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th",id:tableId+_underscore+"FIELDHEADER"}));rowElement.appendTo(tableElement);displayFieldHeader.call(this,rowElement,fieldListPropSet)}portItemCount++;comboAddPS.SetProperty("PortItemCount",portItemCount);applicantAddPortItem.call(this,tableId,instancePropSet)}function applicantAddPortItem(tableId,instancePropSet){var deleteIcon=generateCfgImageMarkup.call(this,"Delete");var description="";var hasGeneric="";var intId="";var prodId="";var quantity=0;var tableElement;var rowElement;var colElement;tableElement=$("#"+jqSelector(tableId));if(tableElement.length===0){return}var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=instancePropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);prodId=instancePropSet.GetProperty("Product Id");intId=instancePropSet.GetProperty("Path");quantity=instancePropSet.GetProperty("Quantity");hasGeneric=instancePropSet.GetProperty("RequireMoreChild");description=instancePropSet.GetProperty("Description");rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:tableId+_underscore+"INTID"+_pipe+intId,}));rowElement.appendTo(tableElement);inputValue=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_TEXT"),className:"hidden",value:quantity});createNewField.call(this,rowElement,tableId,_underscore+"INTID"+_pipe,intId,"","Quantity",inputValue,fieldListPropSet);var colId=tableId+_underscore+"INTID"+_pipe+intId+_underscore+"FIELD"+_pipe+"Quantity";var processInputId=colId;var processInputStr="GRPITEM"+_pipe+tableId+_underscore+"INTID"+_pipe+intId;var colElement=$("#"+jqSelector(colId));if(colElement.length>0){var controlElement=colElement.find(":input");controlElement.bind("change",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:"portitem"},function(event){setTimeout(function(){processInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo(controlElement,tableId+_underscore+"INTID"+_pipe+intId)}displayFieldList.call(this,rowElement,_underscore+"INTID"+_pipe,instancePropSet.GetType(),fieldListPropSet,instancePropSet,"N");inputValue=generateCfgOuterHTML($(generateCfgHTMLMarkup({type:"a"})).append(deleteIcon));createNewField.call(this,rowElement,tableId,_underscore+"INTID"+_pipe,intId,"","Remove",inputValue,fieldListPropSet);var processInputId=tableId+_underscore+"INTID"+_pipe+intId+_underscore+"FIELD"+_pipe+"Remove";var processInputStr="GRPITEM"+_pipe+tableId+_underscore+"INTID"+_pipe+intId;
var processInputType="RemoveApplicant";var colId=tableId+_underscore+"INTID"+_pipe+intId+_underscore+"FIELD"+_pipe+"Remove";$("#"+jqSelector(colId)).find("a").bind("click",{ctx:this,ctrlId:processInputId,ctrlStr:processInputStr,ctrlType:processInputType},function(event){setTimeout(function(){applicantProcessInput.call(event.data.ctx,event.data.ctrlId,event.data.ctrlStr,event.data.ctrlType)},0)});this.InjectQTPInfo($("#"+jqSelector(colId)).find("a"),tableId)}function applicantShowPortItemsWithAttr(grpItemId){var controlPS=this.GetPM().Get("ControlPS");var grandChildAttrArray=this.GetPM().Get("GrandChildAttrArray");var grandChildAttrRowIdArray=this.GetPM().Get("GrandChildAttrRowIdArray");var instancePropSet=controlPS.GetChildByType(grpItemId);if(instancePropSet===null||typeof(instancePropSet)==="undefined"){return}var intId=instancePropSet.GetProperty("Path");var tableId=instancePropSet.GetProperty("Parent Path")+_underscore+"PORTITEM"+_pipe+instancePropSet.GetProperty("Port Item Id");var attDispName="";var rowId="";var element;var rowElement;var colElement;applicantShowPortItems.call(this,grpItemId);rowElement=$("#"+jqSelector(tableId+_underscore+"FIELDHEADER"));attDispName=grandChildAttrArray[instancePropSet.GetProperty("Port Item Id")];if(attDispName!==null&&typeof(attDispName)!=="undefined"){for(var i=0;i<attDispName.length;i++){colElement=$("#"+jqSelector(tableId+_underscore+attDispName[i]));if(colElement.length===0){colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",id:tableId+_underscore+attDispName[i]})).append($(generateCfgHTMLMarkup({type:"span",className:"siebui-ecfg-header siebui-ecfg-domain-header"})).append(attDispName[i]));colElement.insertBefore(rowElement.children().last())}}}rowId=tableId+_underscore+"INTID"+_pipe+intId;grandChildAttrRowIdArray[intId]=rowId;rowElement=$("#"+jqSelector(rowId));if(rowElement.length>0){if(attDispName!==null&&typeof(attDispName)!=="undefined"){for(var i=0;i<attDispName.length;i++){var attDispNameId=attDispName[i].replace(/\"/g,"&quot;");colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(generateCfgHTMLMarkup({type:"span",id:rowId+_underscore+attDispNameId}));colElement.insertBefore(rowElement.children().last())}}}}function applicantUpdatePortItemsForComboAdd(portItemPropSet){applicantUpdatePortItemsForComboAddHelper.call(this,portItemPropSet);checkForceRefresh.call(this,portItemPropSet,true,true)}function applicantUpdatePortItemsForComboAddAttr(portItemPropSet){applicantUpdatePortItemsForComboAddHelper.call(this,portItemPropSet);checkForceRefresh.call(this,portItemPropSet,true,false)}function applicantUpdatePortItemsForComboAddHelper(portItemPropSet){var controlPS=this.GetPM().Get("ControlPS");var addPS=null;var childPS=null;var comboAddPS=null;var delPS=null;var bGetFirst=true;var portItemCount=0;var fieldName="";var fieldValue="";var path="";var portId="";var prodId="";var rowId="";var fieldHeader=null;var instancePropSet=null;var j=0;var modPS=null;var strIntId="";var tableId="";var tempPropSet=null;var tableElement;var colElement;tableId=portItemPropSet.GetType();comboAddPS=controlPS.GetChildByType(tableId);tableId=tableId.replace(/PORT/,"PORTITEM");portItemCount=(comboAddPS.GetProperty("PortItemCount")==="NaN")?"0":comboAddPS.GetProperty("PortItemCount").toString();addPS=portItemPropSet.GetChildByType("Add");if(addPS!==null){for(bGetFirst=true;instancePropSet=addPS.EnumChildren(bGetFirst);bGetFirst=false){strIntId=instancePropSet.GetProperty("Path");instancePropSet.SetType(tableId+_underscore+"INTID"+_pipe+strIntId);controlPS.AddChild(instancePropSet);applicantAddPortItem.call(this,tableId,instancePropSet);if(bGetFirst===true){tempPropSet=instancePropSet}portItemCount++}}modPS=portItemPropSet.GetChildByType("Modify");if(modPS!==null){for(bGetFirst=true;instancePropSet=modPS.EnumChildren(bGetFirst);bGetFirst=false){var inputObj=null;fieldName=instancePropSet.GetProperty("Name");path=instancePropSet.GetProperty("Path");portId=instancePropSet.GetProperty("Port Item Id");fieldValue=instancePropSet.GetProperty("Value");colElement=$("#"+jqSelector(tableId+_underscore+"INTID"+_pipe+path+_underscore+"FIELD"+_pipe+fieldName));if(colElement.length>0){var element=colElement.find(":input");if(element.length>0){element.val(fieldValue)}else{colElement.html(fieldValue)}}}}delPS=portItemPropSet.GetChildByType("Delete");if(delPS!==null){for(bGetFirst=true;instancePropSet=delPS.EnumChildren(bGetFirst);bGetFirst=false){rowId=path=portId="";var index="";path=instancePropSet.GetProperty("Path");portId=instancePropSet.GetProperty("Port Item Id");rowId=tableId+_underscore+"INTID"+_pipe+path;deletePortItem.call(this,tableId,rowId);var index=-1;var child_length=controlPS.childArray.length;for(var child_i=0;child_i<child_length;child_i++){var child_ps=controlPS.childArray[child_i];if(child_ps.type===rowId){index=child_i;break}}controlPS.RemoveChild(index);portItemCount--}}comboAddPS.SetProperty("PortItemCount",portItemCount);if(portItemCount>0){fieldHeader=$("#"+jqSelector(tableId+_underscore+"FIELDHEADER"));if(fieldHeader.length===0){tableElement=$("#"+jqSelector(tableId));if(tableElement.length>0){fieldHeader=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row siebui-ecfg-th",id:tableId+_underscore+"FIELDHEADER"}));if(tableElement.children().size()===0){}else{fieldHeader.prependTo(tableElement)}var fieldListPropSet=CCFMiscUtil_CreatePropSet();var strFieldList=tempPropSet.GetProperty("FieldList");fieldListPropSet.DecodeFromString(strFieldList);displayFieldHeader.call(this,fieldHeader,fieldListPropSet)}}fieldHeader.show()}else{fieldHeader=$("#"+jqSelector(tableId+_underscore+"FIELDHEADER"));if(fieldHeader.length>0){fieldHeader.hide()}}}function _ShowCfgGTGridLayout(){if($("[id^=cxGrid]").length===0){return}var iRowStart=1;var iColStart=1;var iRowEnd=1;var iColEnd=1;var iRowSpan=1;var iColSpan=1;var iCurRow=1;var iCurCol=0;var bCorrectUIPropSyntax=true;var FilledGridMap=new Array();var iRelatedCtrl=0;var strCellHTML="";var iNumofCol=($("#cxGridNumofCol").length===0)?0:parseInt($("#cxGridNumofCol").html());var gridMap=new Array();var groups=$("[id=eCfgGroupGridLayoutJS_OUI_Canvas]").closest("[id=cxStd]");for(var g=0;g<groups.length;g++){var groupElement=groups.eq(g);var gridChildParamsMap=groupElement.find("[id=cxGridChildParams]");for(var i=0;i<gridChildParamsMap.length;i++){var gridChildParams=gridChildParamsMap[i];var gridInfo=new Array();var strChildId=$(gridChildParams).children("[id=cxChildId]").html();var sGridBegin=$(gridChildParams).children("[id=cxGridBegin]").html();var sGridEnd=$(gridChildParams).children("[id=cxGridEnd]").html();var sCellClass=$(gridChildParams).children("[id=cxCellClass]").html();var sRelatedCtrl=$(gridChildParams).children("[id=cxRelatedCtrl]").html();gridInfo.ChildId=strChildId;gridInfo.GridBegin=sGridBegin;gridInfo.GridEnd=sGridEnd;gridInfo.CellClass=sCellClass;gridInfo.RelatedCtrl=sRelatedCtrl;gridMap.push(gridInfo)}for(var i=0;i<gridMap.length;i++){var gridInfo=gridMap[i];
var strChildId=gridInfo.ChildId;var sGridBegin=gridInfo.GridBegin;var sGridEnd=gridInfo.GridEnd;var sCellClass=gridInfo.CellClass;var sRelatedCtrl=gridInfo.RelatedCtrl;var bFirstRelatedCtrl=false;var iTmpRelatedCtrl=parseInt(sRelatedCtrl);if(iRelatedCtrl===0&&(isNaN(iTmpRelatedCtrl)===false&&iTmpRelatedCtrl>1)){bFirstRelatedCtrl=true;iRelatedCtrl=iTmpRelatedCtrl}if(bFirstRelatedCtrl||iRelatedCtrl===0){bCorrectUIPropSyntax=ParseGridUIProp.call(this,sGridBegin,sGridEnd);DecideCtrlLocation.call(this);strCellHTML+=FillInEmptyCell.call(this,iRowStart,iColStart)}strCellHTML+=PopulateTD.call(this,iRowSpan,iColSpan,sCellClass);if(bFirstRelatedCtrl||iRelatedCtrl===0){UpdateGridMap.call(this)}if(iRelatedCtrl>0){if(bFirstRelatedCtrl){strCellHTML+="<div class='div-table'>"}strCellHTML+="<div class='div-table-row'><div class='div-table-col'>"}if(iRelatedCtrl>0){strCellHTML+="</div></div>";if(iRelatedCtrl===1){strCellHTML+="</div></div>"}iRelatedCtrl--}else{strCellHTML+="</div>"}}if(iCurRow<=FilledGridMap.length){strCellHTML+=FillInEmptyCell.call(this,FilledGridMap.length,iNumofCol+1)}var htmlStr=generateCfgOuterHTML($(generateCfgHTMLMarkup({type:"div",className:"div-table-row"})).append(strCellHTML));groupElement.find("[id=eCfgGroupGridLayoutJS_OUI_Canvas]").replaceWith("<div class='div-table-row'>"+strCellHTML+"</div>");var bufferChildren=groupElement.find("[id^=eCfgGroupGridLayoutJS_OUI_Child]");var cellElements=groupElement.find("[id^=eCfgGroupGridLayoutJS_OUI_Cell]");for(var i=0;i<bufferChildren.length;i++){cellElements.eq(i).replaceWith(bufferChildren.eq(i).html())}groupElement.find("[id=eCfgGroupGridLayoutJS_OUI_Buffer]").remove()}var gridPortParamMap=$("[id=cxGridPortParams]");var grandChildAttrArray=this.GetPM().Get("GrandChildAttrArray");for(var i=0;i<gridPortParamMap.length;i++){var gridPortParams=gridPortParamMap[i];var gridPortId=$(gridPortParams).children("[id=cxGridPortId]").html();var attArray=grandChildAttrArray[gridPortId];if(attArray===null||typeof(attArray)==="undefined"){grandChildAttrArray[gridPortId]=new Array()}var gridAttributeParamMap=$(gridPortParams).parent().children("[id=cxGridAttributeParams]");for(var j=0;j<gridAttributeParamMap.length;j++){var gridAttributeParams=gridAttributeParamMap[j];var strAttName=$(gridAttributeParams).children("[id=cxGridAttributeAttName]").html();attArray=grandChildAttrArray[gridPortId];var bNewAtt=true;for(var k=0;k<attArray.length;k++){if(strAttName===attArray[k]){bNewAtt=false;break}}if(bNewAtt){attArray.push(strAttName)}}}function ParseGridUIProp(sGridBegin,sGridEnd){var tmpStr="";var tmpArr=new Array();tmpStr=sGridBegin.substring(sGridBegin.indexOf("{")+1,sGridBegin.indexOf("}"));tmpArr=tmpStr.split(",");if(tmpArr.length!==2){return false}iRowStart=parseInt(tmpArr[0]);iColStart=parseInt(tmpArr[1]);if((iRowStart<1)||(iColStart<1)||(iColStart>iNumofCol)){return false}tmpStr=sGridEnd.substring(sGridEnd.indexOf("{")+1,sGridEnd.indexOf("}"));tmpArr=tmpStr.split(",");if(tmpArr.length!==2){return false}iRowEnd=parseInt(tmpArr[0]);iColEnd=parseInt(tmpArr[1]);if((iRowEnd<1)||(iColEnd<1)||(iColEnd>iNumofCol)){return false}if((iRowStart>iRowEnd)||(iColStart>iColEnd)){return false}return true}function SetToNextAvailableCell(){var bFindNext=false;var curRow=iCurRow;var curCol=iCurCol;while(!bFindNext){if(typeof(FilledGridMap[curRow-1])==="undefined"){bFindNext=true;break}for(var i=0;i<FilledGridMap[curRow-1].length;i++){if(FilledGridMap[curRow-1][i].iEnd<=curCol){continue}if(FilledGridMap[curRow-1][i].iStart-curCol>1){bFindNext=true;break}else{curCol=FilledGridMap[curRow-1][i].iEnd}}if(!bFindNext){if(curCol<iNumofCol){bFindNext=true;break}else{curRow++;curCol=0}}}iRowStart=iRowEnd=curRow;iColStart=iColEnd=curCol+1}function IsConflictDef(){if((iRowStart<iCurRow)||((iRowStart===iCurRow)&&(iColStart<=iCurCol))){return true}if(typeof(FilledGridMap[iRowStart-1])!=="undefined"){for(var i=0;i<FilledGridMap[iRowStart-1].length;i++){var unitColStart=FilledGridMap[iRowStart-1][i].iStart;var unitColEnd=FilledGridMap[iRowStart-1][i].iEnd;if(((iColStart<=unitColStart)&&((iColEnd>=unitColStart)&&(iColEnd<=unitColEnd)))||((iColEnd>=unitColEnd)&&((iColStart>=unitColStart)&&(iColStart<=unitColEnd)))||((iColStart>=unitColStart)&&(iColEnd<=unitColEnd))||((iColStart<=unitColStart)&&(iColEnd>=unitColEnd))){return true}}}return false}function DecideCtrlLocation(){if((!bCorrectUIPropSyntax)||(IsConflictDef.call(this))){SetToNextAvailableCell.call(this)}iRowSpan=iRowEnd-iRowStart+1;iColSpan=iColEnd-iColStart+1}function occupiedUnit(iStart,iEnd){this.iStart=iStart;this.iEnd=iEnd}function sortGrid(a,b){return a.iStart-b.iStart}function UpdateGridMap(){for(var i=0;i<iRowSpan;i++){if(typeof(FilledGridMap[iCurRow+i-1])==="undefined"){FilledGridMap[iCurRow+i-1]=new Array()}var newUnit=new occupiedUnit(iColStart,iColEnd);FilledGridMap[iCurRow+i-1].push(newUnit);FilledGridMap[iCurRow+i-1].sort(sortGrid)}iCurCol=iColEnd}function PopulateTD(rowSpan,colSpan,cellClass){var strHTML="";strHTML=generateCfgOuterHTML($(generateCfgHTMLMarkup({type:"div",className:cellClass+" div-table-col",attrs:" rowspan='"+rowSpan+"' colspan='"+colSpan})).append(generateCfgHTMLMarkup({type:"div",className:"eCfgGroupGridLayoutJS_OUI_Cell"})));strHTML="<div class='"+cellClass+" div-table-col' rowspan='"+rowSpan+"' colspan='"+colSpan+"'><div id='eCfgGroupGridLayoutJS_OUI_Cell'></div>";return strHTML}function FillInEmptyCell(ToRow,ToCol){var strHTML="";var empColSpan=1;while(iCurRow<ToRow){if(typeof(FilledGridMap[iCurRow-1])==="undefined"){strHTML+=PopulateTD.call(this,1,iNumofCol);strHTML=strHTML.slice(0,strHTML.lastIndexOf("<div"));strHTML+="&nbsp;</div>"}else{for(var i=0;i<FilledGridMap[iCurRow-1].length;i++){if(FilledGridMap[iCurRow-1][i].iEnd<=iCurCol){continue}empColSpan=FilledGridMap[iCurRow-1][i].iStart-iCurCol-1;if(empColSpan>0){strHTML+=PopulateTD.call(this,1,empColSpan);strHTML=strHTML.slice(0,strHTML.lastIndexOf("<div"));strHTML+="&nbsp;</div>"}iCurCol=FilledGridMap[iCurRow-1][i].iEnd}empColSpan=iNumofCol-iCurCol;if(empColSpan>0){strHTML+=PopulateTD.call(1,empColSpan);strHTML=strHTML.slice(0,strHTML.lastIndexOf("<div"));strHTML+="&nbsp;</div>"}}strHTML+="</div><div class='div-table-row'>";iCurRow++;iCurCol=0}if(typeof(FilledGridMap[iCurRow-1])==="undefined"){empColSpan=ToCol-iCurCol-1;if(empColSpan>0){strHTML+=PopulateTD.call(this,1,empColSpan);strHTML=strHTML.slice(0,strHTML.lastIndexOf("<div"));strHTML+="&nbsp;</div>";iCurCol=ToCol-1}}else{for(var i=0;i<FilledGridMap[iCurRow-1].length;i++){if(FilledGridMap[iCurRow-1][i].iEnd<=iCurCol){continue}if(FilledGridMap[iCurRow-1][i].iStart>ToCol){break}empColSpan=FilledGridMap[iCurRow-1][i].iStart-iCurCol-1;if(empColSpan>0){strHTML+=PopulateTD.call(this,1,empColSpan);strHTML=strHTML.slice(0,strHTML.lastIndexOf("<div"));strHTML+="&nbsp;</div>"}iCurCol=FilledGridMap[iCurRow-1][i].iEnd}empColSpan=ToCol-iCurCol-1;if(empColSpan>0){strHTML+=PopulateTD.call(this,1,empColSpan);strHTML=strHTML.slice(0,strHTML.lastIndexOf("<div"));strHTML+="&nbsp;</div>";
iCurCol=ToCol-1}}return strHTML}}function _ShowCfgMenuLayout(){var pm=this.GetPM();var appletPlaceHolder="#s_"+pm.Get("GetFullId")+"_div";var menuButtonHTML=$(appletPlaceHolder).find('div[id="cxCfgMenuButtonHTMLTemplate"]').html();$(appletPlaceHolder).find('div[id="cxCfgHTMLTemplate"]').empty();var sCustomizeLabel=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CXP_UI_CUSTOMIZE");var sExplanationLabel=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CXP_UI_EXPLANATION");var sEditFieldLabel=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CXP_UI_EDITFIELD");var sRemoveLabel=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CXP_UI_REMOVE");var templateVariables=this.GetPM().Get("TemplateVariables");pm.AddProperty("Menu_PositionInit",false);pm.AddProperty("Menu_CurrentRel",1);pm.AddProperty("Menu_VisibleRelArray",new Array());pm.AddProperty("Menu_VisibleArrayIndex",0);pm.AddProperty("Menu_RelationshipMap",new Array());pm.AddProperty("Menu_XPos",0);pm.AddProperty("Menu_YPos",0);pm.AddProperty("Menu_Height",0);pm.AddProperty("Menu_Width",0);pm.AddProperty("Menu_SummaryLink","");pm.AddProperty("Menu_SummaryVisible",false);pm.AddProperty("Menu_ShowSummary",false);pm.AddProperty("Menu_Error",false);pm.AddProperty("Menu_HelpVisible",false);pm.AddProperty("Menu_CurrentVisible",0);pm.AddProperty("Menu_CurrentProduct",$("[name=cxCurrentProduct]").text());pm.AddProperty("Menu_Show",false);pm.AddProperty("Menu_StoredProduct",_menuGetProduct.call(this));pm.AddProperty("Menu_Counter",0);var positionInit=pm.Get("Menu_PositionInit");var currentRel=pm.Get("Menu_CurrentRel");var visibleRelArray=pm.Get("Menu_VisibleRelArray");var visibleArrayIndex=pm.Get("Menu_VisibleArrayIndex");var relationshipMap=pm.Get("Menu_RelationshipMap");var xPos=pm.Get("Menu_XPos");var yPos=pm.Get("Menu_YPos");var iHeight=pm.Get("Menu_Height");var iWidth=pm.Get("Menu_Width");var summaryLink=pm.Get("Menu_SummaryLink");var summaryVisible=pm.Get("Menu_SummaryVisible");var bShowSummary=pm.Get("Menu_ShowSummary");var bError=pm.Get("Menu_Error");var helpVisible=pm.Get("Menu_HelpVisible");var currentVisible=pm.Get("Menu_CurrentVisible");var currentProduct=pm.Get("Menu_CurrentProduct");var bShow=pm.Get("Menu_Show");var storedProduct=pm.Get("Menu_StoredProduct");var iCounter=pm.Get("Menu_Counter");if(storedProduct!==currentProduct){_menuSetProduct.call(this,currentProduct);_menuSetCurrentVisible.call(this,0)}else{currentVisible=_menuGetCurrentVisible.call(this);pm.SetProperty("Menu_CurrentVisible",currentVisible)}var menuVariables=$("[name=cxMenuVariable]");for(var i=0;i<menuVariables.length;i++){var strName=menuVariables.eq(i).attr("varName");var strValue=menuVariables.eq(i).html();templateVariables[strName]=strValue}iCounter=0;var menuGroups=$("[name=cxMenuGroup]");for(var i=0;i<menuGroups.length;i++){var menuGroup=menuGroups.eq(i);var sGroupName=menuGroup.find("[name=cxMenuGroupName]").html();var sIsCurrentGroup=menuGroup.find("[name=cxIsCurrentGroup]").html();var sGroupId=menuGroup.find("[name=cxGroupId]").html();iCounter++;pm.SetProperty("Menu_Counter",iCounter);if(sGroupName==="&nbsp;"||sGroupName===""||sGroupName.indexOf("Summary")!=-1){if(sIsCurrentGroup==="N"){var methodName="ChangeCurrentObj";var methodParamPropSet=CCFMiscUtil_CreatePropSet();var methodParam="";methodParamPropSet.SetType("Group");methodParamPropSet.SetProperty("CxGroupId",sGroupId);methodParam=methodParamPropSet.EncodeAsString();methodName=methodName+"_"+methodParam;summaryLink='javascript:_menuChooseGroup.call( this, "'+methodName+'",'+currentRel+")";pm.SetProperty("Menu_SummaryLink",summaryLink)}else{bShowSummary=true;pm.SetProperty("Menu_ShowSummary",bShowSummary)}}}var menuRelationships=$("[name=cxMenuRelationship]");var _greenBullet=templateVariables._greenBullet;var _blackBullet=templateVariables._blackBullet;for(var i=0;i<menuRelationships.length;i++){var menuRelationship=menuRelationships.eq(i);var menuPorts=menuRelationship.find("[name=cxMenuPort]");for(var j=0;j<menuPorts.length;j++){var menuPort=menuPorts.eq(j);var bIsSelected=(menuPort.parent().find("[id=eCfg_MenuProductThemeJS_PUI_1]").length===0)?false:true;var sPortName=$.trim(menuPort.find("[name=sPortName]").html());var sAttName=$.trim(menuPort.find("[name=sAttName]").html());var sPortId=$.trim(menuPort.find("[name=sPortId]").html());var sHasChild=$.trim(menuPort.find("[name=sHasChild]").html());var sGroupId2=$.trim(menuPort.find("[name=sGroupId]").html());if(sPortName===""&&sAttName===""&&sPortId===""){break}if(sPortName===""){sPortName=sAttName;sPortId=sAttName}if(sPortId!==""){relationshipMap[sPortId]=currentRel}if(bIsSelected){visibleRelArray[visibleArrayIndex]=currentRel;visibleArrayIndex++;pm.SetProperty("Menu_VisibleRelArray",visibleRelArray);pm.SetProperty("Menu_VisibleArrayIndex",visibleArrayIndex);var element=$(menuButtonHTML);element.attr("id","MENUBUTTON_"+sPortId);element.find("a").html(sPortName);element.appendTo(menuPort.parent());menuPort.parent().find("[id^=eCfg_MenuProductThemeJS_PUI]").empty();element.find("a").bind("click",{ctx:this,ctrlCurrentRel:currentRel},function(event){setTimeout(function(){_menuToggleContent.call(event.data.ctx,event.data.ctrlCurrentRel)},0)});this.InjectQTPInfo(element.find("a"),"MENUBUTTON")}else{var methodName="ChangeCurrentObj";var methodParamPropSet=CCFMiscUtil_CreatePropSet();methodParamPropSet.SetType("Group");methodParamPropSet.SetProperty("CxGroupId",sGroupId2);methodName=methodName+"_"+methodParamPropSet.EncodeAsString();var element=$(menuButtonHTML);element.attr("id","MENUBUTTON_"+sPortId);element.find("a").html(sPortName);element.appendTo(menuPort.parent());menuPort.parent().find("[id^=eCfg_MenuProductThemeJS_PUI]").empty();element.find("a").bind("click",{ctx:this,ctrlName:methodName,ctrlCurrentRel:currentRel},function(event){setTimeout(function(){_menuChooseGroup.call(event.data.ctx,event.data.ctrlName,event.data.ctrlCurrentRel)},0)});this.InjectQTPInfo(element.find("a"),"MENUBUTTON")}if((sPortId===null)||(sPortId==="undefined")){SiebelJS.Log("CFG MENU ALERT: PortId is UNDEFINED")}var greenButtonId="MENUBUTTON_"+sPortId;var menuButtonElement=$("#"+jqSelector(greenButtonId));if(String(sHasChild).toUpperCase()==="N"||sHasChild==="No"){$(_greenBullet).prependTo(menuButtonElement)}else{$(_blackBullet).prependTo(menuButtonElement)}currentRel++;pm.SetProperty("Menu_CurrentRel",currentRel)}}currentRel=0;pm.SetProperty("Menu_CurrentRel",0);var menuContents=$("[name=cxMenuContent]");for(var i=0;i<menuContents.length;i++){menuContents.eq(i).attr("id","Rel_"+visibleRelArray[i])}var menuControlCaptions=$("[name=cxMenuControlCaption]");for(var i=0;i<menuControlCaptions.length;i++){var menuControlCaptionElement=menuControlCaptions.eq(i);var menuControlParams=menuControlCaptionElement.find("[name=cxMenuControlCaptionParam]");var sImage=$.trim(menuControlParams.find("[name=sImage]").html());var sDescription=$.trim(menuControlParams.find("[name=sDescription]").html());var sLearnMoreURL=$.trim(menuControlParams.find("[name=sLearnMoreURL]").html());
var sPortName=$.trim(menuControlParams.find("[name=sPortName]").html());var sLearnMore=$.trim(menuControlParams.find("[name=sLearnMore]").html());var sRequireMoreChild=$.trim(menuControlParams.find("[name=sRequireMoreChild]").html());var iImageRowSpan=2;var bText=true;var strSectionClass="";var strHTML="";if(sImage.length===0){sImage="InvisibleSpacer"}if((sDescription.length===0)&&(sLearnMoreURL.length===0)){iImageRowSpan=1;bText=false}strSectionClass=(bText)?"eCfgdCCSection0":"eCfgdCCSection0if";strHTML="<tr><td class='"+strSectionClass+"'><strong>"+sPortName+"</strong>"+sRequireMoreChild+"</td><td class='eCfgdCCSection1' rowspan='"+iImageRowSpan+"'>"+generateCfgImageMarkup.call(this,sImage)+"</td></tr>";menuControlCaptionElement=$(strHTML);if(bText){menuControlCaptionElement.append($("<tr><td class='eCfgdCCSection2'/></tr>").append((sDescription.length!==0)?($(generateCfgHTMLMarkup({type:"div",className:"eCfgAuxText"})).append(sDescription+"&nbsp;&nbsp;").append((sDescription.length!==0)?$(generateCfgHTMLMarkup({type:"a",attrs:" target='_blank'"})).append(sLearnMore):"")):"").append((sLearnMoreURL.length!==0)?generateCfgImageMarkup.call(this,"InvisibleSpacer"):""))}}var menuGroupSummaryPorts=$("[name=cxMenuGroupSummaryPort]");for(var i=0;i<menuGroupSummaryPorts.length;i++){var relationshipMap=pm.Get("Menu_RelationshipMap");var menuGroupSummaryPortElement=menuGroupSummaryPorts.eq(i);var menuGroupSummaryPortParams=menuGroupSummaryPortElement.find("[name=cxMenuGroupSummaryPortParam]");var sHasGroup=$.trim(menuGroupSummaryPortParams.find("[name=hasGroup]").html());var sAttName=$.trim(menuGroupSummaryPortParams.find("[name=sAttName]").html());var sPortName=$.trim(menuGroupSummaryPortParams.find("[name=sPortName]").html());var sGroupId=$.trim(menuGroupSummaryPortParams.find("[name=sGroupId]").html());var sPortId=$.trim(menuGroupSummaryPortParams.find("[name=sPortId]").html());var bIsAttr=(sAttName.length!==0)?true:false;if(sHasGroup==="Y"){var sRelIndex=-1;if(bIsAttr){sRelIndex=relationshipMap[sAttName]}else{sRelIndex=relationshipMap[sPortId]}var methodName="ChangeCurrentObj";var methodParamPropSet=CCFMiscUtil_CreatePropSet();var methodParam;methodParamPropSet.SetType("Group");methodParamPropSet.SetProperty("CxGroupId",sGroupId);methodParam=methodParamPropSet.EncodeAsString();methodName=methodName+"_"+methodParam;menuGroupSummaryPortElement.html($(generateCfgHTMLMarkup({type:"a"})).append((bIsAttr)?sAttName:sPortName));menuGroupSummaryPortElement.find("a").bind("click",{ctx:this,ctrlName:methodName,ctrlCurrentRel:sRelIndex},function(event){setTimeout(function(){_menuChooseGroup.call(event.data.ctx,event.data.ctrlName,event.data.ctrlCurrentRel)},0)});this.InjectQTPInfo(menuGroupSummaryPortElement)}else{if(bIsAttr){menuGroupSummaryPortElement.html(sAttName)}else{menuGroupSummaryPortElement.html(sPortName)}}}bShow=_menuGetSummaryFlag.call(this);pm.SetProperty("Menu_Show",bShow);if(bShowSummary===true&&bShow===true){_menuShowSummary.call(this)}else{_menuToggleContent.call(this,currentVisible)}var menuButton=$("[name=menuButtonShowMenu]");var menuSummaryButton=$("[name=menuButtonShowSummary]");var menuHelpButton=$("[name=menuButtonHelp]");menuButton.bind("click",{ctx:this},function(event){setTimeout(function(){_menuShowMenu.call(event.data.ctx)},0)});menuSummaryButton.bind("click",{ctx:this},function(event){setTimeout(function(){_menuShowSummary.call(event.data.ctx)},0)});menuHelpButton.bind("click",{ctx:this},function(event){setTimeout(function(){_menuShowHelp.call(event.data.ctx)},0)});this.InjectQTPInfo(menuButton);this.InjectQTPInfo(menuSummaryButton);this.InjectQTPInfo(menuHelpButton)}function _menuSetCurrentVisible(iCurrent){var pm=this.GetPM();if(typeof(pm.Get("Menu_CurrentVisibleJS"))==="undefined"){pm.AddProperty("Menu_CurrentVisibleJS",new Array())}pm.Get("Menu_CurrentVisibleJS")[pm.Get("Menu_CurrentProductJS")]=iCurrent}function _menuGetCurrentVisible(){var pm=this.GetPM();if(typeof(pm.Get("Menu_CurrentVisibleJS"))!=="undefined"){return pm.Get("Menu_CurrentVisibleJS")[pm.Get("Menu_CurrentProductJS")]}else{return(0)}}function _menuSetProduct(sCurrent){var pm=this.GetPM();if(typeof(pm.Get("Menu_CurrentProductJS"))==="undefined"){pm.AddProperty("Menu_CurrentProductJS",sCurrent)}else{pm.SetProperty("Menu_CurrentProductJS",sCurrent)}}function _menuGetProduct(){var pm=this.GetPM();return pm.Get("Menu_CurrentProductJS")}function _menuSetSummaryFlag(showSummary){var pm=this.GetPM();if(typeof(pm.Get("Menu_ShowSummaryJS"))==="undefined"){pm.AddProperty("Menu_ShowSummaryJS",showSummary)}else{pm.SetProperty("Menu_ShowSummaryJS",showSummary)}}function _menuGetSummaryFlag(){var pm=this.GetPM();return pm.Get("Menu_ShowSummaryJS")}function _menuChooseGroup(methodName,iCurrent){_menuSetCurrent.call(this,iCurrent,true);this.GetPM().ExecuteMethod("CfgInvokeMethod",methodName,null)}function _menuSetCurrent(iCurrent,bTopFrameOnly){var pm=this.GetPM();if(!bTopFrameOnly){pm.SetProperty("Menu_CurrentVisible",iCurrent)}_menuSetCurrentVisible.call(this,iCurrent)}function _menuShowHelp(){var pm=this.GetPM();var helpVisible=pm.Get("Menu_HelpVisible");var helpElement=$("#HELP_BOX");if(helpVisible===false){var xPos,yPos;var helpPosElement=$("#HELP_POS");xPos=helpPosElement.offset().left;yPos=helpPosElement.offset().top;helpElement.show();helpVisible=true}else{helpElement.hide();helpVisible=false}pm.SetProperty("Menu_HelpVisible",helpVisible)}function _menuShowContent(element){var pm=this.GetPM();var positionInit=pm.Get("Menu_PositionInit");var xPos=pm.Get("Menu_XPos");var yPos=pm.Get("Menu_YPos");var iWidth=pm.Get("Menu_Width");var iHeight=pm.Get("Menu_Height");if(positionInit===true){element.show()}}function _menuHideContent(element){element.hide()}function _menuSetVars(){var pm=this.GetPM();var topLeftElement=$("#Rel_REF");var bottomRightElement=$("#POSITION_REF");var xPos=0;var yPos=0;var iHeight=0;var iWidth=0;if(topLeftElement.length>0){xPos=topLeftElement.offset().left;yPos=topLeftElement.offset().top}if(bottomRightElement.length>0){iHeight=bottomRightElement.offset().top-yPos;iWidth=bottomRightElement.offset().left-xPos}pm.SetProperty("Menu_PositionInit",true);pm.SetProperty("Menu_XPos",xPos);pm.SetProperty("Menu_YPos",yPos);pm.SetProperty("Menu_Height",iHeight);pm.SetProperty("Menu_Width",iWidth)}function _menuShowMenu(){var pm=this.GetPM();var currentVisible=pm.Get("Menu_CurrentVisible");var positionInit=pm.Get("Menu_PositionInit");var summaryVisible=pm.Get("Menu_SummaryVisible");var bError=pm.Get("Menu_Error");if(bError===false){_menuSetSummaryFlag.call(this,false);var element;if(positionInit===false){_menuSetVars.call(this)}if(summaryVisible===true){element=$("#SUMMARY");summaryVisible=false;pm.SetProperty("Menu_SummaryVisible",summaryVisible)}else{element=$("#Rel_"+jqSelector(String(currentVisible)))}if(element.length>0){_menuHideContent.call(this,element)}_menuSetCurrent.call(this,0,false);_menuToggleContent.call(this,0)}}function _menuShowSummary(){var pm=this.GetPM();var positionInit=pm.Get("Menu_PositionInit");
var summaryLink=pm.Get("Menu_SummaryLink");var summaryVisible=pm.Get("Menu_SummaryVisible");var bError=pm.Get("Menu_Error");var xPos=pm.Get("Menu_XPos");var yPos=pm.Get("Menu_YPos");var iHeight=pm.Get("Menu_Height");var iWidth=pm.Get("Menu_Width");var currentVisible=pm.Get("Menu_CurrentVisible");if(bError===false){_menuSetSummaryFlag.call(this,true);if(summaryLink===""){if(summaryVisible===false){if(positionInit===false){_menuSetVars.call(this)}var summaryElement=$("#SUMMARY");var oldElement=$("#Rel_"+jqSelector(String(currentVisible)));if(oldElement.length>0){_menuHideContent.call(this,oldElement)}var menuElement=$("#Rel_0");if(menuElement.length>0){_menuHideContent.call(this,menuElement)}_menuSetCurrent.call(this,0,false);summaryElement.show();summaryVisible=true;pm.SetProperty("Menu_SummaryVisible",summaryVisible)}}else{var inPS;var strInputArgs;var strInvokeMethod;inPS=CCFMiscUtil_CreatePropSet();inPS.SetProperty("RequestType","CloseExplanation");strInputArgs=inPS.EncodeAsString();strInvokeMethod="SubmitRequest_"+strInputArgs;this.GetPM().ExecuteMethod("SubmitWithFrame",strInvokeMethod,"HiddenFrame");eval(summaryLink)}}}function _menuToggleContent(index){var pm=this.GetPM();var positionInit=pm.Get("Menu_PositionInit");var currentVisible=pm.Get("Menu_CurrentVisible");if(positionInit===false){_menuSetVars.call(this)}if(currentVisible!==index){var oldElement=$("#Rel_"+jqSelector(String(currentVisible)));if(oldElement.length>0){_menuHideContent.call(this,oldElement)}}if(currentVisible!==0&&index!==0){var menuElement=$("#Rel_0");if(menuElement.length>0){_menuHideContent.call(this,menuElement)}}var newElement=$("#Rel_"+String(index));if(newElement.length>0){_menuShowContent.call(this,newElement);_menuSetCurrent.call(this,index,false)}}function showMenuSignal(id){var pm=this.GetPM();var controlPS=pm.Get("ControlPS");var expl="";var iCount=0;var spanObj=null;var trArray=null;var propSet=null;var signalPropSet=null;var spanElement;var tableElement;var rowElement;var colElement;propSet=controlPS.GetChildByType(id);if(id==="CfgGlobalSignal"){signalPropSet=propSet.GetChildByType("$.Signal")}else{signalPropSet=propSet.GetChildByType("Signal")}if(signalPropSet!==null&&signalPropSet.GetPropertyCount()>0){iCount=signalPropSet.GetPropertyCount();spanElement=$("#SPAN_"+jqSelector(id));spanElement.empty();tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:id,attrs:" datatable='0' summary=''"}));tableElement.appendTo(spanElement);for(var i=0;i<iCount;i++){expl="";expl=signalPropSet.GetProperty(i.toString());rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:expl}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(generateCfgImageMarkup.call(this,"GreenBullet"));colElement.appendTo(rowElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",attrs:"colspan='2'"})).append(expl);colElement.appendTo(rowElement)}}if(signalPropSet!==null&&signalPropSet.GetChildCount()>0){iCount=signalPropSet.GetChildCount();spanElement=$("#SPAN_"+jqSelector(id));spanElement.empty();tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:id,attrs:" datatable='0' summary=''"}));tableElement.appendTo(spanElement);for(var i=0;i<iCount;i++){var childPS=signalPropSet.GetChild(i);for(var j=0;j<childPS.GetChildCount();j++){var ps=childPS.GetChild(j);var propName="";for(var bFirst=true;propName=ps.EnumProperties(bFirst);bFirst=false){expl="";expl=(ps.GetProperty(propName)==="")?propName:ps.GetProperty(propName);rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:expl}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(generateCfgImageMarkup.call(this,"GreenBullet"));colElement.appendTo(rowElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",attrs:"colspan='2'"})).append(expl);colElement.appendTo(rowElement)}}}}}function updateMenuSignal(sigPropSet){var addPS=null;var bGetFirst=true;var delPS=null;var tdObj=null;var trObj=null;var tableObj=null;var type="";var spanId="";var propName;var tableElement=null;var rowElement;var colElement;type=sigPropSet.GetType();if(type==="Signal"){tableElement=$("#CfgSignal");if(tableElement.length===0){tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:"CfgSignal",attrs:" datatable='0' summary='' "}));spanElement=$("#SPAN_CfgSignal");tableElement.appendTo(spanElement)}}else{if(type==="$.Signal"){tableElement=$("#CfgGlobalSignal");if(tableElement.length===0){tableElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table",id:"CfgGlobalSignal",attrs:" datatable='0' summary='' "}));spanElement=$("#SPAN_CfgGlobalSignal");tableElement.appendTo(spanElement)}}}addPS=sigPropSet.GetChildByType("Add");if(addPS!==null){if(tableElement!==null){for(bGetFirst=true;(propName=addPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){spanId=null;spanId=(addPS.GetProperty(propName)==="")?propName:addPS.GetProperty(propName);if(spanId!==null){rowElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-row",id:propName}));rowElement.appendTo(tableElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col"})).append(generateCfgImageMarkup.call(this,"GreenBullet"));colElement.appendTo(rowElement);colElement=$(generateCfgHTMLMarkup({type:"div",className:"div-table-col",attrs:" colspan='2'"})).append(spanId);colElement.appendTo(rowElement)}}}}delPS=sigPropSet.GetChildByType("Delete");if(delPS!==null){for(bGetFirst=true;(propName=delPS.EnumProperties(bGetFirst))!==null;bGetFirst=false){spanId=null;spanId=(delPS.GetProperty(propName)==="")?propName:delPS.GetProperty(propName);if(spanId!==null){rowElement=$("#"+jqSelector(spanId));rowElement.remove()}}}}function generateCfgSelectHTMLMarkup(config){var htmlCfg={};var ctrlMark="";var customClassName=[];var customIds=[];var customAttrs=[];var aryOptions=[];htmlCfg.type=consts.get("SWE_CTRL_COMBOBOX");htmlCfg.className=(config.className?config.className:"");htmlCfg.id=(config.id?config.id:"");htmlCfg.attrs=(config.attrs?config.attrs:"");if(config.options&&config.options.length){htmlCfg.value=[];htmlCfg.displayValue=[];for(var i=0,len=config.options.length;i<len;i++){htmlCfg.value.push(config.options[i].value);htmlCfg.displayValue.push(config.options[i].displayValue?config.options[i].displayValue:" ");customClassName[i]=(config.options[i].className?config.options[i].className:"");customAttrs[i]=(config.options[i].attrs?config.options[i].attrs:"");customIds[i]=(config.options[i].id?config.options[i].id:"");if(config.options[i].attrs&&config.options[i].attrs.match(/selected/i)){htmlCfg.index=i}}}ctrlMark=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup(htmlCfg);aryOptions=ctrlMark.split("<option ");if(aryOptions.length===customClassName.length+1){for(var i=1,len=aryOptions.length;i<len;i++){aryOptions[i]=" class='"+customClassName[i-1]+"' id='"+customIds[i-1]+"' "+customAttrs[i-1]+" "+aryOptions[i]
}ctrlMark=aryOptions.join("<option ")}return ctrlMark}function generateCfgOuterHTML(config){var html="";if(config){html=$("<div/>").append($(config).clone()).html()}return html}function generateCfgHTMLMarkup(config){var CfgHTMLMarkup="";switch(config.type){case"a":case"div":case"span":case"td":case"tr":CfgHTMLMarkup="<"+config.type;if(config.className){CfgHTMLMarkup+=" class='"+config.className+"'"}if(config.id){CfgHTMLMarkup+=" id='"+config.id+"'"}if(config.attr){CfgHTMLMarkup+=" "+config.attr}if(config.type==="a"){CfgHTMLMarkup+=" href='"+((config.href)?config.href:"javascript:void(0);")+"'"}CfgHTMLMarkup+=" />";break;default:CfgHTMLMarkup="";break}return CfgHTMLMarkup}function generateCfgImageMarkup(imageCode){var pm=this.GetPM();var imageFile=_cfgImageMapping[imageCode];var CfgImageMarkup="";switch(imageCode){case"WhiteSpace":CfgImageMarkup="&nbsp;";break;case"NewHeader":CfgImageMarkup=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_IMAGECONTROL"),src:(pm.Get("NewHeaderImage"))?pm.Get("NewHeaderImage"):imageFile.src,});break;case"Required":CfgImageMarkup=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_PLAINTEXT"),className:"siebui-icon-alert eCfgSpanWarning",});break;default:CfgImageMarkup=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:consts.get("SWE_CTRL_IMAGECONTROL"),src:(imageFile)?imageFile.src:imageCode,});break}return CfgImageMarkup}function generateCfgIconMarkup(className){return"<i class='"+className+"'/>"}return ConfiguratorRenderer}());define("siebel/cfgrenderer",[],function(){return SiebelAppFacade.ConfiguratorRenderer})}function jqSelector(a){if(a){return a.replace(/([ ~!@#$%^&*|+=;:",.<>()^$\`\'\-\{\}\[\]\\\/\?])/g,"\\$1")}else{return a}};