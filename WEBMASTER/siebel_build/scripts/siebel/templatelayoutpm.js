/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2014
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET7 */
if(typeof(SiebelAppFacade.TemplateLayoutPM)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.TemplateLayoutPM");define("siebel/templatelayoutpm",[],function(){SiebelAppFacade.TemplateLayoutPM=(function(){var p=SiebelJS.Dependency("SiebelApp.Constants");var j=p.get("SWE_EXTN_CANCEL_ORIG_OP");var t=p.get("SWE_EXTN_RETVAL");var o=p.get("SWE_EXTN_STOP_PROP_OP");function d(z){SiebelAppFacade.TemplateLayoutPM.superclass.constructor.call(this,z)}SiebelJS.Extend(d,SiebelAppFacade.PresentationModel);d.prototype.Init=function(){SiebelAppFacade.TemplateLayoutPM.superclass.Init.call(this,arguments);this.AddProperty("contentControl",null);this.AddProperty("contentDropdownControl",null);this.AddProperty("layoutControl",null);this.AddProperty("layoutDropdownControl",null);this.AddProperty("contentDisplayArray",[]);this.AddProperty("contentFieldArray",[]);this.AddProperty("layoutDisplayArray",[]);this.AddProperty("layoutFieldArray",[]);this.AddProperty("layoutDisplayArrayM",[]);this.AddProperty("layoutFieldArrayM",[]);this.AddProperty("defWidth",200);this.AddProperty("extWidth",50);this.AddProperty("IsContentEmpty",false);this.AddProperty("selContentDisplay","");this.AddProperty("strExt","-");this.AddProperty("comma",",");this.AddProperty("mapDisplayExt",{});this.AddProperty("mapFieldValue",{});this.AddMethod("InvokeMethod",y,{scope:this,sequence:true});this.AddMethod("SetContentCtl",v);this.AddMethod("SetLayoutCtl",u);this.AddMethod("GetComboSize",h);this.AddMethod("GetComboHtmlAttr",m);this.AddMethod("SetDisplayExtMap",i);this.AddMethod("GetDisplayExt",x);this.AddMethod("RemoveDisplayExt",f);this.AddMethod("SaveOrigFieldValue",q);this.AddMethod("GetOrigFieldValue",c);this.AddMethod("GetLayoutPS",s);this.AddMethod("AddItem",e);this.AddMethod("AddAllItems",b);this.AddMethod("AddItemsToLayout",r);this.AddMethod("ResetLayout",n);this.AddMethod("SaveTemplate",g);this.AddMethod("MoveItemEnd",k);this.AddMethod("MoveItem",a);this.AddMethod("SetLayoutList",l);this.AddMethod("ChangeContentList",w);this.AttachEventHandler("ToggleContentList",function(z){this.ExecuteMethod("ChangeContentList",z)},{core:true})};function v(A,C,z,B){this.SetProperty("contentControl",A);this.SetProperty("contentDropdownControl",C);this.SetProperty("contentDisplayArray",z);this.SetProperty("contentFieldArray",B);return}function u(z,C,A,B){this.SetProperty("layoutControl",z);this.SetProperty("layoutDropdownControl",C);this.SetProperty("layoutDisplayArray",A);this.SetProperty("layoutFieldArray",B);this.SetProperty("layoutDisplayArrayM",this.Get("layoutDisplayArray").slice(0));this.SetProperty("layoutFieldArrayM",this.Get("layoutFieldArray").slice(0));return}function h(C){var E=this.Get("defWidth");var B=this.Get("extWidth");var A=this.ExecuteMethod("GetComboHtmlAttr","height",C);var D=this.ExecuteMethod("GetComboHtmlAttr","width",C);var z=[];if(D<=0){D=E}if(A<=0){A=D}D+=B;z.push(A.toString()+"px");z.push(D.toString()+"px");return z}function m(F,B){var E="0";var H=0;var A=[];if(!F||!B){return H}var z=F+"=";var C=B.slice(0);C=C.trim().toLowerCase();if(C.indexOf(z)>=0){A=C.split(" ");for(var D=0;D<A.length;D++){var G=A[D].search(z);if(G>=0){E=A[D].substring(G+z.length,A[D].length);break}}}E=E.replace(/"/g,"");H=Number(E);return H}function i(){var D=this.Get("contentDisplayArray");var A=this.Get("layoutDisplayArrayM");var C=this.Get("mapDisplayExt");for(var B=0;B<D.length;B++){var z=A.indexOf(D[B]);if(z<0){C[D[B]]=""}else{C[D[B]]="0"}}this.SetProperty("mapDisplayExt",C)}function x(C){var A=this.Get("mapDisplayExt");var D=this.Get("strExt");var H=this.Get("comma");var z="";var F=A[C];if(!F){z="";A[C]="0"}else{var B=F.split(H);B.sort(function(J,I){return I-J});var E=Number(B[0]);E++;if(E>0){z=D+E.toString()}var G=F+H+E.toString();A[C]=G}this.SetProperty("mapDisplayExt",A);return z}function f(E){var A=this.Get("mapDisplayExt");var F=this.Get("strExt");var H=this.Get("comma");var B=E.lastIndexOf(F);var D="";var z="";if(B<0){D=E;z="0"}else{D=E.substring(0,B);z=E.substring(B+1)}var G=A[D];if(!G){return}var C=G.split(H);B=C.indexOf(z);if(B<0){return}C.splice(B,1);A[D]=C.toString();this.SetProperty("mapDisplayExt",A);return}function q(A,B){var z=this.Get("mapFieldValue");z[B]=A;this.SetProperty("mapFieldValue",z);return}function c(A){var z=this.Get("mapFieldValue");var B=z[A];if(!B){B=A}return B}function s(){var A=this.Get("layoutDisplayArrayM");var z=this.Get("layoutFieldArrayM");var D=CCFMiscUtil_CreatePropSet();for(var B=0;B<A.length;B++){var C=CCFMiscUtil_CreatePropSet();C.SetProperty("DisplayName",A[B]);C.SetProperty("FieldValue",z[B]);D.AddChild(C)}return D}function l(B){var A=this.Get("layoutControl");var C=this.Get("layoutDropdownControl");if(!A||!C){return}var D=this.ExecuteMethod("GetLayoutPS");A.SetRadioGroupPropSet(D);var z=A.GetIndex();C.SetValue(B,z);return}function e(){var A=this.Get("contentControl");var z=this.Get("contentFieldArray");if(!A){return}if(this.Get("IsContentEmpty")===true){return}var C=A.GetValue();var B=z.indexOf(C);if(B<0){return}this.ExecuteMethod("AddItemsToLayout",B,B);return}function b(){var B=this.Get("contentDisplayArray");if(this.Get("IsContentEmpty")===true){return}var z=0;var A=B.length-1;this.ExecuteMethod("AddItemsToLayout",z,A);return}function r(A,E){var H=this.Get("layoutControl");var B=this.Get("contentDisplayArray");var M=this.Get("contentFieldArray");var N=this.Get("layoutDisplayArrayM");var J=this.Get("layoutFieldArrayM");var O=CCFMiscUtil_CreatePropSet();if(!H){return}if(A<0||E<A||E>B.length-1){return}for(var G=A;G<=E;G++){var I=B[G];var L=M[G];var z=this.ExecuteMethod("GetDisplayExt",I);I=I+z;var D=L+z;this.ExecuteMethod("SaveOrigFieldValue",L,D);N.push(I);J.push(D)}if(N.length!==J.length){return}var F="";var K=H.GetValue();var C=J.indexOf(K);if(C>=0&&C<N.length){F=N[C]}this.SetProperty("layoutDisplayArrayM",N);this.SetProperty("layoutFieldArrayM",J);this.ExecuteMethod("SetLayoutList",F);return}function n(){var C=this.Get("layoutControl");var A=this.Get("layoutDisplayArray");var z=this.Get("layoutFieldArray");var G=this.Get("layoutDisplayArrayM");var D=this.Get("layoutFieldArrayM");var H=CCFMiscUtil_CreatePropSet();if(!C){return}var E=C.GetValue();var B="";var F=D.indexOf(E);if(F>=0&&F<G.length){B=G[F]}G=A.slice(0);D=z.slice(0);this.SetProperty("layoutDisplayArrayM",G);this.SetProperty("layoutFieldArrayM",D);this.ExecuteMethod("SetLayoutList",B);this.ExecuteMethod("SetDisplayExtMap");return}function g(D){var A=this.Get("layoutFieldArrayM");var z="";for(var B=0;B<A.length;B++){var C=this.ExecuteMethod("GetOrigFieldValue",A[B]);z=z+C+"\t"}D.SetProperty("SubmitLayout",z);return}function k(A){var D=this.Get("layoutControl");var J=this.Get("layoutDisplayArrayM");var G=this.Get("layoutFieldArrayM");var K=CCFMiscUtil_CreatePropSet();var z=[];var F=[];if(!D){return}var H=D.GetValue();var I=G.indexOf(H);if(I<0){return}var B="";if(A==="Top"){z.push(G[I]);F.push(J[I]);B=F[0]}for(var C=0;C<G.length;C++){if(C!==I){z.push(G[C]);F.push(J[C])}}if(A==="Bottom"){z.push(G[I]);F.push(J[I]);B=F[F.length-1]
}if(A==="Remove"){var E=J[I];this.ExecuteMethod("RemoveDisplayExt",E)}G=z.slice(0);J=F.slice(0);this.SetProperty("layoutDisplayArrayM",J);this.SetProperty("layoutFieldArrayM",G);this.ExecuteMethod("SetLayoutList",B);return}function a(z){var B=this.Get("layoutControl");var F=this.Get("layoutDisplayArrayM");var D=this.Get("layoutFieldArrayM");var I=CCFMiscUtil_CreatePropSet();if(!B){return}var E=B.GetValue();var G=D.indexOf(E);if(G<0){return}else{if(z==="Up"&&G===0){return}else{if(z==="Down"&&G>=D.length-1){return}}}var C=0;var A=F[G];if(z==="Up"){C=G}else{if(z==="Down"){C=G+1}else{return}}var H="";H=D[C-1];D[C-1]=D[C];D[C]=H;H=F[C-1];F[C-1]=F[C];F[C]=H;this.SetProperty("layoutDisplayArrayM",F);this.SetProperty("layoutFieldArrayM",D);this.ExecuteMethod("SetLayoutList",A);return}function w(J){var K=this.Get("contentControl");var z=this.Get("contentDropdownControl");var B=this.Get("contentDisplayArray");var L=this.Get("contentFieldArray");var G=this.Get("IsContentEmpty");var E=this.Get("selContentDisplay");var D=CCFMiscUtil_CreatePropSet();var A=K.GetIndex();if(!K||!z){return}var C="";if(J==="Y"){var I=K.GetValue();var M=L.indexOf(I);if(M>=0&&M<B.length){E=B[M]}this.SetProperty("selContentDisplay",E);G=true}else{for(var F=0;F<B.length;F++){var H=CCFMiscUtil_CreatePropSet();H.SetProperty("DisplayName",B[F]);H.SetProperty("FieldValue",L[F]);D.AddChild(H)}C=E;G=false}this.SetProperty("IsContentEmpty",G);K.SetRadioGroupPropSet(D);z.SetValue(C,A);return}function y(A,C,B){var z=arguments[arguments.length-1];if(!A){return}switch(A){case"AddItem":this.ExecuteMethod("AddItem");z[j]=true;z[t]=false;break;case"AddAllItems":this.ExecuteMethod("AddAllItems");z[j]=true;z[t]=false;break;case"MoveItemTop":this.ExecuteMethod("MoveItemEnd","Top");z[j]=true;z[t]=false;break;case"MoveItemUp":this.ExecuteMethod("MoveItem","Up");z[j]=true;z[t]=false;break;case"MoveItemDown":this.ExecuteMethod("MoveItem","Down");z[j]=true;z[t]=false;break;case"MoveItemBottom":this.ExecuteMethod("MoveItemEnd","Bottom");z[j]=true;z[t]=false;break;case"RemoveItem":this.ExecuteMethod("MoveItemEnd","Remove");z[j]=true;z[t]=false;break;case"ToggleList":z[j]=true;z[t]=false;break;case"ResetLayout":this.ExecuteMethod("ResetLayout");z[j]=true;z[t]=false;break;case"SaveTemplate":this.ExecuteMethod("SaveTemplate",C);break;case"CloseApplet":break;default:z[j]=true;z[t]=false;break}SiebelApp.S_App.uiStatus.Free();return}return d}());return SiebelAppFacade.TemplateLayoutPM})};